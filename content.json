{"pages":[{"title":"å…³äº","text":"è¿™é‡Œæ˜¯æ¥è‡ªHB è¥„é˜³å››ä¸­çš„é«˜ä¸€OIer zgjjjj çš„åšå®¢å‘¢~ UPDï¼šè¿™å¼±é¸¡é«˜äºŒäº†","link":"/about/index.html"},{"title":"åˆ†ç±»","text":"","link":"/categories/index.html"},{"title":"notes","text":"è¿™é‡Œä¼šæ”¾ä¸€äº›zgjjjè®°çš„å°çŸ¥è¯†ç‚¹~ $\\LaTeX$å…¬å¼å¤§å…¨ æ„Ÿè°¢åŸä½œè€…Iowa_BattleShip æ•°åˆ—$&lt;1, \\dbinom{c}{1}, \\dbinom{c + 1}{2}, \\dbinom{c + 2}{3}, \\cdots&gt;$çš„ç”Ÿæˆå‡½æ•°ä¸º$G(z) = \\frac{1}{(1-z) ^ c}$ è¯æ˜ï¼š ä»å³è¾¹è€ƒè™‘ï¼š $\\frac{1}{(1-z) ^ c} = (1 - z) ^ {-c}$ å¹¿ä¹‰äºŒé¡¹å¼å®šç†å±•å¼€ï¼š åŸå¼ $= \\sum\\limits_{k\\geq 0}^{\\infty}\\dbinom{-c}{k}\\times (-z) ^ k$ $= {\\sum\\limits_{k\\geq 0}^{\\infty} \\frac{(-c)^{\\underline{k}}}{k!}\\times (-1) ^ k \\times z ^ k} ^ {[1]}$ å…¶ä¸­ï¼š ${(-c)} ^ {\\underline{k}} $ $= (-c) \\times (-c - 1) \\times (-c - 2) \\times\\cdots\\times (-c - k + 1)$ $= (-1) ^ k \\times c\\times (c + 1) \\times (c + 2) \\times \\cdots \\times (c + k - 1)$ $= (-1) ^ k \\times (c + k - 1) ^ {\\underline{k}}$ ä»£å›åŸå¼ï¼š åŸå¼ $=\\sum\\limits_{k \\geq 0} ^ {\\infty}\\frac{(-1)^k\\times (c + k - 1) ^{\\underline{k}}}{k!} \\times (-1) ^ k \\times z ^ k$ $= \\sum\\limits_{k \\geq 0} ^ {\\infty}\\frac{(-1) ^ {2k} \\times (c + k - 1) ^ {\\underline{k}}}{k!} \\times z^k$ åˆå› ä¸ºï¼š $(-1)^{2k} = 1$ æ‰€ä»¥ï¼š åŸå¼$=\\sum\\limits_{k\\geq 0}^{\\infty}\\frac{(c + k - 1) ^ {\\underline{k}}}{k!}\\times z^k$ ç”±ç»„åˆæ•°æ¨å¹¿å®šä¹‰ï¼š åŸå¼$=\\sum\\limits_{k\\ge 0} ^ {\\infty} \\dbinom{c + k - 1}{k} \\times z ^ k$ æ˜¯ç”±å®šä¹‰å¾—åˆ°çš„åŸæ•°åˆ—çš„ç”Ÿæˆå‡½æ•°ã€‚ ${}^1a ^ {\\underline{k}} = \\prod\\limits_{i = 1} ^ {k} (a - i + 1)$","link":"/notes/index.html"},{"title":"æ ‡ç­¾","text":"","link":"/tags/index.html"},{"title":"","text":"Bookmark for NexT Introduce Bookmark is a plugin that allow the users save their reading position. The users could just click the bookmark icon (like ğŸ”–) in left-top of the page to save the position. And when they visit your blog in the next time, they can continue the last reading position by clicking the bookmark icon from the home page. Installation If you want to use the CDN instead of clone this repo, please jump to the Step 3. Step 1 &rarr; Go to NexT dir Change dir to NexT directory. There must be layout, source, languages and other directories: 123$ cd themes/next$ lsbower.json _config.yml docs gulpfile.coffee languages layout LICENSE.md package.json README.md scripts source test Step 2 &rarr; Get module Install module to source/lib directory: 1$ git clone https://github.com/theme-next/theme-next-bookmark.git source/lib/bookmark Step 3 &rarr; Set it up Enable module in NexT _config.yml file: 1bookmark: true And, if you wants to use the CDN, then need to set: 123vendors: ... bookmark: https://cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@latest/bookmark.min.js Update 12$ cd themes/next/source/lib/bookmark$ git pull","link":"/lib/bookmark/README.html"},{"title":"","text":"(function (global) { 'use strict'; var storage = global.localStorage; if (storage == null) { // if the localStorage is not exists storage = { // eslint-disable-next-line getItem: function () { return null }, setItem: function () { }, removeItem: function () { }, clear: function () { }, }; } // get the saved bookmark object var getBookmark = function () { var mark = storage.getItem('bookmark'); if (mark == null) { return null; } try { return JSON.parse(mark); } catch (e) { // invalid object saved in the storage // console.warn('Invalid bookmark object.'); return null; } }; var link; // register everything var init = function () { // bookmark-link style var style = global.document.createElement('style'); style.type = 'text/css'; var text = '.book-mark-link{' + 'border-bottom:none;' + 'display:block;' + 'position:fixed;' + 'color:#222;' + 'font-size:26px !important;' + 'top:-10px;left:20px;' + 'transition:.3s;' + '}' + '.book-mark-link:hover,.book-mark-link-fixed{top:-2px}' // do not show when the width is not enough + '@media(max-width:1090px){.book-mark-link{display:none}}'; text = global.document.createTextNode(text); style.appendChild(text); global.document.head.appendChild(style); // create a link element // eslint-disable-next-line max-len link = $(''); $(global.document.body).append(link); var currentTop = 0; // scroll event $(global).on('scroll.bookmark', function () { var top = global.document.documentElement.scrollTop; if (top > 0) { if (currentTop === 0) { link.removeClass('book-mark-link-fixed'); currentTop = top; } } else { if (currentTop > 0) { !link.hasClass('book-mark-link-fixed') && link.addClass('book-mark-link-fixed'); currentTop = 0; } } }); }; var loadBookmark = function () { var mark = getBookmark(); if (mark == null) { return; } // found the bookmark $(function () { init(); link.attr('href', mark.lastUri + '#book:mark'); }); }; var doScroll = function (top) { if (!isNaN(top)) { $(function () { // eslint-disable-next-line max-len $(global.document.documentElement).animate({ 'scrollTop': top }, 'fast'); }); } }; var doSaveScroll = function (path, mark) { if (mark == null) { mark = {}; } var top = global.document.documentElement.scrollTop; mark.lastUri = path; mark[path] = top; storage.setItem('bookmark', JSON.stringify(mark)); link.animate({ top: -26 }, 'fast', function () { setTimeout(function () { link.css('top', ''); }, 400); }); return mark; }; var scrollToMark = function (trigger, hash) { var path = global.location.pathname; var mark = getBookmark(); $(function () { init(); // save the position by clicking the icon link.click(function () { mark = doSaveScroll(path, mark); return false; }); // register beforeunload event when the trigger is auto if (trigger === 'auto') { // register beforeunload event global.addEventListener('beforeunload', function () { doSaveScroll(path, mark); }); } // auto scroll to the position if (mark == null) { return; } // and if the page opens with a specific hash, just jump out var skips = [hash, '#comments']; // eslint-disable-next-line if (skips.filter(function (h) { return h === global.location.hash }).length > 0) { return; } doScroll(mark[path]); }); }; global.bookmark = { loadBookmark: loadBookmark, scrollToMark: scrollToMark, }; })(window);","link":"/lib/bookmark/index.js"},{"title":"","text":"!function(o){\"use strict\";var n=o.localStorage;null==n&&(n={getItem:function(){return null},setItem:function(){},removeItem:function(){},clear:function(){}});var t,e=function(){var o=n.getItem(\"bookmark\");if(null==o)return null;try{return JSON.parse(o)}catch(o){return null}},a=function(){var n=o.document.createElement(\"style\");n.type=\"text/css\";var e=\".book-mark-link{border-bottom:none;display:block;position:fixed;color:#222;font-size:26px !important;top:-10px;left:20px;transition:.3s;}.book-mark-link:hover,.book-mark-link-fixed{top:-2px}@media(max-width:1090px){.book-mark-link{display:none}}\";e=o.document.createTextNode(e),n.appendChild(e),o.document.head.appendChild(n),t=$(''),$(o.document.body).append(t);var a=0;$(o).on(\"scroll.bookmark\",function(){var n=o.document.documentElement.scrollTop;n>0?0===a&&(t.removeClass(\"book-mark-link-fixed\"),a=n):a>0&&(!t.hasClass(\"book-mark-link-fixed\")&&t.addClass(\"book-mark-link-fixed\"),a=0)})},r=function(e,a){null==a&&(a={});var r=o.document.documentElement.scrollTop;return a.lastUri=e,a[e]=r,n.setItem(\"bookmark\",JSON.stringify(a)),t.animate({top:-26},\"fast\",function(){setTimeout(function(){t.css(\"top\",\"\")},400)}),a};o.bookmark={loadBookmark:function(){var o=e();null!=o&&$(function(){a(),t.attr(\"href\",o.lastUri+\"#book:mark\")})},scrollToMark:function(n,l){var i=o.location.pathname,c=e();$(function(){var e;a(),t.click(function(){return c=r(i,c),!1}),\"auto\"===n&&o.addEventListener(\"beforeunload\",function(){r(i,c)}),null!=c&&([l,\"#comments\"].filter(function(n){return n===o.location.hash}).length>0||(e=c[i],isNaN(e)||$(function(){$(o.document.documentElement).animate({scrollTop:e},\"fast\")})))})}}}(window);","link":"/lib/bookmark/bookmark.min.js"},{"title":"","text":"{\"name\":\"theme-next-bookmark\",\"version\":\"1.0.2\",\"description\":\"A plugin of local-bookmarks for NexT theme.\",\"main\":\"index.js\",\"scripts\":{\"test\":\"eslint index.js\",\"dist\":\"eslint index.js && uglifyjs --compress --mangle -o bookmark.min.js -- index.js\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/theme-next/theme-next-bookmark.git\"},\"keywords\":[\"hexo\",\"theme-next\",\"plugin\",\"bookmark\"],\"author\":\"Tsanie Lily\",\"license\":\"MIT\",\"bugs\":{\"url\":\"https://github.com/theme-next/theme-next-bookmark/issues\"},\"homepage\":\"https://github.com/theme-next/theme-next-bookmark#readme\",\"devDependencies\":{\"eslint\":\"^4.17.0\",\"eslint-config-google\":\"^0.9.1\",\"uglify-js\":\"^3.3.10\"}}","link":"/lib/bookmark/package.json"}],"posts":[{"title":"CF1039D You Are Given a Tree è§£é¢˜æŠ¥å‘Š","text":"ç¥ä»™é¢˜ï¼Œå†™äº†ä¸€ä¸Šåˆ é¢˜ç›®é“¾æ¥CF1039D You Are Given a Tree é¢˜æ„ç®€è¿°ç»™ä½ ä¸€æ£µæ ‘ï¼Œåˆ†åˆ«æ±‚å‡ºåˆ’åˆ†æˆåŒ…å«ç‚¹æ•°$k\\in[1,n]$çš„é“¾æ—¶æœ€å¤§çš„é“¾çš„ä¸ªæ•°ã€‚ è§£é¢˜æ€æƒ³æ„Ÿè°¢å°ç²‰å…”æ•™æˆ‘è¿™é“é¢˜QwQ OwenOwlè¯´è¦æ•´ä½“äºŒåˆ†ï¼Œé‚£æ˜¯å•¥ é¦–å…ˆè€ƒè™‘æš´åŠ›æ€ä¹ˆæ‰“ï¼Œå¯¹äºæ¯ä¸€ä¸ª$k$ï¼Œå¯ä»¥è´ªå¿ƒåœ°å»åšï¼Œä¸€ç›´æ‰¾èƒ½è¿æ¥çš„ç‚¹ï¼Œç›´åˆ°é•¿åº¦ç¬¬ä¸€æ¬¡$\\geq k$ï¼Œè¿™æ—¶é“¾æ•°++ï¼Œç»§ç»­æ‰¾ä¸‹ä¸€æ®µã€‚æ—¶é—´å¤æ‚åº¦ä¸º$O(n ^ 2)$ ç„¶ååˆ†æä¸€æ³¢æ ·ä¾‹ï¼Œæˆ‘ä»¬å‘ç°å¯¹äº$k\\in(\\sqrt n, n]$ï¼Œç­”æ¡ˆæ˜¯å•å‡çš„ï¼Œå¹¶ä¸”ä¸æ•´é™¤åˆ†å—ç›¸ä¼¼ï¼Œä¸­é—´çš„æŸä¸€æ®µç­”æ¡ˆæ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥äºŒåˆ†æ‰¾åˆ°ä¸€ä¸ªæ®µçš„å³ç«¯ç‚¹ï¼Œç„¶åæš´åŠ›check()ï¼Œæ›´æ–°æ•´æ®µçš„ç­”æ¡ˆã€‚è¿™é‡Œçš„å¤æ‚åº¦æ˜¯$O(n\\sqrt n \\log n)$ï¼ˆlogäºŒåˆ†ï¼Œæ ¹å·åŒºé—´ï¼ŒO(n)checkï¼‰ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯¹äºå‰©ä¸‹çš„åŒºé—´$[1, \\sqrt n]$ï¼Œç›´æ¥æš´åŠ›åšï¼Œå¤æ‚åº¦ä¹Ÿæ˜¯$O(n\\sqrt n)$çš„ï¼Œä¸ä¼šæ‹–åè…¿ã€‚ æ€»å¤æ‚åº¦ä¸º$O(n\\sqrt n\\log n)$ è¿™ä¸ªå¤æ‚åº¦å·²ç»å¯ä»¥è¿‡äº† ä½†æ˜¯æˆ‘ä»¬å‘ç°åˆ†æ²»çš„ä¸¤ä¸ªåŒºé—´å¤æ‚åº¦å¹¶ä¸å‡è¡¡ï¼Œæ‰€ä»¥è€ƒè™‘é€šè¿‡åˆ†é…ä¸åŒçš„åˆ†æ²»èŒƒå›´æ¥å‡è¡¡æ‰ä¸¤ä¸ªä¸åŒçš„æ“ä½œæ—¶é—´ã€‚ æˆ‘ä»¬å‘ç°ï¼Œå¯¹äºå¤§æ®µåŒºé—´ï¼ŒäºŒåˆ†çš„å¤æ‚åº¦æ˜¯$O(\\log n)$çš„ï¼Œè€Œæš´åŠ›éƒ¨åˆ†åŒºé—´æ˜¯$O(n)$çš„ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®åŒºå—åˆ†ç•Œç‚¹ä¸º$O(\\sqrt{(n \\times \\log n)}) = O(\\sqrt{n \\log n})$æ¥å‡è¡¡ä¸¤ä¸ªå¤æ‚åº¦ã€‚ 60ä¸ªç‚¹ä¸€å…±å¿«äº†10sã€‚ã€‚ã€‚ æ ¹å·nlognæ–­ç‚¹ æ ¹å·næ–­ç‚¹ å‚è€ƒä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495#include &lt;cstdio&gt;#include &lt;cctype&gt;#include &lt;cmath&gt;namespace FastIO{ inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 100010;const int M = N &lt;&lt; 1;template &lt;typename T&gt; inline T max(T a, T b) {return a &gt; b ? a : b;}int n, size;int head[N], ver[M], nxt[M], cnt;int fa[N], ptn[N], idx;int d[N], ans[N];inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt; ver[++cnt] = x, nxt[cnt] = head[y], head[y] = cnt;}void dfs(int x) { for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == fa[x]) continue; fa[y] = x; dfs(y); } ptn[++idx] = x;}inline int find(int k) { int ans = 0; for(register int i = 1; i &lt;= n; i++) d[i] = 1; for(register int i = 1; i &lt;= n; i++) { int x = ptn[i]; if(fa[x] &amp;&amp; (~d[fa[x]]) &amp;&amp; (~d[x])) { if(d[x] + d[fa[x]] &gt;= k) { ans++; d[fa[x]] = -1; } else { d[fa[x]] = max(d[fa[x]], d[x] + 1); } } } return ans;}int main() { n = read(); size = sqrt(n * (log(n) / log(2))); for(register int i = 1; i &lt; n; i++) { int x = read(), y = read(); add(x, y); } dfs(1); ans[1] = n; for(register int i = 2; i &lt;= size; i++) { ans[i] = find(i); } for(register int i = size + 1, l, r, k; i &lt;= n; i = l + 1) { l = i, r = n, k = find(i); while(l + 1 &lt; r) { int mid = (l + r) &gt;&gt; 1; if(find(mid) == k) l = mid; else r = mid; } for(register int j = i; j &lt;= l; j++) ans[j] = k; } for(register int i = 1; i &lt;= n; i++) { write(ans[i]); } return 0;}","link":"/2019/08/26/CF1039D-You-Are-Given-a-Tree-è§£é¢˜æŠ¥å‘Š/"},{"title":"CF1207B Square Filling è§£é¢˜æŠ¥å‘Š","text":"è€ƒåœºä¸Šæƒ³äº†ä¸ªå¾ˆ$naive$çš„dpï¼Œ$\\color{black}{Q}\\color{red}{uank}$å¤§çˆ·æé†’åæ‰å‘ç°æ²¡æœ‰æœ€ä¼˜åŒ–ã€‚ èº«è´¥åè£‚ é¢˜ç›®é“¾æ¥(Luogu)CF1207B Square Filling é¢˜æ„ç®€è¿°ç»™ä½ ä¸€ä¸ª01çŸ©é˜µï¼Œæ¯æ¬¡æ“ä½œå¯å°†ä¸€ä¸ª$2\\times 2$çš„æ­£æ–¹å½¢å…¨éƒ¨èµ‹å€¼ä¸º$1$ï¼Œé—®ä½ èƒ½ä¸èƒ½å°†ä¸€ä¸ªç©ºçŸ©é˜µå˜æˆç›®æ ‡çŸ©é˜µã€‚ è§£é¢˜æ€æƒ³æ—¢ç„¶é¢˜ç›®ä¸­ä¸è¦æ±‚æœ€ä¼˜è§£ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦è€ƒè™‘å°‘è¦†ç›–å‡ ä¸ªæ­£æ–¹å½¢ã€‚ ç›´æ¥ä»$(1, 1)$å¼€å§‹æšä¸¾ï¼Œä¾æ¬¡è€ƒè™‘ä»¥å½“å‰ç‚¹ä¸ºå·¦ä¸Šè§’çš„æ­£æ–¹å½¢ï¼Œå¦‚æœå¯ä»¥è¦†ç›–ï¼Œç›´æ¥è¦†ç›–å¹¶è®°å½•è·¯å¾„ã€‚ ç„¶ååœ¨å…¨éƒ¨è¦†ç›–å®Œåå°†ç­”æ¡ˆçŸ©é˜µå’Œç›®æ ‡çŸ©é˜µè¿›è¡Œå¯¹æ¯”ï¼Œè‹¥ä¸€è‡´åˆ™è¾“å‡ºæ–¹æ¡ˆã€‚ æ³¨æ„ä¸è¦è¶Šç•Œã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233#include &lt;cstdio&gt;const int N = 100;int a[N][N], b[N][N];int n, m;int x[N * N], y[N * N], cnt;int main() { scanf(\"%d%d\", &amp;n, &amp;m); for(register int i = 1; i &lt;= n; i++) { for(register int j = 1; j &lt;= m; j++) { scanf(\"%d\", &amp;a[i][j]); } } for(register int i = 1; i &lt;= n; i++) { for(register int j = 1; j &lt;= m; j++) { if(a[i][j] &amp;&amp; a[i + 1][j] &amp;&amp; a[i][j + 1] &amp;&amp; a[i + 1][j + 1] &amp;&amp; i + 1 &lt;= n &amp;&amp; j + 1 &lt;= m) b[i][j] = b[i + 1][j] = b[i][j + 1] = b[i + 1][j + 1] = 1, x[++cnt] = i, y[cnt] = j; } } for(register int i = 1; i &lt;= n; i++) for(register int j = 1; j &lt;= m; j++) if(a[i][j] != b[i][j]) return puts(\"-1\"), 0; printf(\"%d\\n\", cnt); for(register int i = 1; i &lt;= cnt; i++) { printf(\"%d %d\\n\", x[i], y[i]); } return 0;}","link":"/2019/08/25/CF1207B-Square-Filling-è§£é¢˜æŠ¥å‘Š/"},{"title":"CF1204C Anna, Svyatoslav and Maps è§£é¢˜æŠ¥å‘Š","text":"è€ƒåœºæ²¡åšå‡ºæ¥ï¼Œèº«è´¥åè£‚ é¢˜ç›®é“¾æ¥(Luogu)CF1204C Anna, Svyatoslav and Maps é¢˜æ„ç®€è¿°ç»™ä½ ä¸€å¼ å›¾å’Œä¸€ä¸ªåºåˆ—ï¼Œè¦æ±‚æ‰¾å‡ºå…¶æœ€çŸ­çš„å­åºåˆ—ï¼Œæ»¡è¶³ä¸¤ä¸ªåºåˆ—é¦–å°¾å…ƒç´ ç›¸åŒï¼Œå¹¶ä¸”å­åºåˆ—ä¸­æ¯ä¸ªç‚¹éƒ½åœ¨åŸåºåˆ—æœ€çŸ­è·¯å¾„ä¸Šï¼ˆå¥½åƒæ²¡è¯´æ¸…æ¥š è§£é¢˜æ€æƒ³çœ‹åˆ°è¿™ä¸ª$n$å¾ˆå°ï¼Œæˆ‘ä»¬è€ƒè™‘Floydå…ˆæ±‚å‡ºæœ€çŸ­è·¯ã€‚ ç„¶åå¯¹äºåŸåºåˆ—ï¼Œæˆ‘ä»¬è´ªå¿ƒåœ°è€ƒè™‘æ¯ä¸‰ä¸ªç‚¹ï¼šå¦‚æœä¸­é—´çš„ç‚¹åœ¨å¦å¤–ä¸¤ä¸ªç‚¹çš„æœ€çŸ­è·¯å¾„ä¸Šï¼Œæˆ‘ä»¬å°±å¯ä»¥å»æ‰å®ƒã€‚ è¿™ä¸ªå¯ä»¥é€šè¿‡Floydåå¾—åˆ°çš„è·ç¦»è¿›è¡Œåˆ¤æ–­ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸‹è¿™ä¸‰ä¸ªç‚¹ï¼šå¯¹äºæ¯ä¸€ä¸ªè¢«å»æ‰çš„ç‚¹ï¼Œæ˜¾ç„¶ä¸ç”¨è€ƒè™‘ï¼Œç„¶åå½“å‰ç”¨æ¥æ›´æ–°çš„ç‚¹è‚¯å®šæ˜¯å®Œæˆçš„åºåˆ—ä¸­æœ€åä¸€ä¸ªè¢«æ›´æ–°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ç»´æŠ¤ç­”æ¡ˆé˜Ÿåˆ—çš„é¦–ã€‚ è€ƒè™‘ä½¿ç”¨æ ˆï¼šå¯¹äºæ¯ä¸€ä¸ªåŸåºåˆ—çš„å…ƒç´ ï¼Œå–å‡ºå®ƒä¸åä¸€ä¸ªå…ƒç´ ä¸æ ˆé¡¶å…ƒç´ è¿›è¡Œæ¯”è¾ƒæ›´æ–°ï¼šè‹¥ç­”æ¡ˆç¬¦åˆä¸Šè¿°è¦æ±‚ï¼Œåˆ™å°†ä¸­é—´å…ƒç´ åŠ å…¥æ ˆä¸­ï¼Œå¦åˆ™è·³è¿‡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåºåˆ—çš„Nä¸å›¾çš„Nä¸æ˜¯åŒä¸€ä¸ªï¼Œæ•°ç»„è¦å¼€å¤Ÿã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#include &lt;cstdio&gt;#include &lt;cctype&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 110;const int M = 1e6 + 6;template &lt;typename T&gt; inline T min(T a, T b) {return a &lt; b ? a : b;}int n, m, a[M];int f[N][N];char mp[N][N];int s[M], stop;int main() { n = read(); for(register int i = 1; i &lt;= n; i++) { scanf(\"%s\", mp[i] + 1); } for(register int i = 1; i &lt;= n; i++) { for(register int j = 1; j &lt;= n; j++) { if(mp[i][j] == '0') f[i][j] = 0x3f3f3f3f; else f[i][j] = 1; } } for(register int i = 1; i &lt;= n; i++) { f[i][i] = 0; } m = read(); for(register int i = 1; i &lt;= m; i++) { a[i] = read(); } for(register int k = 1; k &lt;= n; k++) { for(register int i = 1; i &lt;= n; i++) { for(register int j = 1; j &lt;= n; j++) { f[i][j] = min(f[i][j], f[i][k] + f[k][j]); } } } s[++stop] = a[1]; for(register int i = 2; i &lt;= m; i++) { if(f[s[stop]][a[i + 1]] != f[s[stop]][a[i]] + f[a[i]][a[i + 1]]) s[++stop] = a[i]; } printf(\"%d\\n\", stop); for(register int i = 1; i &lt;= stop; i++) printf(\"%d \", s[i]); return 0;}","link":"/2019/08/25/CF1204C-Anna-Svyatoslav-and-Maps-è§£é¢˜æŠ¥å‘Š/"},{"title":"CF467D Fedor and Essay è§£é¢˜æŠ¥å‘Š","text":"å­—ç¬¦ä¸²å¤ªèœäº†ã€‚ é¢˜ç›®é“¾æ¥(Luogu) CF467D Fedor and Essay é¢˜æ„ç®€è¿°ç»™ä½ ä¸€ç¯‡æ–‡ç« å’Œnå¯¹å•è¯ï¼Œå¯ä»¥å°†æ–‡ä¸­çš„å•è¯æŒ‰å¯¹åº”å¯¹æ¢ã€‚ æ±‚å¯¹æ¢åæ–‡ç« å«å­—æ¯â€™râ€™çš„æœ€å°æ•°é‡ï¼Œä»¥åŠæ­¤æ—¶æ–‡ç« ä¸­æ‰€æœ‰å•è¯é•¿åº¦ä¹‹å’Œçš„æœ€å°å€¼ã€‚ è§£é¢˜æ€æƒ³å•è¯å¯ä»¥çœ‹æˆç‚¹ï¼Œç„¶åæ¯ä¸ªå•è¯å«â€™râ€™çš„æ•°é‡å¯ä»¥ç†è§£ä¸ºå…¶ç‚¹æƒã€‚ æˆ‘ä»¬æŒ‰å¯¹åº”å…³ç³»å»ºå›¾åï¼Œå¯¹è¯¥å›¾ç¼©ç‚¹ï¼Œç„¶åæ¯ä¸ªèŠ‚ç‚¹è·‘ä¸€éæ ‘å½¢DPï¼Œç»Ÿè®¡ä¸€ä¸‹è‡ªåº•å‘ä¸Šç»Ÿè®¡æœ€å°å€¼ã€‚ æ‡’å¾—å†™å“ˆå¸Œäº†ï¼Œæ‰€ä»¥ç”¨äº†mapã€‚æ²¡æƒ³åˆ°å·²ç»æ˜¯æœ€ä¼˜è§£äº†ã€‚ ç”¨å“ˆå¸Œç†è®ºä¸Šä¼šè·‘æ›´å¿«ï¼Œä½†æ˜¯å‡ºé¢˜äººå¯èƒ½é—²å¾—æ— èŠæ„é€ äº†å“ˆå¸Œå†²çª å¯¹äºæ–‡ç« é•¿åº¦æœ€å°å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨DPæ—¶åˆ¤ä¸€ä¸‹ä¸¤ä¸ªDPå€¼ç›¸ç­‰çš„æƒ…å†µï¼Œç„¶åå–$\\min$å°±è¡Œäº†ã€‚ è®¾$minn1[i]$ä¸ºå¯¹åº”å›¾ä¸Šåˆ°å•è¯$i$ä¸ºæ­¢æ‰€æœ‰å•è¯â€™râ€™çš„æœ€å°å€¼ï¼Œ$minn2[i]$ä¸ºå¯¹åº”å›¾ä¸Šåˆ°å•è¯$i$ä½ç½®ç¬¦åˆé¢˜ç›®æ¡ä»¶çš„æ–‡ç« é•¿åº¦çš„æœ€å°å€¼ã€‚ é‚£ä¹ˆä¸¤ä¸ªç­”æ¡ˆåˆ†åˆ«ä¸ºï¼š$ans_1 = \\sum\\limits_{1\\le i\\le n} minn1[scc[i]], ans_2 = \\sum\\limits_{1\\le i\\le n}minn2[scc[i]]$ è¦å¼€long long å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150#include &lt;cstdio&gt;#include &lt;cctype&gt;#include &lt;cstring&gt;#include &lt;string&gt;#include &lt;map&gt;std::map &lt;std::string, int&gt; mp;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(long long x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(long long x) { _write(x); putchar(' '); }}using namespace FastIO;const int N = 3e5 + 6;const int M = N &lt;&lt; 2;template &lt;typename T&gt; inline T min(T a, T b) {return a &lt; b ? a : b;}template &lt;typename T&gt; inline T max(T a, T b) {return a &gt; b ? a : b;}char ch[M];long long ans1, ans2;int n, m, sz;int ver[N], nxt[M], head[M], cnt, Cnt;int Ver[N], Nxt[M], Head[M];int scc[N], dfn[N], low[N], idx, tot;int sta[N], stop;int id[N], num[N], len[N];int minn1[N], minn2[N];bool v[N], vis[N];inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}inline void Add(int x, int y) { Ver[++cnt] = y, Nxt[cnt] = Head[x], Head[x] = cnt;}void tarjan(int x) { dfn[x] = low[x] = ++idx; v[x] = 1; sta[++stop] = x; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(!dfn[y]) { tarjan(y); low[x] = min(low[x], low[y]); } else if(v[y]) { low[x] = min(low[x], dfn[y]); } } int now = 0; if(low[x] == dfn[x]) { tot++; while(now != x) { now = sta[stop--]; v[now] = 0; scc[now] = tot; if(num[now] &lt; minn1[tot] || (num[now] == minn1[tot] &amp;&amp; len[now] &lt; minn2[tot])) { minn1[tot] = num[now], minn2[tot] = len[now]; } } }}inline void rebuild() { cnt = 0; for(register int x = 1; x &lt;= sz; x++) { for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(scc[x] != scc[y]) Add(scc[x], scc[y]); } }}void dp(int x) { if(vis[x]) return; vis[x] = 1; for(register int i = Head[x]; i; i = Nxt[i]) { int y = Ver[i]; dp(y); if(minn1[y] &lt; minn1[x]) { minn1[x] = minn1[y]; minn2[x] = minn2[y]; } else if(minn1[y] == minn1[x]) { minn2[x] = min(minn2[x], minn2[y]); } }}int main() { n = read(); for(register int i = 1; i &lt;= n; i++) { scanf(\"%s\", ch); int l = strlen(ch), k = 0; for(register int j = 0; j &lt; l; j++) { if(ch[j] &gt;= 'A' &amp;&amp; ch[j] &lt;= 'Z') ch[j] = ch[j] - 'A' + 'a'; if(ch[j] == 'r') k++; } int t = mp[ch]; if(!t) t = mp[ch] = ++sz; len[t] = l; num[t] = k; id[i] = t; } m = read(); for(register int i = 1; i &lt;= m; i++) { scanf(\"%s\", ch); int l = strlen(ch), k = 0; for(register int j = 0; j &lt; l; j++) { if(ch[j] &gt;= 'A' &amp;&amp; ch[j] &lt;= 'Z') ch[j] = ch[j] - 'A' + 'a'; if(ch[j] == 'r') k++; } int x = mp[ch]; if(!x) x = mp[ch] = ++sz; len[x] = l; num[x] = k; scanf(\"%s\", ch); l = strlen(ch), k = 0; for(register int j = 0; j &lt; l; j++) { if(ch[j] &gt;= 'A' &amp;&amp; ch[j] &lt;= 'Z') ch[j] = ch[j] - 'A' + 'a'; if(ch[j] == 'r') k++; } int y = mp[ch]; if(!y) y = mp[ch] = ++sz; len[y] = l; num[y] = k; add(x, y); } memset(minn1, 0x3f, sizeof(minn1)); memset(minn2, 0x3f, sizeof(minn2)); for(register int i = 1; i &lt;= sz; i++) if(!dfn[i]) tarjan(i); rebuild(); for(register int i = 1; i &lt;= tot; i++) dp(i); for(register int i = 1; i &lt;= n; i++) { ans1 += minn1[scc[id[i]]]; ans2 += minn2[scc[id[i]]]; } write(ans1); write(ans2); return 0;}","link":"/2019/08/02/CF467D-Fedor-and-Essay-è§£é¢˜æŠ¥å‘Š/"},{"title":"HBTSC 2019 çˆ†é›¶è®°","text":"å å‘ï¼Œç¨³årk infã€‚ å·²æ›´æ–°,å¾…è¡¥å›¾ã€‚ Day 0èµ·åºŠèµ·æ—©äº†ï¼Œå¤´ç–¼æ­»ã€‚ ä¸Šç«è½¦ä»¥ä¸ºè‡ªå·±æ²¡å¸¦èº«ä»½è¯ï¼Œå»åŠäº†ä¸ªä¸´æ—¶èº«ä»½è¯ï¼Œç»“æœå–ç¥¨æœºä¸èƒ½ç”¨ï¼Œè‡ªåŠ¨æ£€ç¥¨ä¸èƒ½ç”¨ï¼Œéº»çƒ¦çš„ä¸€æ‰¹ã€‚ è¿˜æ‹¿åˆ°äº†ä¸¤å¼ WAè‰²çš„ç¥¨ï¼š åœ¨å››å·å€™è½¦å£é‡åˆ°äº†wjyyyï¼Œæ‹¿åˆ°äº†ä¸ªäººæ‰¿è¯ºä¹¦ã€‚ å‘ç°ä¸Šé¢æœ‰ä»€ä¹ˆä¸å¾—äº†çš„ä¸œè¥¿ï¼š æ¥å—ç‰¹æ®Šæƒ…å†µä¸‹çš„æµ‹è¯•æ•°æ®ä¿®æ”¹ â€¦ çˆ†è›‹é¢„å®šã€‚ ä¸Šäº†ç«è½¦ï¼Œåœ¨ç¬¬ä¸€æ’å·®è¯„ï¼Œç”µè„‘åªèƒ½æ”¾è…¿ä¸Šã€‚ å¤ä¹ äº†ä¸€ä¸‹Tarjanæ¿å­ï¼Œçœ‹äº†ä¸€ä¸‹DFTï¼Œå‘ç°æˆ‘çš„DFTæ˜¯$O(n\\log n)$çš„ï¼Œå°±å»é—®wjyå¤§çˆ·ï¼š è‡ªå·±è²Œä¼¼æŠŠFFTå½“DFTæ¨äº†â€¦ ä¸­åˆä¾æ—§KFCéº¦å½“åŠ³ã€‚ ç„¶åå°±ååœ°é“å»åç§‘å•¦â€¦æ½˜è€å¸ˆä¼¼ä¹å¿˜äº†æˆ‘æœ‰æ­¦æ±‰é€šï¼Œåˆç»™æˆ‘ä¹°äº†å•ç¨‹ç¥¨â€¦ ä¸‹åœ°é“ï¼Œæ­¦æ±‰å‡ºå¥‡çš„çƒ­ã€‚ æˆåŠŸåœ¨ä¸ƒå¤©å¤§å…é¢åŸºåˆ°äº†æ¬¾å…‹çˆ·ã€‚ èŠäº†ä¸€ä¼šå›æˆ¿é—´ä¼‘æ¯å»äº†ã€‚ ä¸‹åˆæ˜¯å¤§å‹è¯•(é¢)æœº(åŸº)ç°åœºã€‚ æ²¡æœ‰ç…§ç‰‡ã€‚ é”®ç›˜æ¯”å»å¹´é‚£ä¸ªæ‰“çš„èˆ’æœï¼Œç¨å¾®æœ‰ç‚¹ä¸é€‚åº”ã€‚ æœ‰vmwareå’Œvscodeï¼Œæ¯”linuxé€‰æ‰‹ä¸çŸ¥é“èµšåˆ°å“ªå»ã€‚ ç»§ç»­å¤ä¹ ç¼©ç‚¹ï¼Œç¬¬ä¸€éå„ç§é—®é¢˜ï¼Œå–é¡¶ä¸å¼¹æ ˆï¼Œå–é¦–ä¸å‡ºé˜Ÿï¼ŒåŠ è¾¹ä¸åŠ åº¦è¿˜è¯•å›¾æ¯åŸå›¾ç¼©ç‚¹ä¸è¿‡æœ€åå¼ƒäº† é¢åŸºåˆ°äº†xlsï¼Œå¤´åƒä¸çœŸäººä¸¥é‡ä¸ç¬¦å·®è¯„ ï¼ˆå—ä¸€æ¥¼çš„å¤©ç©ºï¼‰ ç„¶åå°±å·®ä¸å¤šå…­ç‚¹äº†ï¼Œå»åƒé¥­ã€‚ åƒçš„çƒ¤é±¼ï¼Œçƒ¤é±¼å’Œæ°´ç…®é±¼å‘³é“å®Œå…¨ä¸ä¸€æ ·çš„è¯´ï¼Œæˆ‘ä»¥å‰ä»ä¸åƒé±¼çš„è¯´ åƒå®Œè·Ÿwlså’Œylså»æ‰¾æ¬¾å…‹ç©è€ï¼Œä¸Šå»ä¹‹åä»–ä»¬å´ä¸‹æ¥äº†ï¼š ç­‰äº†ä¸€ä¼šæ¬¾å…‹ä¸Šæ¥äº†ï¼Œä½†æ˜¯æ²¡æˆ¿å¡ï¼Œæˆ‘æ‰‹æœºå¿«æ²¡ç”µäº†äºæ˜¯ä¸Šæ¥äº†ã€‚ ç äº†åšå®¢ï¼Œæ´—äº†æ´—ï¼Œå‡†å¤‡ç¡ã€‚ æ˜å¤©åŠ æ²¹å§ã€‚ Day 1ä¸Šåˆä¸ƒç‚¹å¤šé†’äº†ï¼Œæ´—è„¸æ—¶æ¥åˆ°äº†æ½˜è€å¸ˆçš„ç”µè¯ï¼Œè¯´æ˜¯ä¸ƒç‚¹åŠè¿›è€ƒåœºï¼Œæœ‰ç‚¹æ…Œï¼Œèµ¶ç´§å‡ºé—¨ã€‚ ç­‰ç”µæ¢¯æ—¶çœ‹åˆ°ç”µæ¢¯åœ¨12æ¥¼ï¼Œå°±èµ°äº†ä¸‹å»ï¼Œç»“æœåˆ°12æ¥¼äº†ç”µæ¢¯å´ä¸‹8æ¥¼äº†ï¼Œä½†æ˜¯åœ¨æ¥¼æ¢¯å£é‡åˆ°äº†Quankã€‚ æœ¬æ¥å‡†å¤‡ä¹°åŒ…å­åƒï¼Œåœ¨å°å–éƒ¨çœ‹åˆ°æ²¡æœ‰é¸¡è…¿è‚‰é¦…çš„åŒ…å­äº†ï¼Œå°±ä¹°äº†ä¸ªå·§å…‹åŠ›ç„¶åå»éš”å£çš„æ²™å¿å°åƒåƒé¥­ã€‚ åƒå®Œå»åç§‘ï¼Œæ‰¾äº†åŠå¤©æ²¡æ‰¾åˆ°é—¨ï¼Œåªèƒ½è·Ÿç€ï¼ˆè²Œä¼¼æ˜¯åä¸€çš„ï¼‰å¤§éƒ¨é˜Ÿä¸Šæ¥¼ã€‚ åœ¨éæ­£å¼çˆ†è›‹é€‰æ‰‹å¤„é¢†äº†åº§ä½å·ã€‚ ä¸Šæ¥¼ï¼Œç­‰åˆ°äº†xhtï¼Œé—®ä»–å€Ÿäº†ä¸€æ”¯ç¬”ã€‚ è¿›è€ƒåœºåçªç„¶å‘ç°é‚£ä¸€æ’é‚£ä¸€åˆ—å¥½åƒéƒ½åªæœ‰æˆ‘ä¸€ä¸ªäººï¼Œçœ‹æ¥å¥½å¤šäººéƒ½æŠ¥åæ²¡è€ƒã€‚ å¼€æœºï¼Œå‘ç°ç”µè„‘ä¸Šæ²¡æœ‰å‹ç¼©åŒ…ï¼Œé©¬ä¸Šå»æ‰¾äº†ç›‘è€ƒè€å¸ˆã€‚ ç„¶åä»–å±…ç„¶æŠŠèƒ¶å¸¦æ’•äº†æ’uç›˜æ‹·äº†ä¸€ä»½â€¦ è§£å‹å¯†ç ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å±•ç¤ºçš„ï¼Œæˆ‘å¼€åŒ…çš„æ—¶å€™è²Œä¼¼è¿˜æœ‰å¾ˆå¤šäººæ²¡çœ‹åˆ°â€¦ çœ‹äº†ä¸€çœ¼T1ï¼Œæ„Ÿè§‰èƒ½æšä¸¾æ–­ç‚¹ï¼Œå°±ä¸Šæ‰‹æ‰“äº†dfsã€‚ å¤§æ¦‚ä¸€ä¸ªå°æ—¶ä¸åˆ°ï¼Œæ‰“å®Œäº†ï¼Œæ‰‹ç©äº†å‡ ç»„æ•°æ®ï¼Œæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå°±çœ‹t2. æ²¡ä»€ä¹ˆæ€è·¯ï¼Œæƒ³hashï¼Œhashä¸å‡ºæ¥ã€‚å°±å‡†å¤‡æ‰“#4ï¼Œæ‰“äº†100+è¡Œåå‘ç°ä¸€æ ·çš„å¥—è·¯è²Œä¼¼å¯ä»¥æ‰“#1ï¼Œåˆä¸Šæ‰‹å†™#1ï¼Œ æ‰“å®ŒèŠ±äº†å¤§æ¦‚ä¸¤ä¸ªå°æ—¶å§ï¼Œ#1æ²¡æ‹ï¼Œä¸çŸ¥é“å¯¹ä¸å¯¹ã€‚ çœ‹T3ï¼Œä»¥ä¸ºæ˜¯æŸé›†è®­é˜Ÿçˆ·æ¹–ç­–å‡ºçš„ä¸¢å¤±çš„é¢˜é¢ã€‚ ç‚¹å¼€æµ‹è¯•æ•°æ®å‘ç°è²Œä¼¼ä¸å¤ªå¯¹åŠ²ã€‚ #1ä»¥ä¸ºæ˜¯ä»€ä¹ˆé€’æ¨æ•°åˆ—ï¼Œè¦ç”¨çŸ©é˜µå¿«é€Ÿå¹‚ç©ï¼Œä½†æ˜¯æ²¡çœ‹å‡ºæ¥é€’æ¨å…¬å¼ã€‚ åé¢çš„å­—ç¬¦ä¸²ä¹Ÿæ²¡çœ‹å¤ªæ‡‚ï¼Œå°±å¼ƒäº†ã€‚ å›å»ä¼˜åŒ–T1ã€‚ æƒ³äº†ä¸ª$O(n^4)$çš„DPï¼Œå‘ç°è·‘çš„å¥½åƒæ¯”æšä¸¾æ–­ç‚¹è¿˜æ…¢ï¼Œå°±æ²¡æ”¹ã€‚åŠ äº†ä¸ªå¿«è¯»ã€‚ T2ä¾ç„¶æ²¡æœ‰ä»€ä¹ˆæ€è·¯ï¼Œä¸€ä¸Šåˆå°±è¿‡å®Œäº†ã€‚ ä¸­åˆåƒé¥­çš„è·¯ä¸Šï¼Œè·ŸwjyyyèŠå¤©ï¼Œçªç„¶å‘ç°è‡ªå·±T1é¢˜æ„çœ‹é”™äº†ã€‚ åº”è¯¥æœ‰å°éƒ¨åˆ†åˆ†å§ æˆ‘åªèƒ½è¿™æ ·å®‰æ…°è‡ªå·±ã€‚ T2çš„#4çš„å¤æ‚åº¦ä¹Ÿè¢«dewè¯å®æ˜¯é”™çš„ã€‚ Day1 30äº†â€¦. æ²¡æœ‰å¾ˆä¼¤å¿ƒï¼Œå»åƒé¥­äº†ã€‚ ä¸‹åˆè®²é¢˜ï¼Œå…¬å¸ƒæˆç»©ã€‚ çœ‹åˆ°è‡ªå·±åˆçˆ†è›‹äº†ï¼Œéå¸¸éš¾å—ï¼ŒT1è¯„è®²ä¹Ÿæ²¡æ€ä¹ˆå¬ã€‚ å°±åœ¨é‚£ç¿»é‚£ä¸ªäººç”µè„‘ä¸Šçš„æ–‡ä»¶ã€‚ çªç„¶çœ‹åˆ°ä»–çš„è€ƒå·æ–‡ä»¶å¤¹é‡Œæœ‰ä¸‰ä¸ªé¢˜ç›®åå­—çš„æ–‡ä»¶å¤¹ã€‚ è¦å»ºè¿™ç©æ„å˜›ï¼Ÿ æˆ‘é—®wjyyyã€‚ è¦ äºæ˜¯æ‡‚äº†è‡ªå·±çˆ†è›‹çš„åŸå› ï¼Œç”šè‡³è‡ªå·±NOIPçˆ†è›‹çš„åŸå› ã€‚ å¾ˆéš¾å—ï¼Œå›æˆ¿é—´äº†ã€‚ è·ŸKSkunèŠäº†ä¸€ä¼šï¼Œäº†è§£äº†ä¸€ä¸‹ä¼˜æ•æ€ï¼Œæœ‰ç‚¹å¿ƒåŠ¨ï¼Œå¯»æ€ç€æš‘å‡æ‰¾ä¸ªå­¦æ ¡å»å­¦ä¸€å­¦ã€‚ ç„¶åå°±ç¡è§‰å»äº†ã€‚ Day 2æ—©ä¸Šé†’æ¥ä¸€çœ‹å¤–é¢å¾ˆäº®ï¼Œä»¥ä¸ºè‡ªå·±è¿Ÿåˆ°äº†ï¼Œç»“æœä¸€çœ‹æ‰‹æœºæ‰6ï¼š30â€¦â€¦ ä¸‹æ¥¼å»ä¹°æ—©é¥­ï¼Œæ²¡çœ‹åˆ°Quankã€‚ åœ¨å•†åº—ä¹°äº†ä¸¤åŒ…è„†é¦™ç±³å’Œä¸€ç“¶å’–å•¡ï¼Œåƒçš„å’ŒDay 1ä¸€æ ·ã€‚ åƒå®Œå°±å»åç§‘äº†ã€‚ åœ¨å—ä¸€æ¥¼é—¨å£é‡åˆ°äº†è‹è€å¸ˆã€‚ è¿å¥¹éƒ½çŸ¥é“æˆ‘Day 1çˆ†è›‹äº† æ²¡èŠå‡ å¥å°±å»æ’é˜Ÿäº†ã€‚ æŠ½åˆ°äº†ç¬¬äºŒæ’ã€‚ ä¸Šæ¥¼ï¼Œè¿›æœºæˆ¿åç›´æ¥ç‚¹å¼€å‹ç¼©åŒ…ï¼ŒæŠŠä¸‰ä¸ªé¢˜ç›®æ–‡ä»¶å¤¹å»ºäº†ã€‚ çœ‹åå­—å°±è§‰å¾—é‚£ä¸ªHopeä¸å¯åš å¯†ç ä¾æ—§æ˜¯è„¸æ»šé”®ç›˜ã€‚ å¼€åŒ…åå…ˆçœ‹T1ï¼Œæ€ä¹ˆæ˜¯ç»„åˆè®¡æ•°å•Šï¼Œæ²¡ä»€ä¹ˆæ€è·¯ï¼Œæ‰“äº†10ptsçš„æš´åŠ›ã€‚ çœ‹T2ï¼Œä¸€å‰¯å¯åšçš„æ ·å­ï¼Œå°±å¼€å§‹æƒ³2000ä»¥å†…çš„ç‚¹ã€‚ æƒ³äº†ä¸ªè´ªå¿ƒï¼Œçå†™äº†ä¸ªç±»ä¼¼äºŒç»´å †çš„ä¸œè¥¿ï¼Œæœ¬æ¥ç”¨çš„priority_queueï¼Œæ­»æ´»ä¸èƒ½åµŒå¥—ï¼Œå°±æ¢æˆäº†èŠ‚ç‚¹å†…å»ºå †ï¼Œå¤–æ’åºã€‚æ‰“å®Œå¿«11:00äº†ï¼Œåªæµ‹äº†æ ·ä¾‹1ï¼Œè¿‡äº†å°±å»çœ‹T3äº†ã€‚ æ€ä¹ˆåˆæ˜¯ç»„åˆè®¡æ•°å•Šâ€¦â€¦æœç„¶å¥¶ä¸­äº†ã€‚ æœ¬æ¥å‡†å¤‡æ‰“é“¾çš„æš´åŠ›ï¼Œç»“æœä¸ä¼šï¼Œåˆ«çš„ä¹Ÿæƒ³ä¸å‡ºæ¥ï¼Œå°±å¼ƒäº†åˆå»çœ‹T1ã€‚ T1ä¹Ÿæ²¡ä»€ä¹ˆæ€è·¯ï¼ŒæŠŠT2ç¨å¾®æ”¹äº†ä¸€ä¸‹å°±äº¤äº†ã€‚ ä¸‹æ¥¼æ—¶å¬è¯´dewçš„è´ªå¿ƒå’Œæˆ‘çš„ä¸€æ ·ï¼Œï¼ˆä½†æ˜¯åæ¥å‡ºæˆç»©ä»–75æˆ‘5ï¼‰ã€‚ æˆ‘çš„ç¬¬ä¸€æ¬¡çœé€‰å°±è¿™ä¹ˆç»“æŸäº†ï¼Œæ²¡çˆ†è›‹ï¼Œè¿˜æ˜¯æ¯”è¾ƒéš¾å—ï¼Œå¯èƒ½æ˜¯å› ä¸ºDay 1å§ã€‚ ä¸‹åˆçš„è®²é¢˜ä¹Ÿæ²¡å»å¬ï¼Œç›´æ¥å¾€ç«è½¦ç«™èµ°ï¼Œï¼ˆè™½ç„¶è¿˜æ˜¯å·®ç‚¹è¿Ÿåˆ°ã€‚ åœ¨ç«è½¦ä¸Šåˆè°ƒäº†ä¸€ä¼šæ˜¥èŠ‚åäºŒå“ï¼Œæ²¡è°ƒå‡ºæ¥ï¼Œå°±åˆ°äº†ã€‚ è¿™æ¬¡çœé€‰ï¼Œæœ€å¤§çš„æ”¶è·å¯èƒ½å°±æ˜¯ä¼šæ°¸è¿œè®°ä½å¼€æ–‡ä»¶å¤¹å§â€¦. Day infè¢«whkæŠ˜ç£¨çš„æ­»å»æ´»æ¥","link":"/2019/03/14/HBTSC-2018-çˆ†é›¶è®°/"},{"title":"Luogu P1073 æœ€ä¼˜è´¸æ˜“ è§£é¢˜æŠ¥å‘Š","text":"å‘ä¸€ä¸ªè‡ªè®¤ä¸ºä»£ç æ¯”è¾ƒå¥½çœ‹çš„åŒå‘SPFA é¢˜ç›®é“¾æ¥æ€è·¯å…ˆæ­£å›¾è·‘ä¸€éSPFAç»´æŠ¤æ¯ä¸ªç‚¹å¯¹äºé‡‡è´­ä»·çš„æœ€å°å€¼ã€‚ åœ¨æ•°æ®è¯»å…¥æ—¶å­˜åå›¾ï¼Œä»¥$s$ç‚¹ä¸ºæºç‚¹ï¼Œå†æ¬¡è·‘ä¸€éSPFAç»´æŠ¤æ¯ä¸ªç‚¹å¯¹äºå–å‡ºä»·çš„æœ€å°å€¼ã€‚ æ ¹æ®é¢˜æ„æè¿°ï¼Œåœ¨å­˜å›¾çš„æ—¶å€™è¦æ³¨æ„åˆ¤æ–­æ˜¯å¦ä¸ºæ— å‘è¾¹ã€‚ è¦æ³¨æ„æœ¬é¢˜æ˜¯ç‚¹æƒè€Œä¸æ˜¯è¾¹æƒã€‚ ä»£ç å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798#include&lt;cstdio&gt;#include&lt;cstring&gt;#include&lt;algorithm&gt;#include&lt;queue&gt;using std::queue;using std::min;using std::max;const int N = 1e5+6;const int M = 5e5+6;int head1[N], next1[M], ver1[M];int head2[N], next2[M], ver2[M];int cnt1 = 0, cnt2 = 0;int a[N];int d1[N], v1[N], d2[N], v2[N];int n, m;inline void add1(int x, int y) { ver1[++cnt1] = y, next1[cnt1] = head1[x], head1[x] = cnt1;}inline void add2(int x, int y) { ver2[++cnt2] = y, next2[cnt2] = head2[x], head2[x] = cnt2;}//æœ€å°å€¼ inline void spfa1() { queue&lt;int&gt; q1; memset(v1,0,sizeof(v1)); memset(d1,0x3f,sizeof(d1)); v1[1] = 1, d1[1] = a[1]; q1.push(1); while(!q1.empty()) { int x = q1.front(); q1.pop(); v1[x] = 0; for(register int i = head1[x] ; i ; i = next1[i]) { int y = ver1[i]; if(d1[y] &gt; min(d1[x], a[y])) { d1[y] = min(d1[x], a[y]); if(!v1[y]) q1.push(y), v1[y] = 1; } } }}//æœ€å¤§å€¼ inline void spfa2() { queue&lt;int&gt; q2; memset(v2,0,sizeof(v2)); memset(d2,0,sizeof(d2)); v2[n] = 1, d2[n] = a[n]; q2.push(n); while(!q2.empty()) { int x = q2.front(); q2.pop(); v2[x] = 0; for(register int i = head2[x] ; i ; i = next2[i]) { int y = ver2[i]; if(d2[y] &lt; max(d2[x], a[y])) { d2[y] = max(d2[x], a[y]); if(!v2[y]) q2.push(y), v2[y] = 1; } } }}int main() { scanf(\"%d%d\",&amp;n,&amp;m); for(register int i = 1 ; i &lt;= n ; i++) scanf(\"%d\",&amp;a[i]); for(register int i = 1 ; i &lt;= m ; i++) { int x, y, opt; scanf(\"%d%d%d\",&amp;x,&amp;y,&amp;opt); if(opt == 1) { add1(x,y); add2(y,x); } if(opt == 2) { add1(x,y); add1(y,x); add2(x,y); add2(y,x); } } spfa1(); spfa2(); int ans = 0; for(register int i = 1; i &lt;= n; i++) { ans = max(ans,d2[i] - d1[i]); } printf(\"%d\",ans); return 0;}","link":"/2019/03/21/Luogu-P1073-æœ€ä¼˜è´¸æ˜“-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P1373 å°aå’Œuimä¹‹å¤§é€ƒç¦» è§£é¢˜æŠ¥å‘Š","text":"é¢˜ç›®é“¾æ¥P1373 å°aå’Œuimä¹‹å¤§é€ƒç¦» é¢˜æ„ç®€è¿°æ„Ÿè§‰é¢˜ç›®æè¿°æŒºæ¸…æ¥šçš„ ç»™å®šçŸ©é˜µï¼Œä¸¤ä¸ªäººä»¥ä»»æ„ç‚¹ä¸ºèµ·ç‚¹ï¼Œæ¯æ¬¡å¯ä»¥å‘ä¸‹èµ°æˆ–å‘å³èµ°ï¼ŒåŒæ—¶ä¸¤äººçš„å¾—åˆ†äº¤æ›¿åŠ ä¸Šå½“å‰æ ¼çš„å€¼å¹¶å¯¹$k + 1$å–æ¨¡ï¼Œå¯ä»¥åœ¨ä»»æ„ç‚¹ç”±åè€…ç»“æŸã€‚æ±‚ä¸¤äººå¾—åˆ†ä¸€è‡´çš„æ–¹æ³•æ•°ã€‚ è§£é¢˜æ€æƒ³é¢˜ç›®ä¸­çš„æ–¹æ¡ˆæ•°ä¸ä¸¤äººçš„å…·ä½“å¾—åˆ†æ— å…³ï¼Œæ•…æˆ‘ä»¬è€ƒè™‘å°†æ¯ä¸€æ­¥ä¸¤äººçš„å·®å€¼ä½œä¸ºçŠ¶æ€ã€‚å‰©ä¸‹çš„çŠ¶æ€æ˜¾è€Œæ˜“è§ï¼šå½“å‰ä½ç½®å’Œå–æ•°äººã€‚å³$dp[x][y][\\Delta][op]$è¡¨ç¤ºåœ¨åæ ‡ä¸º$(x, y)$çš„æ–¹æ ¼ä¸Šç”±$op$å–æ•°ï¼Œå–å®Œåä¸¤äººçš„å·®å€¼ä¸º$\\Delta$ å› ä¸ºç”±åè€…ç»“æŸï¼Œæ‰€ä»¥æˆ‘ä»¬åªç»Ÿè®¡$op = 0$æ—¶çš„ç­”æ¡ˆï¼Œå¹¶ç´¯åŠ ã€‚å†åŠ ä¸Šé¢˜ç›®ä¸­ç»™å‡ºçš„ç§»åŠ¨æ–¹å¼ï¼Œæˆ‘ä»¬ä¸éš¾å¾—å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š $$dp[x][y][\\Delta][0] = dp[x - 1][y][\\Delta - a[x][y]][1] + dp[x][y - 1][\\Delta - a[x][y]][1]$$ $$dp[x][y][\\Delta][1] = dp[x - 1][y][\\Delta + a[x][y]][0] + dp[x][y - 1][\\Delta + a[x][y]][0]$$ éœ€è¦è€ƒè™‘å·®å€¼å°äº0çš„æƒ…å†µï¼Œè¿™æ—¶å°†æ’å€¼æ›¿ä»£ä¸ºæ¨¡$k + 1$æ„ä¹‰ä¸‹çš„ç­‰ä»·å…ƒå°±è¡Œäº†ã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536#include &lt;cstdio&gt;const int N = 801;const int MOD = 1000000007;int n, m, k, ans;int a[N][N];int dp[N][N][17][2];int main() { scanf(\"%d%d%d\", &amp;n, &amp;m, &amp;k); k++; for(register int i = 1; i &lt;= n; i++) { for(register int j = 1; j &lt;= m; j++) { scanf(\"%d\", &amp;a[i][j]); dp[i][j][a[i][j] % k][0] = 1; } } for(register int i = 1; i &lt;= n; i++) { for(register int j = 1; j &lt;= m; j++) { for(register int del = 0; del &lt;= k; del++) { dp[i][j][del][0] = (dp[i][j][del][0] + dp[i - 1][j][(del - a[i][j] + k) % k][1]) % MOD; dp[i][j][del][0] = (dp[i][j][del][0] + dp[i][j - 1][(del - a[i][j] + k) % k][1]) % MOD; dp[i][j][del][1] = (dp[i][j][del][1] + dp[i - 1][j][(del + a[i][j] + k) % k][0]) % MOD; dp[i][j][del][1] = (dp[i][j][del][1] + dp[i][j - 1][(del + a[i][j] + k) % k][0]) % MOD; } } } for(register int i = 1; i &lt;= n; i++) { for(register int j = 1; j &lt;= m; j++) { ans = (ans + dp[i][j][0][1]) % MOD; } } printf(\"%d\", ans); return 0;}","link":"/2019/06/11/Luogu-P1373-å°aå’Œuimä¹‹å¤§é€ƒç¦»-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P1396 è¥æ•‘ è§£é¢˜æŠ¥å‘Š","text":"é¢˜æ„ç®€è¿°ç»™ä½ ä¸€å¼ å›¾ï¼Œæœ‰è¾¹æƒï¼Œæ±‚ä½¿å¾—æºç‚¹æ±‡ç‚¹è”é€šçš„è·¯å¾„ä¸­è¾¹æœ€å¤§å€¼çš„æœ€å°å€¼ã€‚ï¼ˆè²Œä¼¼è¿˜æ˜¯ä¸å¾ˆæ¸…æ¥šï¼‰ æ€æƒ³çœ‹åˆ°æœ€å¤§çš„æœ€å°å¾ˆå¤šäººæƒ³åˆ°äºŒåˆ†ï¼Œä½†æ˜¯å¯ä»¥æœ‰æ›´å¥½çš„è§£æ³•ã€‚æˆ‘ä»¬ä¸å¦¨ç”¨å¹¶æŸ¥é›†ç»´æŠ¤è¿™ä¸ªå›¾ï¼Œå°†è¾¹ä»å°åˆ°å¤§æ’åºï¼Œæ¯æ¬¡å–å‡ºè¾¹æƒæœ€å°çš„è¾¹ï¼Œè‹¥è¯¥è¾¹çš„èµ·ç‚¹ä¸ç»ˆç‚¹æœªåœ¨ä¸€ä¸ªé›†åˆå†…ï¼Œå°±å°†å…¶åˆå¹¶ã€‚å½“æºç‚¹ä¸æ±‡ç‚¹åœ¨ä¸€ä¸ªé›†åˆå†…æ—¶ï¼Œå½“å‰è¾¹çš„æƒå€¼å°±æ˜¯ç­”æ¡ˆã€‚ å¹¶æŸ¥é›†åŸºæœ¬æ“ä½œè¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒä¼˜ç¾çš„è·¯å¾„å‹ç¼©çš„å®ç°ï¼š 1int find(int x) {return fa[x] = fa[x] == x ? x : find(fa[x]);} ä¸€è¡Œä»£ç ã€‚åˆå¹¶çš„è¯åœ¨ä¸»å‡½æ•°å†…ç›´æ¥å†™å°±è¡Œäº†ï¼Œæ²¡æœ‰ä¸€äº›é™„åŠ æ¶ˆæ¯æ²¡å¿…è¦å•ç‹¬å†™å‡½æ•°ã€‚ Code40è¡Œä»£ç ï¼ˆæœ‰å¿«è¯»ï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;cstdio&gt;#include &lt;cctype&gt;#include &lt;algorithm&gt;inline int read() { char ch = getchar(); int r = 0; while(!isdigit(ch)) ch = getchar(); while(isdigit(ch)) r = r * 10 + ch - '0', ch = getchar(); return r;}const int N = 20020;struct edge { int x, y, z;} e[N];int fa[N];inline bool cmp(edge a, edge b) {return a.z &lt; b.z;}int find(int x) {return fa[x] = fa[x] == x ? x : find(fa[x]);}int main() { int n = read(), m = read(), s = read(), t = read(); for(register int i = 1; i &lt;= n; i++) fa[i] = i; for(register int i = 1; i &lt;= m; i++) { int x = read(), y = read(), z = read(); e[i] = (edge) {x, y, z}; } std::sort(e + 1, e + m + 1, cmp); for(register int i = 1; i &lt;= m; i++) { int x = find(e[i].x), y = find(e[i].y); if(x != y) fa[x] = y; if(find(s) == find(t)) { printf(\"%d\", e[i].z); return 0; } }}","link":"/2019/04/18/Luogu-P1396-è¥æ•‘-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P1726 ä¸Šç™½æ³½æ…§éŸ³ è§£é¢˜æŠ¥å‘Š","text":"åˆåŒå’å•å†™æŒ‚äº†TarjanQAQ é¢˜ç›®é“¾æ¥P1726 ä¸Šç™½æ³½æ…§éŸ³ é¢˜æ„ç®€è¿°ç»™ä½ ä¸€å¼ æœ‰å‘å›¾ï¼Œæ±‚å‡ºæœ€å¤§çš„å¼ºè¿é€šå­å›¾ï¼Œå¹¶è¾“å‡ºå­—å…¸åºæœ€å°çš„ä¸€ä¸ªã€‚ è§£é¢˜æ€æƒ³emmmmæŒºè£¸çš„é¢˜ã€‚ åªéœ€è¦Tarjanæ±‚å¼ºè¿é€šåˆ†é‡å°±è¡Œäº†ã€‚ è‡³äºå­—å…¸åºçš„å¤„ç†ï¼š ä¸å¦¨åœ¨ç¼©ç‚¹æ—¶æ›´æ–°ç­”æ¡ˆï¼Œç„¶åä»å°åˆ°å¤§æšä¸¾æ¯ä¸ªç‚¹ï¼Œç¬¬ä¸€ä¸ªæ‰€å±å¼ºè¿é€šåˆ†é‡å¤§å°ä¸ç­”æ¡ˆç›¸åŒçš„å¼ºè¿é€šåˆ†é‡å°±æ˜¯å­—å…¸åºæœ€å°çš„é‚£ä¸ªã€‚ è¿™é‡Œæ˜¯æšä¸¾çš„ä»£ç ï¼š 123456for(register int i = 1; i &lt;= n; i++) { if(scc[i] == ans) { ans = i; break; } } è¾“å‡ºç­”æ¡ˆï¼š 123for(register int i = ans; i &lt;= n; i++) { if(scc[i] == scc[ans]) write(i);} æ³¨æ„ä¸€ä¸‹ç»†èŠ‚å°±å¥½äº†ã€‚ è‡³äºå†™æŒ‚çš„Tarjanâ€¦ 123456789101112if(low[x] == dfn[x]) { tot++; while(s.top()) { int y = s.top(); s.pop(); scc[y] = tot; v[y] = 0;//è¿™é‡Œè¦æ¸…é›¶ï¼ï¼ï¼ï¼ï¼ï¼ï¼ num[tot]++; if(x == y) break; } if(num[tot] &gt; num[ans]) ans = tot;} v[]è¦æ¸…é›¶â€¦. å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101#include &lt;cstdio&gt;#include &lt;cctype&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0'; ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); putchar(' '); }}using namespace FastIO;const int N = 5010;const int M = 100010;template &lt;typename T&gt; T min(T a, T b) {return a &lt; b ? a : b;}template &lt;typename T&gt;class stack { private: int stop; T s[N]; public: stack() {stop = 0;} inline bool empty() {return !stop;} inline void push(T x) {s[++stop] = x;} inline void pop() {if(!empty()) stop--;} inline T top() {return s[stop];}};stack &lt;int&gt; s;int head[N], ver[M], nxt[M], scc[N], num[N], dfn[N], low[N];int cnt, idx, tot, ans, n, m;bool v[N];inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}void tarjan(int x) { dfn[x] = low[x] = ++idx; s.push(x); v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(!dfn[y]) { tarjan(y); low[x] = min(low[x], low[y]); } else if(v[y]) { low[x] = min(low[x], dfn[y]); } } if(low[x] == dfn[x]) { tot++; while(s.top()) { int y = s.top(); s.pop(); scc[y] = tot; v[y] = 0; num[tot]++; if(x == y) break; } if(num[tot] &gt; num[ans]) ans = tot; }}int main() { n = read(), m = read(); for(register int i = 1; i &lt;= m; i++) { int x = read(), y = read(), opt = read(); add(x, y); if(opt == 2) add(y, x); } for(register int i = 1; i &lt;= n; i++) { if(!dfn[i]) tarjan(i); } printf(\"%d\\n\", num[ans]); for(register int i = 1; i &lt;= n; i++) { if(scc[i] == ans) { ans = i; break; } } for(register int i = ans; i &lt;= n; i++) { if(scc[i] == scc[ans]) write(i); } return 0;}","link":"/2019/05/02/Luogu-P1726-ä¸Šç™½æ³½æ…§éŸ³-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P1967 è´§è½¦è¿è¾“ è§£é¢˜æŠ¥å‘Š","text":"å¡ç©ºé—´çš„å±‘é¢˜ é¢˜ç›®é“¾æ¥P1967 è´§è½¦è¿è¾“ é¢˜æ„ç®€è¿°ç»™ä½ ä¸€ä¸ªå›¾ï¼Œæœ‰è¾¹æƒï¼Œå¯¹äºä»»æ„ä¸€ç»„è¯¢é—®ï¼Œè¾“å‡ºç»™å®šä¸¤ç‚¹é—´æ‰€æœ‰è·¯å¾„ä¸­è¾¹æƒçš„æœ€å°å€¼çš„æœ€å¤§å€¼ã€‚ï¼ˆå³é¢˜æ„ä¸­é™é‡çš„æœ€å¤§å€¼ï¼‰ è§£é¢˜æ€æƒ³è·ŸäºŒåˆ†æ²¡å…³ç³»å•Šï¼Œè€ƒè™‘æ„é€ å›¾çš„æœ€å¤§ç”Ÿæˆæ ‘ï¼Œè¿™æ ·å¯ä»¥æ»¡è¶³æœ€å¤§å€¼è¿™ä¸€æ¡ä»¶ã€‚ æ­¤æ—¶ï¼Œä¸¤ç‚¹é—´çš„è·¯å¾„æœ‰ä¸”ä»…æœ‰ä¸€æ¡ï¼š $$E(x,y) = E(x, lca(x,y)) + E(lca(x, y), y)$$ åœ¨æ ‘ä¸Šå€å¢çš„æ—¶å€™å£èƒ¡å€å¢ä¼˜åŒ–DPç»´æŠ¤$min{W(x, lca(x,y))}$å’Œ$min{W(lca(x,y)), y)}$, ç­”æ¡ˆå–$min$å°±è¡Œäº†ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯æŸ¥è¯¢çš„ä¸¤ç‚¹ä¸ä¸€å®šè”é€šï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨Kruskalæ„é€ æœ€å¤§ç”Ÿæˆæ ‘çš„åŒæ—¶å¯ä»¥ç»´æŠ¤å›¾ä¸Šä¸¤ç‚¹çš„è¿é€šæ€§ï¼ŒæŸ¥è¯¢æ—¶åŠ å…¥åˆ¤æ–­å°±è¡Œäº†ã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144#include &lt;cstdio&gt;#include &lt;cctype&gt;#include &lt;algorithm&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;using namespace std;const int N = 100010;const int M = 400010;inline void fileread() { freopen(\"a.in\", \"r\", stdin); freopen(\"a.out\",\"w\",stdout);}struct Edge { int x, y, z;}e[N];int fa[N];int head[N], edge[M], ver[M], nxt[M], cnt;int lg[N], f[N][22], w[N][22], d[N];int n, m, q;bool v[N];inline void add(int x, int y, int z) { ver[++cnt] = y, edge[cnt] = z, nxt[cnt] = head[x], head[x] = cnt;}inline bool cmp(Edge a, Edge b) { return a.z &gt; b.z;}inline void init() { for(register int i = 1; i &lt;= n; i++) { fa[i] = i; lg[i] = lg[i - 1] + (1 &lt;&lt; lg[i - 1] == i); d[i] = 1; }}int find(int x) {return fa[x] = fa[x] == x ? x : find(fa[x]);}inline bool merge(int x, int y) { int xx = find(x), yy = find(y); if(xx == yy) return 0; fa[xx] = yy; return 1;}inline void rebuild() { sort(e + 1, e + m + 1, cmp); int tot = 0; init(); for(register int i = 1; i &lt;= m; i++) { int x = e[i].x, y = e[i].y, z = e[i].z; if(merge(x, y)) { tot++; add(x, y, z); add(y, x, z); if(tot == n - 1) return; } }}void dfs(int x) { v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(!v[y]) { d[y] = d[x] + 1; f[y][0] = x; w[y][0] = z; dfs(y); } }}inline int lca(int x, int y) { if(find(x) != find(y)) return -1; int ans = 0x3f3f3f3f; if(d[y] &gt; d[x]) swap(x, y); for(register int i=20; i&gt;=0; i--) { if(d[f[x][i]]&gt;=d[y]){ ans = min(ans, w[x][i]); x = f[x][i]; } } if(x == y) return ans; for(register int i = lg[d[x]]; i &gt;= 0; i--) { if(f[x][i] != f[y][i]) { ans = min(ans, min(w[x][i], w[y][i])); x = f[x][i], y = f[y][i]; } } ans = min(ans, min(w[x][0], w[y][0])); return ans;}int main() { n = read(), m = read(); for(register int i = 1; i &lt;= m; i++) { e[i].x = read(), e[i].y = read(), e[i].z = read(); } rebuild(); for(register int i = 1; i &lt;= n; i++) { if(!v[i]) { d[i] = 1; dfs(i); f[i][0] = i; w[i][0] = 0x3f3f3f3f; } } for(register int i = 1; i &lt;= 20; i++) { for(register int j = 1; j &lt;= n; j++) { f[j][i] = f[f[j][i - 1]][i - 1]; w[j][i] = min(w[j][i - 1], w[f[j][i - 1]][i - 1]); } } q = read(); for(register int i = 1; i &lt;= q; i++) { int x = read(), y = read(); write(lca(x, y)); } return 0;}","link":"/2019/04/29/Luogu-P1967-è´§è½¦è¿è¾“/"},{"title":"Luogu P2146 [NOI2015]è½¯ä»¶åŒ…ç®¡ç†å™¨ è§£é¢˜æŠ¥å‘Š","text":"è¿™æ˜¯wjyyyå—¦çš„$\\uparrow$ é¢˜ç›®é“¾æ¥P2146 [NOI2015]è½¯ä»¶åŒ…ç®¡ç†å™¨ é¢˜æ„ç®€è¿°ç»™ä½ ä¸€æ£µæ ‘ï¼Œæœ‰ç‚¹æƒã€‚å°†ç‚¹æƒèµ‹å€¼ä¸º1éœ€è¦å°†æ ¹åˆ°è¯¥ç‚¹è·¯å¾„ä¸Šæ‰€æœ‰ç‚¹èµ‹å€¼ä¸ºï¼Œå°†ç‚¹æƒèµ‹å€¼ä¸º0ä¼šä½¿ä»¥è¯¥ç‚¹ä¸ºæ ¹çš„å­æ ‘ä¸Šçš„æ‰€æœ‰ç‚¹ç‚¹æƒå˜ä¸º0ã€‚åˆå§‹æ—¶æ‰€æœ‰ç‚¹ç‚¹æƒä¸º0ï¼Œç»™ä½ mä¸ªèµ‹å€¼æ“ä½œï¼Œè¾“å‡ºæ¯ä¸ªæ“ä½œä¼šæ”¹å˜å¤šå°‘ä¸ªç‚¹çš„çŠ¶æ€ã€‚ è§£é¢˜æ€æƒ³å‘ç°æ ‘çš„å½¢æ€æ²¡æœ‰æ”¹å˜ï¼Œæˆ‘ä»¬è€ƒè™‘æ ‘å‰–ã€‚ç„¶åæ±‚å‡ºæ ¹åˆ°æŸä¸ªç‚¹çš„é“¾çš„é•¿åº¦å’ŒæŸä¸ªç‚¹çš„å­æ ‘å¤§å°ï¼Œçº¿æ®µæ ‘ç»´æŠ¤å³å¯ã€‚ ä½†æ˜¯æˆ‘ä»¬å‘ç°è¿™é‡Œé¢æ˜¯åŒºé—´èµ‹å€¼æ“ä½œï¼Œè€Œä¸æ˜¯åŒºé—´å¢åŠ æ“ä½œï¼Œå¦‚æœå•ä¸ªç‚¹åšæ•ˆç‡æä½ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸€ç§æ–°çš„çº¿æ®µæ ‘ï¼š åŒºé—´è¦†ç›–çº¿æ®µæ ‘æˆ‘ä»¬è€ƒè™‘åœ¨åŒºé—´å¢çº¿æ®µæ ‘çš„åŸºç¡€ä¸Šå°†å¢åŠ æ”¹æˆèµ‹å€¼ã€‚ äºæ˜¯æˆ‘ä»¬å°†tag[]ç»´æŠ¤çš„ä¿¡æ¯ç”±å¢é‡æ”¹ä¸ºèµ‹å€¼æ•°ï¼Œå‘ç°æ ¹æ®æ—¶é—´çš„å…ˆåï¼Œè¿™ä¸ªä¿¡æ¯ä¼šè¢«é€æ­¥æ›¿ä»£ï¼Œäºæ˜¯å°±å¯ä»¥åœ¨ä¸‹æ”¾çš„æ—¶å€™ç›´æ¥ç”¨çˆ¶èŠ‚ç‚¹æ ‡è®°ç›–ä½å­èŠ‚ç‚¹æ ‡è®°ï¼Œå³æŠŠ+=æ”¹ä¸º=ã€‚è¿™æ ·å°±å¯ä»¥æ•´ä¸ªåŒºé—´èµ‹å€¼ä¸ºåŒä¸€ä¸ªæ•°ã€‚ æ³¨æ„ä¸€ä¸‹é¢˜ç›®ä¸­æœ‰èµ‹å€¼ä¸º0çš„æ“ä½œï¼Œæ‰€ä»¥tag[]çš„åˆå€¼ä¸èƒ½ä¸º0ï¼Œå¦åˆ™å°±ä¼šå‡ºé”…ã€‚ï¼ˆå¡äº†æˆ‘ä¸€ä¸‹åˆ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170#include &lt;cstdio&gt;#include &lt;cctype&gt;#include &lt;cstring&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 100010;const int M = N &lt;&lt; 1;template &lt;typename T&gt; inline void swap(T &amp;x, T &amp;y) {T tmp = x; x = y, y = tmp;}template &lt;typename T&gt; inline T min(T a, T b) {return a &lt; b ? a : b;}template &lt;typename T&gt; inline T max(T a, T b) {return a &gt; b ? a : b;}int n, q, w[N];int head[N], nxt[M], ver[M], cnt, idx;int d[N], sz[N], fa[N], tp[N], son[N];int dfn[N], ptn[N];int val[N &lt;&lt; 2], tag[N &lt;&lt; 2];#define ls (o &lt;&lt; 1)#define rs (o &lt;&lt; 1 | 1)#define mid ((l + r) &gt;&gt; 1)inline void upd(int o) { val[o] = val[ls] + val[rs];}inline void pushdown(int o, int l, int r) { if(tag[o] != -1) { tag[ls] = tag[o]; tag[rs] = tag[o]; val[ls] = tag[o] * (mid - l + 1); val[rs] = tag[o] * (r - mid); } tag[o] = -1;}void build(int o, int l, int r) { if(l == r) {val[o] = w[ptn[l]]; return;} build(ls, l, mid); build(rs, mid + 1, r); upd(o);}void modify(int o, int l, int r, int ll, int rr, int k) { if(l &gt;= ll &amp;&amp; r &lt;= rr) { val[o] = k * (r - l + 1); tag[o] = k; return; } pushdown(o, l, r); if(ll &lt;= mid) modify(ls, l, mid, ll, rr, k); if(rr &gt; mid) modify(rs, mid + 1, r, ll, rr, k); upd(o);}int query(int o, int l, int r, int ll, int rr) { if(l &gt;= ll &amp;&amp; r &lt;= rr) return val[o]; pushdown(o, l, r); int res = 0; if(ll &lt;= mid) res += query(ls, l, mid, ll, rr); if(rr &gt; mid) res += query(rs, mid + 1, r, ll, rr); return res;}void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt; ver[++cnt] = x, nxt[cnt] = head[y], head[y] = cnt;}void dfs1(int x) { sz[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == fa[x]) continue; fa[y] = x; d[y] = d[x] + 1; dfs1(y); sz[x] += sz[y]; if(sz[y] &gt; sz[son[x]]) son[x] = y; }}void dfs2(int x, int top) { tp[x] = top; dfn[x] = ++idx; ptn[idx] = x; if(son[x]) dfs2(son[x], top); for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == fa[x] || y == son[x]) continue; dfs2(y, y); }}inline void changeline(int x, int y, int z) { while(tp[x] != tp[y]) { if(d[tp[x]] &gt; d[tp[y]]) swap(x, y); modify(1, 1, n, dfn[tp[y]], dfn[y], z); y = fa[tp[y]]; } if(d[x] &gt; d[y]) swap(x, y); modify(1, 1, n, dfn[x], dfn[y], z);}inline int queryline(int x, int y) { int res = 0; while(tp[x] != tp[y]) { if(d[tp[x]] &gt; d[tp[y]]) swap(x, y); res += query(1, 1, n, dfn[tp[y]], dfn[y]); y = fa[tp[y]]; } if(d[x] &gt; d[y]) swap(x, y); res += query(1, 1, n, dfn[x], dfn[y]); return res;}inline void changetree(int x, int z) { modify(1, 1, n, dfn[x], dfn[x] + sz[x] - 1, z);}inline int querytree(int x) { return query(1, 1, n, dfn[x], dfn[x] + sz[x] - 1);}char s[10];int main() { memset(tag, -1, sizeof(tag)); n = read(); for(register int i = 2; i &lt;= n; i++) { add(read() + 1, i); } dfs1(1); dfs2(1, 1); build(1, 1, n); q = read(); for(register int i = 1; i &lt;= q; i++) { scanf(\"%s\", s); register int x = read() + 1; int num = val[1]; if(s[0] == 'i') { changeline(1, x, 1); write(val[1] - num); } else { changetree(x, 0); write(num - val[1]); } } return 0;}","link":"/2019/07/17/Luogu-P2146-NOI2015-è½¯ä»¶åŒ…ç®¡ç†å™¨-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P2153 [SDOI2009]æ™¨è·‘ è§£é¢˜æŠ¥å‘Š","text":"è€æ˜¯è¿™ç§å¥—è·¯å°±æ²¡æ„æ€äº†ã€‚ é¢˜ç›®é“¾æ¥P2153 [SDOI2009]æ™¨è·‘ é¢˜æ„ç®€è¿°æ±‚ç»™å®šç½‘ç»œçš„æœ€å¤§æµä¸æœ€å°è´¹ç”¨ï¼Œå…¶ä¸­æ¯ä¸ªç‚¹ä»…å…è®¸ç»è¿‡ä¸€æ¬¡ã€‚ è§£é¢˜æ€æƒ³çœ‹åˆ°é™åˆ¶ï¼Œè€ƒè™‘æ‹†ç‚¹ã€‚ ä¸å¦¨å°†æ¯ä¸ªç‚¹æ‹†æˆ$i$å’Œ$i + n$ä¸¤ä¸ªç‚¹ï¼Œåœ¨ä¸­é—´è¿æ¥ä¸€æ¡æµé‡ä¸º1çš„è¾¹ï¼Œå¹¶ä¸”ç‚¹$i$å‡ºåº¦ä¸º1ï¼Œç‚¹$i + n$å…¥åº¦ä¸º1. è¿™æ ·å¯ä»¥é™åˆ¶ç‚¹çš„ç»è¿‡æ¬¡æ•°ã€‚ ç„¶ååœ¨æ–°å›¾ä¸­ä»¥$1 + n$ä¸ºåŸç‚¹ï¼Œ$n$ä¸ºæ±‡ç‚¹è·‘EK+SPFAå°±è¡Œäº†ã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107#include &lt;cstdio&gt;#include &lt;cctype&gt;#include &lt;cstring&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) r = r * 10 + ch - '0' , ch = getchar(); return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); putchar(' '); }}using namespace FastIO;const int N = 10006;const int M = 2000006;const int INF = 0x3f3f3f3f;template &lt;typename T&gt; T min(T a, T b) {return a &lt; b ? a : b;}template &lt;typename T&gt;class queue { private: int head, tail; T q[N &lt;&lt; 1]; public: queue() {head = tail = 0;} inline bool empty() {return head &gt;= tail;} inline void push(T x) {q[++tail] = x;} inline void pop() {if(!empty()) head++;} inline T front() {return q[head + 1];}};int head[N], ver[M], edge[M], cost[M], nxt[M], pre[N], incf[N], d[N];int cnt = 1, n, m, s, t, maxflow, mincost;bool v[N];inline void add(int x, int y, int z, int w) { ver[++cnt] = y, edge[cnt] = z, cost[cnt] = w, nxt[cnt] = head[x], head[x] = cnt; ver[++cnt] = x, edge[cnt] = 0, cost[cnt] = -w, nxt[cnt] = head[y], head[y] = cnt;}inline bool spfa() { for(register int i = 1; i &lt;= n &lt;&lt; 1; i++) v[i] = 0, d[i] = INF; queue &lt;int&gt; q; q.push(s); d[s] = 0; v[s] = 1; incf[s] = INF; while(!q.empty()) { int x = q.front(); q.pop(); v[x] = 0; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i], w = cost[i]; if(!z) continue; if(d[y] &gt; d[x] + w) { d[y] = d[x] + w; incf[y] = min(incf[x], z); pre[y] = i; if(!v[y]) { v[y] = 1; q.push(y); } } } } return d[t] != INF;}inline void upd() { maxflow += incf[t]; mincost += incf[t] * d[t]; int x = t; while(x != s) { int i = pre[x]; edge[i] -= incf[t]; edge[i ^ 1] += incf[t]; x = ver[i ^ 1]; }}int main() { n = read(), m = read(); for(register int i = 1; i &lt;= m; i++) { int x = read(), y = read(), z = read(); add(x + n, y, 1, z); } for(register int i = 1; i &lt;= n; i++) { add(i, i + n, 1, 0); } s = 1 + n, t = n; while(spfa()) upd(); write(maxflow); write(mincost); return 0;} ä¸ºä»€ä¹ˆæˆ‘çš„æ•°ç»„æ€»æ˜¯å¼€å°å•ŠQAQ","link":"/2019/04/30/Luogu-P2153-SDOI2009-æ™¨è·‘-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P2272 [ZJOI2007]æœ€å¤§åŠè”é€šå­å›¾ è§£é¢˜æŠ¥å‘Š","text":"é¢˜é¢æˆé‚£æ ·äº†éƒ½æ²¡äººç®¡â€¦.ä¹Ÿæ˜¯æœ NOI Linux çœŸå¥½ç”¨ é¢˜ç›®é“¾æ¥P2272 [ZJOI2007]æœ€å¤§åŠè¿é€šå­å›¾ é¢˜æ„ç®€è¿°æœ€å¤§åŠè”é€šå­å›¾è®¡æ•°ã€‚ è§£é¢˜æ€æƒ³è”é€šå­å›¾ç¼©ç‚¹åDPæœ€é•¿é“¾ï¼Œç„¶åè®¡æ•°çš„è¯åœ¨SCCä¸ŠDPçš„æ—¶å€™è®°å½•ä¸€ä¸‹ç›¸ç­‰çš„æƒ…å†µå°±è¡Œäº†ã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148#include &lt;cstdio&gt;#include &lt;cctype&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); putchar('\\n'); }}using namespace FastIO;const int N = 1e5 + 6;const int M = 2e6 + 6;template &lt;typename T&gt;class stack { private: int stop; T s[N]; public: stack() {stop = 0;} inline bool empty() {return stop == 0;} inline void push(T x) {s[++stop] = x;} inline void pop() {if(!empty()) stop--;} inline T top() {return s[stop];}};template &lt;typename T&gt;class queue { private: int head, tail; T q[N &lt;&lt; 1]; public: queue() {head = tail = 0;} inline bool empty() {return head &gt;= tail;} inline void push(T x) {q[++tail] = x;} inline void pop() {if(!empty()) head++;} inline T front() {return q[head + 1];}};stack &lt;int&gt; s;int n, m, mod;int head[N], nxt[M], ver[M], cnt;int scc[N], dfn[N], low[N], num[N], idx, tot;bool v[N];int Head[N], Nxt[M], Ver[M], pre[N], Cnt;int in[N], dp[N], ans[N];inline int min(int a, int b) {return a &lt; b ? a : b;}inline int max(int a, int b) {return a &gt; b ? a : b;}inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}void tarjan(int x) { dfn[x] = low[x] = ++idx; s.push(x); v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(!dfn[y]) { tarjan(y); low[x] = min(low[x], low[y]); } else if(v[y]) low[x] = min(low[x], dfn[y]); } if(dfn[x] == low[x]) { tot++; while(!s.empty()) { int y = s.top(); s.pop(); v[y] = 0; scc[y] = tot; num[tot]++; if(x == y) break; } }}inline void Add(int x, int y) { Ver[++Cnt] = y, Nxt[Cnt] = Head[x], Head[x] = Cnt; in[y]++;}inline void rebuild() { for(register int x = 1; x &lt;= n; x++) { for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(scc[x] != scc[y]) Add(scc[x], scc[y]); } }}inline void TopSort() { queue &lt;int&gt; q; for(register int i = 1; i &lt;= tot; i++) { if(!in[i]) q.push(i); dp[i] = num[i], ans[i] = 1; } while(!q.empty()) { int x = q.front(); q.pop(); for(register int i = Head[x]; i; i = Nxt[i]) { int y = Ver[i]; in[y]--; if(!in[y]) q.push(y); if(pre[y] == x) continue; if(dp[y] &lt; dp[x] + num[y]) { dp[y] = dp[x] + num[y]; ans[y] = ans[x]; } else if(dp[y] == dp[x] + num[y]) { ans[y] = (ans[y] + ans[x]) % mod; } pre[y] = x; } }}int main() { n = read(), m = read(), mod = read(); for(register int i = 1; i &lt;= m; i++) add(read(), read()); for(register int i = 1; i &lt;= n; i++) if(!dfn[i]) tarjan(i); rebuild(); TopSort(); int count = 0, maxx = 0; for(register int i = 1; i &lt;= tot; i++) { if(dp[i] &gt; maxx) maxx = dp[i], count = ans[i]; else if(dp[i] == maxx) count = (count + ans[i]) % mod; } write(maxx); write(count); return 0;}","link":"/2019/08/01/Luogu-P2272-ZJOI2007-æœ€å¤§åŠè”é€šå­å›¾-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P2486 [SDOI2011]æŸ“è‰² è§£é¢˜æŠ¥å‘Š","text":"å‚»é€¼é¢˜ é¢˜ç›®é“¾æ¥P2486 [SDOI2011]æŸ“è‰² é¢˜æ„ç®€è¿°ç›´æ¥æ¬luoguäº†ã€‚ è§£é¢˜æ€æƒ³å…ˆæ ‘å‰–ï¼Œçº¿æ®µæ ‘ç»´æŠ¤ä¸‰ä¸ªä¿¡æ¯ï¼š åŒºé—´é¢œè‰²æ•°é‡ åŒºé—´å·¦ç«¯ç‚¹é¢œè‰² åŒºé—´å³ç«¯ç‚¹é¢œè‰² ç„¶ååœ¨åˆå¹¶çš„æ—¶å€™åˆ¤ä¸€ä¸‹ä¸¤åŒºé—´é¢œè‰²æ˜¯å¦é‡å å°±è¡Œäº†ã€‚ åšæ³•ä¸€çœ¼äº†ï¼Œç äº†ä¸€ä¸‡å¹´ã€‚ éš¾ç ï¼Œè‰ã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188#include &lt;cstdio&gt;#include &lt;cctype&gt;#include &lt;vector&gt;#include &lt;algorithm&gt;#define int unsigned intinline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w;}const int N = 100005;int n, m, w[N], ut, vt, at, bt, ct;char op;int fa[N], siz[N], son[N], dfn[N], ptn[N], top[N], dep[N], cnt;std::vector&lt;int&gt; gra[N];inline void add(int u, int v) { gra[u].push_back(v); gra[v].push_back(u);}void dfs1(int u) { for(int i = 0; i &lt; gra[u].size(); i++) { int v = gra[u][i]; if(v == fa[u]) continue; dep[v] = dep[u] + 1; fa[v] = u; dfs1(v); siz[u] += siz[v] + 1; if(siz[v] &gt; siz[son[u]]) son[u] = v; }}void dfs2(int u, int tp) { top[u] = tp; dfn[u] = ++cnt; ptn[dfn[u]] = u; if(son[u]) dfs2(son[u], tp); for(int i = 0; i &lt; gra[u].size(); i++) { int v = gra[u][i]; if(v == son[u] || v == fa[u]) continue; dfs2(v, v); }}struct Node { int l, r, tot; bool tag;} sgt[N &lt;&lt; 2];void pushdown(int o) { int lch = o &lt;&lt; 1, rch = (o &lt;&lt; 1) | 1; if(sgt[o].tag) { sgt[lch].l = sgt[lch].r = sgt[rch].l = sgt[rch].r = sgt[o].l; sgt[lch].tag = sgt[rch].tag = true; sgt[lch].tot = sgt[rch].tot = 1; sgt[o].tag = false; }}void merge(Node &amp;rt, Node ls, Node rs) { rt.l = ls.l; rt.r = rs.r; rt.tot = ls.tot + rs.tot; if(ls.r == rs.l) rt.tot--;}void build(int o, int l, int r) { if(l == r) { sgt[o].l = sgt[o].r = w[ptn[l]]; sgt[o].tot = 1; return; } int mid = (l + r) &gt;&gt; 1, lch = o &lt;&lt; 1, rch = (o &lt;&lt; 1) | 1; build(lch, l, mid); build(rch, mid + 1, r); merge(sgt[o], sgt[lch], sgt[rch]);}void modify(int o, int l, int r, int ll, int rr, int v) { if(l == ll &amp;&amp; r == rr) { sgt[o].l = sgt[o].r = v; sgt[o].tot = 1; sgt[o].tag = true; return; } pushdown(o); int mid = (l + r) &gt;&gt; 1, lch = o &lt;&lt; 1, rch = (o &lt;&lt; 1) | 1; if(rr &lt;= mid) { modify(lch, l, mid, ll, rr, v); } else if(ll &gt; mid) { modify(rch, mid + 1, r, ll, rr, v); } else { modify(lch, l, mid, ll, mid, v); modify(rch, mid + 1, r, mid + 1, rr, v); } merge(sgt[o], sgt[lch], sgt[rch]);}Node query(int o, int l, int r, int ll, int rr) { if(l == ll &amp;&amp; r == rr) { return sgt[o]; } pushdown(o); int mid = (l + r) &gt;&gt; 1, lch = o &lt;&lt; 1, rch = (o &lt;&lt; 1) | 1; if(rr &lt;= mid) { return query(lch, l, mid, ll, rr); } else if(ll &gt; mid) { return query(rch, mid + 1, r, ll, rr); } else { Node ls = query(lch, l, mid, ll, mid), rs = query(rch, mid + 1, r, mid + 1, rr), res; merge(res, ls, rs); return res; }}void modify(int u, int v, int c) { int tu = top[u], tv = top[v]; while(tu != tv) { if(dep[tu] &gt; dep[tv]) { std::swap(tu, tv); std::swap(u, v); } modify(1, 1, n, dfn[tv], dfn[v], c); v = fa[tv]; tv = top[v]; } if(dep[u] &gt; dep[v]) std::swap(u, v); modify(1, 1, n, dfn[u], dfn[v], c);}int query(int u, int v) { Node t; int res = 0, cu = -1, cv = -1, tu = top[u], tv = top[v]; while(tu != tv) { if(dep[tu] &gt; dep[tv]) { std::swap(tu, tv); std::swap(u, v); std::swap(cu, cv); } t = query(1, 1, n, dfn[tv], dfn[v]); res += t.tot; if(t.r == cv) res--; cv = t.l; v = fa[tv]; tv = top[v]; } if(dep[u] &gt; dep[v]) { std::swap(u, v); std::swap(cu, cv); } t = query(1, 1, n, dfn[u], dfn[v]); res += t.tot; if(t.l == cu) res--; if(t.r == cv) res--; return res;}signed main() { n = read(); m = read(); for(int i = 1; i &lt;= n; i++) w[i] = read(); for(int i = 1; i &lt; n; i++) { ut = read(); vt = read(); add(ut, vt); } dfs1(1); dfs2(1, 1); build(1, 1, n); while(m--) { do { op = getchar(); } while(op != 'C' &amp;&amp; op != 'Q'); at = read(); bt = read(); if(op == 'Q') { printf(\"%d\\n\", query(at, bt)); } if(op == 'C') { ct = read(); modify(at, bt, ct); } } return 0;}","link":"/2019/07/19/Luogu-P2486-SDOI2011-æŸ“è‰²-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P2886 [USACO07NOV]ç‰›ç»§ç”µå™¨Cow Relays è§£é¢˜æŠ¥å‘Š","text":"çŸ©ä¹˜xå›¾è®º é¢˜ç›®æè¿°æå…¶ä¸æ¸…æ¥šå·®è¯„ã€‚ é¢˜ç›®é“¾æ¥P2886 [USACO07NOV]ç‰›ç»§ç”µå™¨Cow Relays é¢˜æ„ç®€è¿°ç»™å®šä¸€å¼ æ— å‘å›¾ï¼Œè¾¹å·ä¸ºTï¼Œæ±‚S-&gt;Eçš„ç»è¿‡Næ¡è¾¹çš„æœ€çŸ­è·¯ã€‚ è§£é¢˜æ€æƒ³çœ‹åˆ°è¾¹æ•°å¯ä»¥æƒ³åˆ°ä½¿ç”¨Floydï¼Œä½†æ˜¯$n$è¿‡å¤§ï¼Œäºæ˜¯å¯ä»¥æ¨æµ‹ç‚¹ç¼–å·åˆ†å¸ƒç¨€ç–ï¼Œåœ¨è¯»å…¥æ—¶ç¦»æ•£åŒ–ä¸€ä¸‹ã€‚ å¦‚ä½•ç»´æŠ¤ç»è¿‡çš„è¾¹æ•°ä¸ºNï¼Ÿè€ƒè™‘ä¸¤ä¸ªçŸ©é˜µ$A = x \\times x,B = y \\times y$åˆ†åˆ«ç»´æŠ¤äº†ç‚¹æ•°ä¸º$x, y$çš„æœ€çŸ­è·¯ï¼Œæˆ‘ä»¬å°†å…¶åˆå¹¶ï¼Œä¾¿å¯ä»¥å¾—åˆ°ä¸€ä¸ªç‚¹æ•°ä¸º$x + y$çš„æœ€çŸ­è·¯çŸ©é˜µã€‚ç±»ä¼¼åœ°ï¼Œè€ƒè™‘å°†åŸè·ç¦»çŸ©é˜µåˆå¹¶$n - 1$æ¬¡ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å¾—åˆ°ç»è¿‡Næ¡è¾¹çš„æœ€çŸ­è·¯ã€‚ ä½†æ˜¯è§‚å¯Ÿé¢˜ç›®ä¸­çš„$N$çš„èŒƒå›´ï¼Œæˆ‘ä»¬å‘ç°ï¼šå¤ªå¤§äº†ã€‚åˆæ³¨æ„åˆ°æ¯æ¬¡åˆå¹¶çš„çŸ©é˜µç›¸åŒï¼Œéƒ½ä¸ºåŸè·ç¦»çŸ©é˜µï¼Œä¸å¦¨è€ƒè™‘çŸ©é˜µå¿«é€Ÿå¹‚ï¼Œä½†æ˜¯é‡è½½çš„ä¹˜æ³•éœ€è¦æ”¹ä¸ºåˆå¹¶çš„æ›´æ–°æ“ä½œè€Œä¸æ˜¯ä¸€èˆ¬æ„ä¹‰ä¸‹çš„çŸ©é˜µä¹˜æ³•ï¼Œè¿™æ ·ï¼Œå°±å¯ä»¥$O(\\log n)$å¾—åˆ°ç­”æ¡ˆã€‚ å¯ä»¥å«å®ƒå¹¿ä¹‰çŸ©é˜µå¿«é€Ÿå¹‚å˜›QAQ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;cstdio&gt;#include &lt;cstring&gt;#define add(x, y, z) d.m[x][y] = z;const int N = 1000010;template &lt;typename T&gt; T min(T a, T b) {return a &lt; b ? a : b;}int n, t, s, e, tot;int num[N];struct Mat { int m[501][501]; Mat operator * (const Mat &amp;a) const { Mat ans; memset(ans.m, 0x3f, sizeof(ans.m)); for(register int k = 1; k &lt;= tot; k++) { for(register int i = 1; i &lt;= tot; i++) { for(register int j = 1; j &lt;= tot; j++) { ans.m[i][j] = min(ans.m[i][j], m[i][k] + a.m[k][j]); } } } return ans; }}f, d;int main() { memset(d.m, 0x3f, sizeof(d.m)); scanf(\"%d %d %d %d\", &amp;n, &amp;t, &amp;s, &amp;e); for(register int i = 1; i &lt;= t; i++) { int x, y, z; scanf(\"%d%d%d\", &amp;z, &amp;x, &amp;y); if(!num[x]) num[x] = ++tot; if(!num[y]) num[y] = ++tot; add(num[x], num[y], z); add(num[y], num[x], z); } f = d; n--; for(; n; n &gt;&gt;= 1, d = d * d) if(n &amp; 1) f = f * d; printf(\"%d\", f.m[num[s]][num[e]]); return 0;}","link":"/2019/05/14/Luogu-P2886-USACO07NOV-ç‰›ç»§ç”µå™¨Cow-Relays-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P2746 [USACO5.3]æ ¡å›­ç½‘Network of Schools è§£é¢˜æŠ¥å‘Š","text":"for(register int j = 1; j &lt;= n; i++) Farmer Johnå¤ªå±‘äº† é¢˜ç›®é“¾æ¥P2746 [USACO5.3]æ ¡å›­ç½‘Network of Schools é¢˜æ„ç®€è¿°ç»™ä½ ä¸€å¼ å›¾ï¼Œä½ å¾—çœ‹å‡ºæ¥é¢˜ç›®è®©ä½ æ‰¾å‡ºå…¥åº¦ä¸º0çš„å¼ºè¿é€šåˆ†é‡çš„ä¸ªæ•°ä»¥åŠå®ƒä¸å‡ºåº¦ä¸º0çš„å¼ºè¿é€šåˆ†é‡çš„ä¸ªæ•°è¾ƒå¤§è€… è§£é¢˜æ€æƒ³å…ˆæ¥è§£è¯»ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦å‘é¢˜æ„ç®€è¿°é‚£æ ·åšï¼š ç¬¬ä¸€é—®è¦æƒ³åˆ†å‘ç»™æ›´å¤šçš„å­¦æ ¡ï¼Œå¿…é¡»ä»å…¥åº¦ä¸º0çš„ç‚¹å¼€å§‹åˆ†å‘ã€‚ ä¸å¦¨è€ƒè™‘ä¸€ä¸ªå…¥åº¦ä¸ä¸º0çš„ç‚¹ï¼šå¯¹äºä¸€ä¸ªå…¥åº¦ä¸ä¸º0çš„ç‚¹ï¼Œæˆ‘ä»¬æ€»èƒ½ä»å¯ä»¥æŠµè¾¾å®ƒçš„ç‚¹å¼€å§‹åˆ†å‘ï¼Œè¿™æ ·æ¥æ”¶æ•°é‡æ˜¾ç„¶æ›´ä¼˜ã€‚ ç¬¬äºŒé—®è¦ä½¿åŸå›¾å¼ºè¿é€šï¼Œåˆ™æ„é€ åçš„å›¾ä¸å­˜åœ¨å…¥åº¦ä¸å‡ºåº¦ä¸º0çš„ç‚¹ã€‚æˆ‘ä»¬ä»…éœ€æ±‚å‡ºä¸¤è€…ä¸­çš„æ•°é‡è¾ƒå¤§è€…ï¼Œ å¯ä»¥é€šè¿‡è¾ƒå°è€…å‘å…¶è¿è¾ƒå¤§æ•°é‡çš„è¾¹ä½¿åŸå›¾ä¸å­˜åœ¨å…¥åº¦ä¸å‡ºåº¦ä¸º0çš„ç‚¹ï¼Œæ­¤æ—¶åŸå›¾å¼ºè¿é€šã€‚ å…·ä½“å®ç°å°±æ˜¯ç¼©ç‚¹åç»Ÿè®¡ä¸€ä¸‹æ¯ä¸ªèŠ‚ç‚¹çš„åº¦å°±è¡Œäº†ã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109#include &lt;cstdio&gt;#include &lt;cctype&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0'; ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}const int N = 110;const int M = N * N;using namespace FastIO;template &lt;typename T&gt; T max(T a, T b) {return a &gt; b ? a : b;}template &lt;typename T&gt; T min(T a, T b) {return a &lt; b ? a : b;}template &lt;typename T&gt;class stack { private: int stop; T s[N &lt;&lt; 1]; public: stack() {stop = 0;} inline bool empty() {return !stop;} inline void push(T x) {s[++stop] = x;} inline void pop() {if(!empty()) stop--;} inline T top() {return s[stop];}};stack &lt;int&gt; s;int head[N], ver[M], nxt[M], scc[N], dfn[N], low[N];int in[N], out[N];int idx, cnt, ans1, ans2, n, tot;bool v[N];inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}void tarjan(int x) { dfn[x] = low[x] = ++idx; v[x] = 1; s.push(x); for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(!dfn[y]) { tarjan(y); low[x] = min(low[x], low[y]); } else if(v[y]) { low[x] = min(low[x], dfn[y]); } } if(dfn[x] == low[x]) { tot++; while(s.top()) { int y = s.top(); s.pop(); v[y] = 0; scc[y] = tot; if(x == y) break; } }}int main() { n = read(); for(register int i = 1; i &lt;= n; i++) { int x = read(); while(x != 0) add(i, x), x = read(); } for(register int i = 1; i &lt;= n; i++) { if(!dfn[i]) tarjan(i); } for(register int i = n; i &gt;= 1; i--) { for(register int j = head[i]; j; j = nxt[j]) { if(scc[i] != scc[ver[j]]) { in[scc[ver[j]]]++; out[scc[i]]++; } } } for(register int i = 1; i &lt;= tot; i++) { if(in[i] == 0) ans1++; if(out[i] == 0) ans2++; } if(tot == 1) { puts(\"1\"); puts(\"0\"); return 0; } write(ans1); write(max(ans1, ans2)); return 0;}","link":"/2019/04/30/Luogu-P2746-USACO5-3-æ ¡å›­ç½‘Network-of-Schools-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P3119 è‰é‰´å®š è§£é¢˜æŠ¥å‘Š","text":"è‰é‰´å®šå¤ªè‰¹äº†ã€‚ é¢˜ç›®é“¾æ¥P3119 è‰é‰´å®šGrass Cownoisseur é¢˜æ„ç®€è¿°ç»™ä½ ä¸€å¼ å›¾ï¼Œå…è®¸åŠ ä¸€æ¡å·²çŸ¥è¾¹çš„åå‘è¾¹ï¼Œæ±‚ä»ç‚¹1å‡ºå‘å¹¶å›åˆ°ç‚¹1æœ€å¤šç»è¿‡å¤šå°‘ä¸ªç‚¹ã€‚ è§£é¢˜æ€æƒ³é¦–å…ˆåœ¨åŸå›¾ä¸Šç¼©ç‚¹ï¼Œç¼©æˆDAGï¼Œç‚¹æƒç›¸åŠ ã€‚ ç„¶ååœ¨DAGä¸Šæ‹“æ‰‘æ’åºæˆ–è€…SPFAæ±‚å‡ºä»¥1ä¸ºæºçš„æœ€é•¿è·¯ã€‚ ç„¶åå»ºåå›¾ï¼ˆå¯ä»¥åœ¨ç¼©ç‚¹åå°±æï¼‰ã€‚ å†åœ¨åå›¾ä¸Šæ±‚å‡ºä»¥scc[1]ä¸ºæºçš„æœ€é•¿è·¯ï¼Œå³åŸDAGä¸Šä»¥scc[1]ä¸ºæ±‡çš„æœ€é•¿è·¯ã€‚ æœ€åï¼Œæšä¸¾æ¯ä¸€ä¸ªåŸå›¾ä¸Šçš„é¡¶ç‚¹iï¼Œè‹¥scc[i]å¯è¾¾ï¼Œæšä¸¾æ¯ä¸€æ¡åå‘è¾¹ï¼ŒåŒæ—¶æ›´æ–°ç­”æ¡ˆã€‚ æ³¨æ„åå‘è¾¹æœªä½¿ç”¨çš„æƒ…å†µï¼Œåˆå§‹åŒ–ans = num[scc[1]]å°±è¡Œäº†ã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179#include &lt;cstdio&gt;#include &lt;cctype&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'); if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 1e5 + 6;const int M = N &lt;&lt; 1;const int INF = 0xcfcfcfcf;template &lt;typename T&gt; T max(T a, T b) {return a &gt; b ? a : b;}template &lt;typename T&gt; T min(T a, T b) {return a &lt; b ? a : b;}template &lt;typename T&gt;class stack { private: int stop; T s[N &lt;&lt; 1]; public: stack() {stop = 0;} inline bool empty() {return stop == 0;} inline void push(T x) {s[++stop] = x;} inline void pop() {if(!empty()) stop--;} inline T top() {return s[stop];}};template &lt;typename T&gt;class queue { private: int head, tail; T q[N &lt;&lt; 1]; public: queue() {head = tail = 0;} inline bool empty() {return head &gt;= tail;} inline void push(T x) {q[++tail] = x;} inline void pop() {if(!empty()) head++;} inline T front() {return q[head + 1];}};int n, m, st, ans;int head[N], ver[M], nxt[M], cnt;int dfn[N], low[N], scc[N], num[N], tot, idx;int head1[N], ver1[M], nxt1[M], cnt1;int head2[N], ver2[M], nxt2[M], cnt2;int d1[N], d2[N];bool v[N];stack &lt;int&gt; s;inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}inline void add1(int x, int y) { ver1[++cnt1] = y, nxt1[cnt1] = head1[x], head1[x] = cnt1;}inline void add2(int x, int y) { ver2[++cnt2] = y, nxt2[cnt2] = head2[x], head2[x] = cnt2;}void tarjan(int x) { dfn[x] = low[x] = ++idx; s.push(x); v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(!dfn[y]) { tarjan(y); low[x] = min(low[x], low[y]); } else if(v[y]) { low[x] = min(low[x], dfn[y]); } } if(low[x] == dfn[x]) { tot++; while(s.top()) { int y = s.top(); s.pop(); scc[y] = tot; num[tot]++; v[y] = 0; if(x == y) break; } }}inline void spfa1() { queue &lt;int&gt; q; v[st] = 1; d1[st] = num[st]; q.push(st); while(!q.empty()) { int x = q.front(); q.pop(); v[x] = 0; for(register int i = head1[x]; i; i = nxt1[i]) { int y = ver1[i]; if(d1[y] &lt; d1[x] + num[y]) { d1[y] = d1[x] + num[y]; if(!v[y]) { v[y] = 1; q.push(y); } } } }}inline void spfa2() { queue &lt;int&gt; q; v[st] = 1; d2[st] = num[st]; q.push(st); while(!q.empty()) { int x = q.front(); q.pop(); v[x] = 0; for(register int i = head2[x]; i; i = nxt2[i]) { int y = ver2[i]; if(d2[y] &lt; d2[x] + num[y]) { d2[y] = d2[x] + num[y]; if(!v[y]) { v[y] = 1; q.push(y); } } } }}int main() { n = read(), m = read(); for(register int i = 1; i &lt;= m; i++) { add(read(), read()); } for(register int i = 1; i &lt;= n; i++) { if(!dfn[i]) tarjan(i); } st = scc[1]; for(register int x = 1; x &lt;= n; x++) { for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(scc[x] != scc[y]) add1(scc[x], scc[y]), add2(scc[y], scc[x]); } } spfa1(); spfa2(); int ans = num[st]; for(register int x = 1; x &lt;= n; x++) { if(!v[scc[x]] &amp;&amp; d1[scc[x]]) { v[scc[x]] = 1; for(register int i = head2[scc[x]]; i; i = nxt2[i]) { int y = ver2[i]; if(!d2[y]) continue; ans = max(ans, d1[scc[x]] + d2[y] - num[st]); } } } write(ans); return 0;}","link":"/2019/05/04/Luogu-P3119-è‰é‰´å®š-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P3199 [HNOI2009]æœ€å°åœˆ è§£é¢˜æŠ¥å‘Š","text":"æ˜¯å®åŸŸäºŒåˆ†è€¶ï¼ é¢˜ç›®é“¾æ¥P3199 [HNOI2009]æœ€å°åœˆ é¢˜æ„ç®€è¿°ç»™ä½ ä¸€å¼ å›¾ï¼Œæ±‚æ¯ä¸ªç¯çš„è¾¹é•¿å¹³å‡å€¼çš„æœ€å°å€¼ã€‚ è§£é¢˜æ€æƒ³ç›´æ¥åšä¸å¥½åšï¼Œçœ‹åˆ°æå€¼è€ƒè™‘äºŒåˆ†ã€‚ äºŒåˆ†ç­”æ¡ˆåï¼Œæˆ‘ä»¬å¯¹æ¯ä¸€æ¡è¾¹å‡å»è¿™ä¸ªç­”æ¡ˆï¼Œç„¶åè·‘è´Ÿç¯ã€‚å¦‚æœæœ‰è´Ÿç¯ï¼Œè¯´æ˜ç­”æ¡ˆå¯ä»¥æ›´å°ï¼Œæ­¤é¢˜å®Œç»“ã€‚ éœ€è¦æ³¨æ„ä¸€ä¸‹è¾¹æƒæ˜¯æµ®ç‚¹æ•°ï¼Œæ‰€ä»¥ä¸ç®¡æ˜¯ç­”æ¡ˆè¿˜æ˜¯dist[]æ•°ç»„éƒ½è¦å¼€æµ®ç‚¹å‹ï¼Œä¸ç„¶ä¼šç‚¸ã€‚ å®åŸŸäºŒåˆ†å¬è¯´for(æ¬¡æ•°)æ¯”while() + epsæ›´ç²¾ç¡®ï¼Ÿæ²¡è¯•ã€‚ è¿˜æœ‰è¾¹æ•°è«åå¼€å°â€¦ å‚è€ƒä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970#include &lt;cstdio&gt;#include &lt;cctype&gt;#include &lt;cstring&gt;inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w;}const int N = 6010;const int M = N &lt;&lt; 1;const double eps = 1e-10;const int INF = 1e7;int n, m, cnt;int head[N], nxt[M], ver[M];double edge[M], d[N];bool v[N];inline void add(int x, int y, double z) { ver[++cnt] = y, edge[cnt] = z, nxt[cnt] = head[x], head[x] = cnt;}inline void init() { memset(v, 0, sizeof(v)); memset(d, 0, sizeof(d));}bool dfs(int x, double ans) { v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(d[y] &gt; d[x] + z - ans - eps) { if(v[y]) return 1; d[y] = d[x] + z - ans; if(dfs(y, ans)) return 1; } } v[x] = 0; return 0;}inline bool check(double ans) { init(); for(register int i = 1; i &lt;= n; i++) { if(v[i]) continue; if(dfs(i, ans)) return 1; } return 0;}int main() { n = read(), m = read(); for(register int i = 1; i &lt;= m; i++) { int x = read(), y = read(); double z; scanf(\"%lf\", &amp;z); add(x, y, z); } double l = -INF, r = INF; while(r - l &gt; eps) { double mid = (l + r) / 2; if(check(mid)) r = mid; else l = mid; } printf(\"%.8lf\", r); return 0;}","link":"/2019/07/17/Luogu-P3199-HNOI2009-æœ€å°åœˆ-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P3258 [JLOI2014]æ¾é¼ çš„æ–°å®¶ è§£é¢˜æŠ¥å‘Š","text":"çº¿æ®µæ ‘å¤§å¸¸æ•°é€‰æ‰‹æ€•è¢«å¡ï¼Œæ‰€ä»¥å†™äº†æ ‘ä¸Šå·®åˆ†qwqã€‚ é¢˜ç›®é“¾æ¥P3258 [JLOI2014]æ¾é¼ çš„æ–°å®¶ é¢˜æ„ç®€è¿°ç»™ä½ ä¸€æ£µæ ‘å’Œä¸€ä¸ªéå†é¡ºåºï¼Œæ±‚æ¯ä¸ªç‚¹è‡³å°‘ç»è¿‡å¤šå°‘æ¬¡ã€‚ è§£é¢˜æ€æƒ³æ ‘å‰–+çº¿æ®µæ ‘ç›´æ¥å¯¹æ¯æ¡é“¾åŒºé—´åŠ 1å°±å¯ï¼Œæ¿å­é¢˜ï¼Œä¸¤ä¸ªlogè·‘å¾—å¿«ã€‚ æ ‘å‰–+æ ‘ä¸Šå·®åˆ†è€ƒè™‘åªæœ‰é“¾ï¼Œè¿˜æ˜¯åŠ 1ï¼Œä¸å¦¨ç”¨æ ‘ä¸Šå·®åˆ†ç„¶è€Œå†™è¿™é¢˜ä¹‹å‰æˆ‘å¹¶ä¸ä¼šï¼Œå¯¹äºæ¯æ¡é“¾ï¼Œæˆ‘ä»¬è€ƒè™‘ç»´æŠ¤ä¸€ä¸ªåˆ°æ ¹è·ç¦»çš„å·®åˆ†æ•°ç»„è®°ä¸ºd[x]ï¼Œè¿™æ ·çš„è¯ï¼Œè¦å¯¹é“¾$(x,y)$æ•´ä½“åŠ ä¸€ï¼Œåªéœ€d[x]++, d[y]++, d[fa[lca(x, y)]] -= 2ï¼ŒæŠŠç¥–å…ˆèŠ‚ç‚¹åˆ°æ ¹çš„è·ç¦»å®¹æ–¥æ‰ï¼Œå³å¯å®Œæˆå¯¹é“¾çš„æ•´ä½“åŠ 1ï¼Œå°‘ä¸ªlogã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990#include &lt;cstdio&gt;#include &lt;cctype&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 3e5 + 6;const int M = N &lt;&lt; 1;template &lt;typename T&gt; inline void swap(T &amp;x, T &amp;y) {T tmp = x; x = y, y = tmp;}int n, delta[N];int head[N], nxt[M], ver[M], cnt;int w[N], a[N], dfn[N], ptn[N], idx;int tp[N], sz[N], d[N], fa[N], son[N];inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt; ver[++cnt] = x, nxt[cnt] = head[y], head[y] = cnt;}void dfs1(int x) { sz[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == fa[x]) continue; fa[y] = x; d[y] = d[x] + 1; dfs1(y); sz[x] += sz[y]; if(sz[y] &gt; sz[son[x]]) son[x] = y; }}void dfs2(int x, int top) { tp[x] = top; dfn[x] = ++idx; ptn[dfn[x]] = x; if(son[x]) dfs2(son[x], top); for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == fa[x] || y == son[x]) continue; dfs2(y, y); }}inline int lca(int x, int y) { while(tp[x] != tp[y]) { if(d[tp[x]] &gt; d[tp[y]]) swap(x, y); y = fa[tp[y]]; } return d[x] &lt; d[y] ? x : y;}int main() { n = read(); for(register int i = 1; i &lt;= n; i++) w[i] = read(); for(register int i = 1; i &lt; n; i++) add(read(), read()); dfs1(1); dfs2(1, 1); a[w[1]] = 1; for(register int i = 2; i &lt;= n; i++) { delta[w[i - 1]]++; delta[w[i]]++; delta[fa[lca(w[i - 1], w[i])]] -= 2; a[lca(w[i - 1], w[i])]--; } for(register int i = n; i &gt;= 1; i--) a[ptn[i]] += delta[ptn[i]], delta[fa[ptn[i]]] += delta[ptn[i]]; for(register int i = 1; i &lt;= n; i++) write(a[i] - 1); return 0;}","link":"/2019/07/18/Luogu-P3258-JLOI2014-æ¾é¼ çš„æ–°å®¶-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P3396 å“ˆå¸Œå†²çª è§£é¢˜æŠ¥å‘Š","text":"æ ¹å·åˆ†æ²»å…¥é—¨é¢˜ é¢˜ç›®é“¾æ¥P3396 å“ˆå¸Œå†²çª é¢˜æ„ç®€è¿°ç»™ä½ ä¸€ä¸ªåºåˆ—ï¼Œæ¯æ¬¡æŸ¥è¯¢æ¨¡pæ„ä¹‰ä¸‹æŸæ•°æ€»å’Œï¼Œæˆ–è€…æ›´æ”¹æŸä¸€ä¸ªæ•°ã€‚ è§£é¢˜æ€æƒ³å…ˆè€ƒè™‘æš´åŠ›æ€ä¹ˆæ‰“ï¼Œæ˜¾ç„¶æœ‰ä¸¤ç§æ“ä½œï¼šä¸€æ˜¯å…ˆ$O(n ^ 2)$é¢„å¤„ç†å‡ºæ¨¡$i$æ„ä¹‰ä¸‹ä½™æ•°ä¸º$j$çš„ç­”æ¡ˆï¼Œç„¶åå¯ä»¥åšåˆ°$O(1)$æŸ¥è¯¢ï¼Œ$O(n)$ä¿®æ”¹ã€‚ äºŒæ˜¯å¯¹äºæ¯ä¸€æ¬¡è¯¢é—®ï¼Œæš´åŠ›$O(n)$ç»Ÿè®¡ï¼Œä¿®æ”¹æ˜¯$O(1)$çš„ã€‚ ä¸¤ç§åšæ³•çš„æ€»å¤æ‚åº¦éƒ½æ˜¯$O(n ^ 2)$çš„ï¼Œä¸”ç¬¬ä¸€ç§åšæ³•ç©ºé—´ä¹Ÿä¼šç‚¸ã€‚ è§‚å¯Ÿåˆ°ä¸¤ç§åšæ³•æŸ¥è¯¢ä¿®æ”¹äº’è¡¥ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ç»“åˆä¸€ä¸‹ï¼šå¯¹äºæ¨¡æ•°è¾ƒå°çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥é¢„å¤„ç†å‡ºæ¥ï¼Œè¿™æ ·ç©ºé—´ä¸ä¼šç‚¸ï¼Œä¿®æ”¹èŒƒå›´ä¹Ÿä¼šå˜å°ã€‚ å¯¹äºæ¨¡æ•°è¾ƒå¤§çš„æƒ…å†µï¼Œæˆ‘ä»¬æš´åŠ›ç»Ÿè®¡ï¼Œè¿™æ ·ç»“æœä¸ä¼šè¿‡å¤šï¼ŒæŸ¥è¯¢ä¸ä¼šç‚¸ã€‚ è¿™ä¸ªè¾ƒå¤§è¾ƒå°çš„ç•Œï¼Œæˆ‘ä»¬å¯ä»¥å®šä¸º$O(\\sqrt n)$ï¼Œæ‰€ä»¥æ€»å¤æ‚åº¦ä¸º$O(n\\sqrt n)$ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263#include &lt;cstdio&gt;#include &lt;cctype&gt;#include &lt;cmath&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 150010;const int SIZE = 400;int n, m;int a[N];int f[SIZE][SIZE];int main() { n = read(), m = read(); int size = sqrt(n); for(register int i = 1; i &lt;= n; i++) { a[i] = read(); for(register int j = 1; j &lt;= size; j++) { f[j][i % j] += a[i]; } } while(m--) { char s[3]; scanf(\"%s\", s); int x = read(), y = read(); if(s[0] == 'A') { if(x &lt;= size) write(f[x][y]); else { int ans = 0; for(register int i = y; i &lt;= n; i += x) { ans += a[i]; } write(ans); } } else { for(register int i = 1; i &lt;= size; i++) { f[i][x % i] += y - a[x]; } a[x] = y; } } return 0;}","link":"/2019/08/26/Luogu-P3396-å“ˆå¸Œå†²çª-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P3623 [APIO2008]å…è´¹é“è·¯ è§£é¢˜æŠ¥å‘Š","text":"ç”Ÿæˆæ ‘å¤ªè”¡äº†æ¥ç»ƒä¸€ç»ƒã€‚ é¢˜ç›®é“¾æ¥P3623 [APIO2008]å…è´¹é“è·¯ é¢˜æ„ç®€è¿°ç»™ä½ ä¸€å¼ å›¾ï¼Œè¾¹æƒä¸º$0$æˆ–$1$ï¼Œæ±‚æƒå€¼ä¸º$k$çš„ç”Ÿæˆæ ‘ã€‚ è§£é¢˜æ€æƒ³æˆ‘ä»¬å…ˆæŠŠè¾¹æƒä¸º0çš„è¾¹ä¼˜å…ˆåŠ å…¥ç”Ÿæˆæ ‘ï¼Œç„¶åå¯ä»¥å¾—åˆ°ä¸€äº›è¾¹æƒä¸º1çš„å¿…é¡»åŠ å…¥ç”Ÿæˆæ ‘çš„è¾¹ï¼Œå¯¹å®ƒä»¬æ‰“ä¸Šæ ‡è®°ã€‚ ç„¶åå†æŠŠè¾¹æƒä¸º1çš„è¾¹ä¼˜å…ˆåŠ å…¥ç”Ÿæˆæ ‘ï¼Œå¹¶ä¸”è¦ä¼˜å…ˆåŠ å…¥æœ‰æ ‡è®°çš„è¾¹ï¼Œç„¶åå½“è¾¹æƒä¸º1çš„è¾¹åŠ åˆ°$k$æ¡æ—¶å°±è·³åˆ°è¾¹æƒä¸º0çš„è¾¹åŠ å®Œå‰©ä¸‹çš„ç”Ÿæˆæ ‘å°±è¡Œäº†ã€‚ åˆ¤å®šæ— è§£éœ€è¦è€ƒè™‘ç”Ÿæˆæ ‘æƒå€¼æ˜¯å¦ä¸ºkå’Œæ˜¯å¦æ„æˆç”Ÿæˆæ ‘ã€‚ æ³¨æ„é¢˜ç›®ä¸­è¯»å…¥çš„0å’Œ1æ˜¯åçš„â€¦ è¦æ±‚è¾“å‡ºçš„0å’Œ1ä¹Ÿæ˜¯åçš„â€¦ å‚è€ƒä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &lt;cstdio&gt;#include &lt;algorithm&gt;using std::sort;const int N = 2e4 + 5;const int M = 1e5 + 6;int n, m, k, cnt;int fa[N];int find(int x) {return fa[x] == x ? x : fa[x] = find(fa[x]);}struct edge { int x, y, z, mark;} e[M];inline bool cmp1(edge a, edge b) { return a.z &lt; b.z;}inline bool cmp2(edge a, edge b) { if(a.z == b.z) return a.mark &gt; b.mark; return a.z &gt; b.z;}int main() { scanf(\"%d%d%d\", &amp;n, &amp;m, &amp;k); for(register int i = 1; i &lt;= m; i++) { int x, y, z; scanf(\"%d%d%d\", &amp;x, &amp;y, &amp;z); e[i] = edge{x, y, 1 - z}; } for(register int i = 1; i &lt;= n; i++) fa[i] = i; sort(e + 1, e + m + 1, cmp1); for(register int i = 1; i &lt;= m; i++) { int x = e[i].x, y = e[i].y; if(find(x) == find(y)) continue; fa[find(x)] = find(y), cnt++; if(e[i].z) e[i].mark = 1; if(cnt == n - 1) break; } cnt = 0; sort(e + 1, e + m + 1, cmp2); for(register int i = 1; i &lt;= n; i++) fa[i] = i; for(register int i = 1; i &lt;= m; i++) { if(e[i].mark) {fa[find(e[i].x)] = find(e[i].y); cnt++, k--; continue;} if(find(e[i].x) == find(e[i].y)) continue; fa[find(e[i].x)] = find(e[i].y); cnt++; e[i].mark = 1; if(e[i].z) k--; if(!k) for(; e[i].z; i++); if(cnt == n - 1) break; } if(k) return puts(\"no solution\"), 0; for(register int i = 1; i &lt;= m; i++) { if(e[i].mark) k++; } if(k &lt; n - 1) return puts(\"no solution\"), 0; for(register int i = 1; i &lt;= m; i++) { if(e[i].mark) printf(\"%d %d %d\\n\", e[i].x, e[i].y, 1 - e[i].z); } return 0;}","link":"/2019/08/03/Luogu-P3623-APIO2008-å…è´¹é“è·¯-è§£é¢˜æŠ¥å‘Š/"},{"title":"2019å¯’å‡æˆéƒ½æ‘¸é±¼è®°","text":"å‰è¨€è¿˜æ²¡æ”¾å¯’å‡çš„æ—¶å€™å°±çŸ¥é“è¦å‡ºå»äº†ï¼Œè€Œä¸”ä¸ç”¨è€ƒç”Ÿç‰©ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒæœŸå¾…å§ï¼Œäºæ˜¯è‚†æ„é¢“whkã€‚è¿™ç¯‡æ¸¸è®°æ˜¯Day7æ™šä¸Šåœ¨ç«è½¦ä¸Šå†™çš„ï¼Œå¤§å¤šæ•°å°è±¡æ¯”è¾ƒæ¸…æ™°ï¼ŒçŸ¥è¯†ç‚¹å¿˜å®Œäº†ã€‚ æ¸¸è®°è¾ƒé•¿ï¼Œå¤§å®¶å¯ä»¥è·³ç€çœ‹ã€‚ Day -infçªç„¶å¬è¯´å¯’å‡è¦å‡ºå»ç©ï¼Œè¿˜ä¸ç”¨è€ƒç”Ÿç‰©ï¼Œæ„Ÿè§‰å¾ˆçˆ½ï¼Œä¹Ÿå¼€å§‹æœŸå¾…è¿™åœºæ—…è¡Œï¼ˆé¢“æ–‡åŒ–è¯¾ï¼‰äº†ã€‚ Day -1ä¸Šåˆè€ƒå®Œè‹±è¯­åï¼Œå°±å¾€æ ¡é—¨å£è·‘ã€‚æ²¡åˆ°é—¨å£å°±çœ‹åˆ°æˆ‘çˆ¹äº†ï¼Œä½†æ²¡çœ‹åˆ°æ½˜è€å¸ˆã€‚æ‰“ç”µè¯æ‰çŸ¥é“å»è€ƒåœºæ‰¾æˆ‘ä»¬å»äº†ï¼Œå‡ï¼Œè¿æˆ‘åœ¨æ¡Œå­ä¸Šç•™çš„çº¸æ¡éƒ½æ²¡çœ‹è§ã€‚æ€»å½’æ˜¯åˆ°æ ¡é—¨å£äº†ï¼Œå°±å¾€ç«è½¦ç«™èµ°ã€‚åœ¨èµ¶æ—¶é—´çš„æƒ…å†µä¸‹ï¼Œè¿˜åœ¨ç«è½¦ç«™å¯¹é¢çš„é“é…’åƒäº†ä¸€é¡¿ä¸é”™çš„åˆé¤ï¼Œå¿ƒçœŸæ˜¯å¤§ã€‚ä¸è¿‡ä¹Ÿæ²¡æœ‰å¾ˆèµ¶å•¦ï¼Œç€æ€¥åœ°å»äº†å€™è½¦å®¤åå‘ç°è¿˜æ—©ï¼Œå°±ç©èµ·äº†æ‰‹æœºã€‚å€™è½¦çš„æ—¶å€™åƒé€¼ä¹çš„å®‰åˆ©ä¸‹äº†è¿™ä¸ªç¥å¥‡çš„è®¡ç®—å™¨ï¼šKalkylï¼ˆçœŸå«è¿™ä¸ªï¼Œä¸æ˜¯ä¹±ç ï¼‰ å±…ç„¶å¯ä»¥ç”»å›¾åƒï¼è™½ç„¶æˆ‘ä¸¥é‡æ€€ç–‘è¿™ä¸ª${f(x)=x^x}$çš„å›¾åƒç”»çš„æœ‰é—®é¢˜. ç©äº†ä¼šè§‰å¾—æ²¡å•¥æ„æ€ï¼Œç„¶åå°±ä¸Šè½¦äº†ã€‚ åœ¨è½¦ä¸Šå†™äº†è´ªå¿ƒçš„å­¦ä¹ æŠ¥å‘Šã€‚æœ¬æ¥å‡†å¤‡å†™å®Œåå†™çº¿æ€§DPçš„ï¼Œä½†æ˜¯é‰´äºè´ªå¿ƒå†™äº†1000+ï¼ˆæˆ‘å¤ªæ‡’äº†ï¼‰ï¼Œå°±æ²¡å†™äº†ï¼Œå¼€å§‹é¢“CSGOã€‚ æ‰“äº†ä¸€ä¸‹åˆæ­»æ–—ï¼Œå…¨æ˜¯æœºå™¨äººä¸€ç‚¹éƒ½ä¸å¥½ç©ã€‚æ‰‹æœºä¹Ÿæ²¡æœ‰ä¿¡å·ï¼Œåˆå›å¿†èµ·åœ¨é‡åº†æ—…æ¸¸æ—¶æ‰‹æœºæœ‰ä¿¡å·æ²¡ç”µçš„ç—›äº†â€¦â€¦ è¡¥äº†ã€ŠUnnaturalã€‹çš„ç¬¬ä¸€è¯ï¼Œå¤ªå¥½çœ‹äº†woccccccccccï¼ï¼å¯ä¸ºä»€ä¹ˆç¡•é¼ ä¸èƒ½ä¸‹è½½æ”¶è´¹è§†é¢‘å•ŠQAQã€‚ ä¹Ÿæ²¡æœ‰å…¨ç¨‹é¢“å•¦ï¼Œç©ç´¯äº†åæŠŠæ´›è°·blogä¸Šçš„æ–‡ç« æ¬åˆ°äº†hexoä¸Šï¼Œé¡ºä¾¿ä¿®æ”¹äº†ä¸€ä¸‹è¡¥ä»¥å‰çš„é”…ã€‚ å…³äºã€Šå·´é»åœ£æ¯é™¢ã€‹ï¼Œæˆ‘å¿˜äº†ã€‚ æ™šä¸Šæ²¡ç¡å¥½QAQï¼Œå¯¹é¢çš„å°å­©æ˜¯çœŸçš„åµã€‚å°±æ™•æ™•åœ°ç¡äº†å¤§æ¦‚å››ä¸ªå°æ—¶ã€‚ è¿™æ— æ‰€äº‹äº‹çš„ä¸€å¤©å°±è¿‡å»äº†ã€‚ Day 0æ—©ä¸Š6:00åˆ°ç«™ï¼Œç¬¬ä¸€æ„Ÿè§‰å°±æ˜¯ï¼Œç«è½¦ç«™æ€ä¹ˆè·Ÿè¥„é˜³ç«™ä¸€æ ·ç ´ï¼Œæ‰çŸ¥é“è¿™æ˜¯è€åŸåŒºã€‚ï¼ˆå»çš„ç…§ç‰‡æä¸¢äº†ï¼Œè¿™æ˜¯å›æ¥çš„æ—¶å€™ç…§çš„ï¼‰ å‡ºç«™åï¼Œæ‰¾äº†å¥½ä¹…æ‰çœ‹åˆ°é¾Ÿç¼©åœ¨è§’è½çš„KFCï¼Œåƒçš„ä¹Ÿä¸ç®—æ˜¯ä¸°ç››ã€‚ å®åœ¨æ˜¯å¤ªå›°äº†â€¦äºæ˜¯å»äº†é”¦é‡Œçš„Starbucksï¼Œå¤ªæ—©äº†äººå®¶éƒ½è¿˜æ²¡è¥ä¸šï¼Œå¥½å¿ƒçš„åº—ä¸»å…ˆæŠŠæˆ‘ä»¬æ”¾è¿›å»äº†wwwã€‚ å¾…åˆ°äº†å¤§æ¦‚9:30çš„æ ·å­ï¼Œå›é…’åº—äº†ã€‚æ„Ÿè§‰ä»é…’åº—å»é”¦é‡Œçš„æ—¶é—´æ¯”ä»é”¦é‡Œå»é…’åº—çš„æ—¶é—´è¦é•¿çš„å¤šã€‚åœ¨é…’åº—å¤§å ‚çœ‹åˆ°äº†å…³è€å¸ˆ(æ²¡ä¸Šä¸€èŠ‚è¯¾çš„ç­ä¸»ä»»)ã€‚ é¢†äº†å¬è¯¾è¯ã€è¯¾è¡¨å’Œç¬”è®°æœ¬åï¼Œå°±å»åƒåˆé¥­äº†ã€‚æ²¡åƒç«é”….éš¾å—.jpgã€‚ä¸‹åˆä¹Ÿæ²¡å¹²å•¥ï¼Œåœ¨é…’åº—æ‰“äº†ä¸€ä¸‹åˆLOLã€‚ ç„¶åDay 0å°±ç»“æŸäº†ï¼Œä¾ç„¶æ— æ‰€äº‹äº‹ã€‚ Day 1èµ·çš„æ—©ï¼Œåœ¨é£Ÿå ‚åƒäº†æ—©é¥­åï¼Œå¾—çŸ¥æ•™å®¤å±…ç„¶åœ¨é£Ÿå ‚é‡Œé¢ï¼Ÿï¼Ÿï¼Ÿä¸è¿‡è¿˜ä¸é”™å•¦ã€‚ æœ€å¼€å§‹æ˜¯hcyè€å¸ˆè®²æœç´¢ï¼ŒDFSæˆ‘å°±æ²¡ä¼šè¿‡ï¼Œè®²äº†ä¸ªæ¡†æ¶ï¼Œå‰©ä¸‹å¤§éƒ¨åˆ†æ˜¯è®²ä¾‹é¢˜ã€‚å…«çš‡ååˆ°æ˜¯ä¼šï¼Œä½†å…«æ•°ç æ˜¯å•¥å•Šâ€¦â€¦è®²å…«æ•°ç ï¼Œhcyå°±å¼€å§‹è®²Hashï¼Œè¯´åˆ°Hashï¼Œæˆ‘å°±æƒ³åˆ°ä¸€ä¸ªæœˆå‰åœ¨æœºæˆ¿ç”¨STL_SetAæ‰çš„å­—ç¬¦ä¸²å“ˆå¸Œï¼Œä½†æ˜¯å…«æ•°ç å¥½åƒå¹¶ä¸èƒ½ç”¨Setåšâ€¦â€¦ä¸€æ•´èŠ‚è¯¾ï¼ŒåŸºæœ¬ä¸Šå¼ºåˆ¶åœ¨çº¿ã€‚ æœç´¢ç»ˆäºè®²å®Œäº†ï¼Œæ¥ç€è®²çš„æ˜¯è´ªå¿ƒï¼Œè¿™ä¸ªæˆ‘ä¼šã€‚ å›½ç‹æ¸¸æˆç»ˆäºå¯ä»¥è‡ªå·±æ¨äº†ï¼Œé«˜ç²¾ä¾ç„¶ä¸ä¼šï¼ˆæƒ³ï¼‰å†™ã€‚ è´ªå¿ƒå¤§æ¦‚å°±æ˜¯åšé¢˜è®²é¢˜åšé¢˜è®²é¢˜ï¼ŒçŸ¥è¯†æ€§çš„ä¸œè¥¿å¹¶ä¸å¤šã€‚ å†ç„¶åå°±æ˜¯åˆ†æ²»ä¸äºŒåˆ†ï¼ˆæ²¡è®²ä¸‰åˆ†QAQï¼‰ã€‚ æ€æƒ³è¿˜æ˜¯æ¸…æ¥šäº†ï¼Œæ¯•ç«Ÿå­¦è¿‡ã€‚ç„¶è€Œåœ¨åšé¢˜çš„æ—¶å€™å‘ç°è‡ªå·±æ‰“çš„å¥½åƒæ˜¯ä¸ªå‡çš„äºŒåˆ†æ¿å­ï¼š 12345while(l+1&lt;r){ int mid=(l+r)&gt;&gt;1; if(ans&gt;=mid)mid=l; else mid=r;} ç„¶åè‡ªå·±çš„DEBUGå¥—è·¯å¥½åƒä¹Ÿè¡Œä¸é€šäº†ï¼ˆå¢å‡â€=â€œå·ä¸+1æˆ–-1ï¼‰ã€‚ äºæ˜¯è€è€å®å®åœ°å°±é¢˜è®ºé¢˜æ‰“æ¿å­ã€‚ è‡³äºå¿«é€Ÿå¹‚ï¼Œè®²çš„æ¿å­å¥½åƒå’Œæˆ‘æ‰“çš„åˆä¸å¤ªä¸€æ ·è¿˜å¥½æˆ‘é‚£ä¸ªä¹Ÿèƒ½ç”¨ã€‚ æ™šä¸ŠæŠŠéƒ¨åˆ†é¢˜å†™äº†å†™ï¼Œå‰©ä¸‹äº†ä¸€äº›ï¼ˆæ‡’å¾—ï¼‰éš¾ä»¥å®ç°çš„ã€‚ å›åˆ°é…’åº—åé¢“äº†å‡ é›†ã€ŠUnnaturalã€‹ã€‚ Day 1å°±ç»“æŸäº†ã€‚ Day 2æ²¡åƒæ—©é¥­ï¼ˆçœŸçš„åƒä¸ä¸‹ï¼‰ æ—©ä¸Šå»äº†æ²¡æ¥ä»€ä¹ˆäººï¼Ÿï¼Ÿï¼Ÿï¼ˆæœç„¶éƒ½åƒæ—©é¥­å»äº†ï¼‰ ä¸€æ•´å¤©éƒ½åœ¨è®²æ•°æ®ç»“æ„ã€‚ äºŒå‰å †ï¼Ÿ_priority_queue_å°±å¥½äº†ï¼ äºŒå‰æœç´¢æ ‘ï¼Ÿ_set_å°±å¥½äº†ï¼ æ”¹é©æ˜¥é£å¹æ»¡åœ°ï¼Œ_STL_çœŸäº‰æ°”ã€‚ ç„¶åå°±è®²èµ·äº†å¹¶æŸ¥é›†ã€‚ æ¿å­è¿˜æ˜¯æ¯”è¾ƒç†Ÿçš„ï¼Œä¸è¿‡è€å¸ˆæ²¡è®²æŒ‰ç§©åˆå¹¶ï¼Œåªè®²äº†è·¯å¾„å‹ç¼©ã€‚ è¿™æ˜¯æŒ‰ç§©åˆå¹¶çš„æ¿å­: 12345678int fa[maxn],size[maxn];void init(int n){for(register int i=1;i&lt;=n;i++){fa[i]=i;size[i]=1;}}int find(int x){return fa[x]==x?x:find(fa[x]);}void merge(int x,int y){ int xx=find(x),yy=find(y); if(size[xx]&gt;size[yy])swap(xx,yy); fa[xx]=yy;size[yy]+=size[xx];} è®²èµ·äº†çº¿æ®µæ ‘ï¼š æˆ‘æœç„¶è¿˜æ˜¯ä¸ä¼šæœ‰çµé­‚ï¼ˆLazy Tag ï¼‰çš„çº¿æ®µæ ‘QAQã€‚æ‡‚æ˜¯æ‡‚äº†ï¼Œä½†æ˜¯æ€ä¹ˆå®ç°å•Š åœ¨luoguæ‰¾äº†é¢˜è§£å­¦ä¹ ï¼Œå¤§æ¦‚æ˜ç™½æ€ä¹ˆå®ç°äº†ã€‚ è®²å®Œlazy tagï¼Œåˆè®²äº†ä¸€å¤§å †ç„å­¦ï¼Ÿ é‚£ä¸€åˆ»ï¼Œä»¿ä½›æ‰€æœ‰é¢˜éƒ½èƒ½å¥—çº¿æ®µæ ‘Aæ‰ã€‚çº¿æ®µæ ‘å¤ªæ£’äº† æ ‘çŠ¶æ•°ç»„ç¦»çº¿äº†â€¦â€¦å­¦ä¸æ¥æ™šä¸Šå†™äº†ä¸€å†™é¢˜ç›®ï¼Œå¾ˆå¤šå †éƒ¨åˆ†çš„ç»ƒä¹ ä»¥å‰éƒ½å†™è¿‡ã€‚ æœŸæœ›çš„RMQå’ŒLCAéƒ½æ²¡æœ‰è®²ã€‚ Day 2ç»“æŸäº†ã€‚ Day 3è€ƒè¯•æ—¥ã€‚ ä¸Šåˆåœ¨è®²æ•°è®ºï¼Œå¹¶æ²¡æœ‰æ…Œå¾—ä¸€æ‰¹ã€‚ gcdæœ‰ä¸€ä¸ªæ›´åŠ ç®€çŸ­çš„å®ç°äº†ï¼š 1int gcd(int a,int b){return b?gcd(b,a%b):a;} lcmç›¸å¯¹ç®€å•: 1int lcm(int a,int b){return a*b/gcd(a,b);} å…³äºæ‰©å±•æ¬§å‡ é‡Œå¾—ï¼Œä»¥å‰æ‰“ä¹˜æ³•é€†å…ƒçš„æ¿å­æ—¶äº†è§£è¿‡ï¼Œä¸€ç›´ä¸ä¼šæ¨ï¼Œç°åœ¨ä¹Ÿä¼šäº†ã€‚è¿™é‡Œåªç»™å‡ºä»£ç ï¼š 123456789int exgcd(int a,int b,int &amp;x,int &amp;y){ if(!b){ x=1;y=0; return a; } int g=exgcd(b,a%b,y,x); y-=a/b*x; return g;} ç„¶åæ˜¯ç­›æ³•çš„é¢„å¤‡çŸ¥è¯†ï¼šè´¨æ•°åˆ¤å®šï¼š åªéœ€è¦æšä¸¾åˆ°${\\sqrt n}$å°±è¡Œäº†,ä½†éœ€è¦æ³¨æ„ä»2æšä¸¾ã€‚ 1234567bool check(int n){ if(n==1||n==0) return 0; for(register int i=2;i&lt;=sqrt(n);i++){ if(!(n%i)) return 0;//ä¸€å®šè¦æ³¨æ„ä½è¿ç®—ç¬¦ä¼˜å…ˆäºç®—æ•°è¿ç®—ç¬¦ } return 1;} ç„¶åæ˜¯åŸƒæ°ç­›ï¼ˆå¥½ä¹…æ²¡æ‰“å†™æŒ‚äº†å¥½å‡ æ¬¡ï¼‰ï¼š 12345678for(register int i=1;i&lt;=maxn;i++){ if(check(i)&amp;&amp;!vis[i]){ is[i]=1; for(register int j=i;j&lt;=maxn;j+=i){ vis[i]=1; } } } è´¨å› æ•°åˆ†è§£ï¼šä¸æ”¾åœ¨è¿™äº†ã€‚ æœ€åå°±æ˜¯é€†å…ƒäº†ï¼š å¯ä»¥è¿ç”¨è´¹é©¬å°å®šç†ï¼š ${a^{p-1}}$ â‰¡ 1 (mod p),pä¸ºè´¨æ•°,aä¸päº’è´¨ ï¼ˆæ³¨æ„pä¸ºè´¨æ•°ï¼Œä¸è¿‡noipå¦‚æœè¦æ±‚é€†å…ƒï¼Œpè‚¯å®šæ˜¯è´¨æ•°ï¼‰ ç”±æ­¤å¯å¾—ï¼š a*${a^{p-2}}$ â‰¡ 1 (mod p)æ‰€ä»¥ï¼Œå½“æ¨¡æ•°ä¸ºè´¨æ•°pæ—¶ï¼Œaçš„é€†å…ƒç­‰äº${a^{p-2}}$â€˜ å½“ç„¶ä¹Ÿå¯ä»¥è¿ç”¨æ‰©å±•æ¬§å‡ é‡Œå¾—ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ çŸ¥è¯†ç‚¹å°±è¿™äº›ï¼Œä¹Ÿæ²¡å†™åˆ°ä»€ä¹ˆé¢˜ã€‚ä¸‹åˆå°±å¼€å§‹è€ƒè¯•äº†ã€‚ è¿™æ˜¯é¢˜ç›®ï¼š T1éšä¾¿å†™ï¼ˆè™½ç„¶è€ƒåœºä¸Šæ²¡å†™ä¼˜åŒ–æŒ‚äº†60åˆ†ï¼‰ T2åœ¨è€ƒåœºä¸Šæƒ³äº†ä¸€ä¸ªç”¨setç»´æŠ¤çš„éªšæ“ä½œï¼Œå¤æ‚åº¦å¸¦logï¼Œåº”è¯¥èƒ½è¿‡ï¼Œå¯æƒœæœ€å¤§å€¼ç»´æŠ¤é”™äº†ã€‚ è¿™æ˜¯æ”¹åçš„ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738#include&lt;cstdio&gt;#include&lt;set&gt;#define max(a,b) a&gt;b?a:b#define maxn 100010using namespace std;set&lt;int&gt;a;set&lt;int&gt;::iterator it;int main(){ freopen(\"guinness.in\",\"r\",stdin); freopen(\"guinness.out\",\"w\",stdout); int m,x,n,t,cnt=1,ans,maxx=0; scanf(\"%d\",&amp;m); for(register int i=1;i&lt;=m;i++){ scanf(\"%d\",&amp;x); a.insert(x); } scanf(\"%d\",&amp;t); for(register int i=1;i&lt;=t;i++){ it=a.begin();ans=1; scanf(\"%d\",&amp;n);cnt=0;int tmp[n+1]; for(register int j=1;j&lt;=n;j++){ scanf(\"%d\",&amp;x); tmp[++cnt]=x; bool getans = 0; for(it,ans;it!=a.end();it++,ans++){ if(x&lt;*it){ printf(\"%d \",ans); getans=1; break; } } if (!getans) printf(\"%d \",a.size()+1); } printf(\"\\n\"); while(cnt) a.insert(tmp[cnt]),cnt--; } fclose(stdin);fclose(stdout); return 0;} T3å¯ä»¥çˆ†æœï¼Œä½†æ˜¯æ²¡æ—¶é—´ï¼ˆæ‡’å¾—å†™ï¼‰äº†ï¼Œå°±æ²¡å†™ï¼Œç›´æ¥äº¤ä¸Šå»äº†ã€‚ æ‰€ä»¥æˆç»©å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚ Expected:140 Score:40 Day 4æ¢è€å¸ˆäº†ã€‚ ä»Šå¤©è®²çš„æ˜¯å›¾è®ºã€‚ å…ˆè®²äº†ä¸€å¤§å †å›¾çš„æ¦‚å¿µï¼Œå­¦è¿‡äº†ï¼Œæ‰€ä»¥åœ¨ä¸‹é¢å¤ä¹ Dijkstra+Heap ç„¶åå¼€å§‹è®²å›¾çš„å­˜å‚¨æ–¹å¼ï¼Œå‰å‘æ˜Ÿå¬äº†ä¸€ä¸‹ï¼Œå‰©ä¸‹çš„å­¦è¿‡ï¼Œç»§ç»­é¢“Dijkstra+Heap ç»ˆäºå¼€å§‹è®²æœ€çŸ­è·¯äº†ï¼šæœç„¶å¼€å§‹å°±è®²Dijkstraâ€¦æ²¡æœ‰å †ä¼˜åŒ–å¤ªå’¸äº†!!! äºæ˜¯ç»§ç»­é¢“Dijkstra+Heapâ€¦ è®²å®Œåå¼€å§‹è®²å¯çˆ±çš„SPFAäº†ï¼Œæ ‡å‡†ç‰ˆçš„æœ€çŸ­è·¯æœç„¶è¿˜æ˜¯æ„é€ æ•°æ®å¡äº†SPFAã€‚ æŒ‚ä¸ªSPFAçš„å·¥ä½œå›¾: å…³äºBellman Fordï¼Œåªæ˜¯æäº†ä¸€ä¸‹å’ŒSPFAå¾ˆåƒï¼Œä¸¢äº†ä¸€ä¸ªblogé“¾æ¥ï¼Œå¹¶æ²¡æœ‰ç»†è®²ã€‚ è®²å®Œå•æºï¼Œè‡ªç„¶å¼€å§‹è®²å¤šæº å¤šæºè‡ªç„¶è®²äº†å¯çˆ±çš„$O(n^3)$çš„Floyd äº”è¡Œä»£ç çœŸæ˜¯å¤ªå¥½äº†ï¼š 12345for(register int k=1;k&lt;=n;k++) for(register int i=1;i&lt;=n;i++) for(register int j=1;j&lt;=n;j++) if(map[i][k]+map[k][j]&lt;map[i][j]) map[i][j]=map[i][k]+map[k][j]; åœ¨åšé¢˜çš„è¿‡ç¨‹ä¸­å­¦äº†ä¸€äº›å¥‡å·§æ·«æŠ€ï¼š æ¯”å¦‚ï¼š å¤šæºä¸€æ±‡æœ€çŸ­è·¯å¾„ï¼Ÿå­˜ä¸ªåå›¾è·‘SPFA: æ­»æ‰çš„SPFAä¹Ÿå¯ä»¥åˆ¤è´Ÿç¯ï¼šï¼ˆä»£ç æ‘˜è‡ªè¿™é‡Œï¼‰ 12345678910111213141516171819202122232425262728bool spfa(int n) { int u, v; while (!q.empty()) q.pop(); memset(vis, false, sizeof(vis)); memset(in, 0, sizeof(in)); fill(d, d + n, oo); d[0] = 0; vis[0] = true; q.push(0); while (!q.empty()) { u = q.front(); vis[u] = false; for (int i = prev[u]; i != -1; i = edge[i].next) { v = edge[i].v; if (d[u] + edge[i].t &lt; d[v]) { d[v] = d[u] + edge[i].t; if (!vis[v]) { in[v] ++; if (in[v] &gt; n) return true; vis[v] = true; q.push(v); } } } vis[u] = false; q.pop(); } return false;} æœ€çŸ­è·¯è®²å®Œåæ˜¯æœ€å°ç”Ÿæˆæ ‘ï¼Œä¸€æ ·åªæ˜¯æäº†ä¸€ä¸‹Primï¼Œé‡ç‚¹æ˜¯Kruskalï¼šä½¿ç”¨äº†å¹¶æŸ¥é›†ï¼Œä¹Ÿéå¸¸å¥½ç†è§£ï¼šç›´æ¥ç»™å‡ºä»£ç å®ç°ï¼š 123456789101112131415int find(int x){return fa[x]==x?x:find(fa[x]);}bool merge(int x,int y){ int xx=find(x);int yy=find(y); if(xx!=yy){ fa[xx]=yy; return 1; } return 0;}for(register int i=1;i&lt;=m;i++){ if(merge(s[i].x,s[i].y)){ sum+=s[i].w;cnt++; if(cnt==n-1) break; }} éå¸¸å¥½ç†è§£ï¼Œäºæ˜¯è®²çš„å¾ˆå¿«ã€‚ ç„¶åæ˜¯TopSortï¼ˆæ‹“æ‰‘æ’åºï¼‰ï¼šç›¸å½“äºæ˜¯å¯»æ‰¾InDegree=0çš„ç‚¹ï¼Œpushï¼Œç„¶ååˆ é™¤ã€‚ ä¹Ÿå¾ˆå¥½ç†è§£ã€‚ä»£ç å®ç°ï¼š(è¡Œå§è¿™æ˜¯è¯¾ä»¶ä¸Šçš„ä»£ç æˆ‘æ²¡çœ‹æ‡‚) 123456789101112131415161718192021bool TopologicalSort(DirectGraph &amp;g,vector&lt;int&gt;&amp;in_degree){ queue&lt;int&gt;qu; int cnt=0; for(auto ite=in_degree.begin();ite !=in_degree.end();++ite){ if(*ite==0){ qu.push(*ite); } } while(!qu.empty()){ int v=qu.front(); qu.pop(); printf(\"%d \",v); cnt++; for(const int &amp;i:g.adj.at(v)){ if(0==--in_degree[i]){ qu.push(i); } } } return cnt&gt;=v;} æœ€åè®²äº†æ ‘ä¸Šå€å¢æ±‚LCAï¼ˆè¯¥æ¥çš„æ€»æ˜¯ä¼šæ¥ï¼‰ çŸ¥è¯†å¬æ‡‚äº†ï¼Œä½†æ˜¯å®ç°è¿‡ç¨‹çœ‹çš„ç¨€é‡Œç³Šæ¶‚çš„ï¼Œå‡ ä¹å¼ºåˆ¶åœ¨çº¿ å°±åƒä¸­å›½RMBä¸€æ ·ï¼Œæ¯æ¬¡éƒ½å°è¯•æœ€å¤§çš„${2^i \\leq n}$ï¼Œæ€»èƒ½å‡‘å‡ºLCAä½ç½®ï¼Œæ¯•ç«Ÿ${2^0 =1}$å˜›ã€‚ æ™šä¸Šå†™äº†ä¸ªDijkstra+Heapçš„A+B Problemï¼ˆæˆ‘å¤ªå’¸äº†ï¼‰ å›é…’åº—ä¾ç„¶è¡¥å‰§â€¦ Day 5è®²DPï¼Œæœ¬æ¥æ»¡æ€€æœŸå¾…çš„ï¼Œåæ¥å‘ç°å¥½å¤šé¢˜ä»¥å‰éƒ½å†™è¿‡â€¦ å”¯ä¸€å€¼å¾—ä¸€æçš„æ˜¯01èƒŒåŒ…çš„åŸç†åˆç†è§£äº†ä¸€éï¼Œæ¯”ä»¥å‰æŒæ¡çš„å¥½å¤šäº†ã€‚ Day 5æ²¡å•¥å¥½å†™çš„ã€‚ Day 6åˆæ˜¯è€ƒè¯•æ—¥ã€‚ä¹Ÿæ¢è€å¸ˆäº†ã€‚ ä¸Šåˆè®²çš„STLï¼Œä¹Ÿæ²¡å•¥å¥½å†™çš„ï¼Œä¼šçš„ä»¥å‰éƒ½ä¼šï¼Œä¸ä¼šçš„æ¯”å¦‚å…¨æ’åˆ—ï¼Œæ— éæ„Ÿå¹å¾ˆæœ‰ç”¨ï¼Œç„¶åä¼šç”¨äº†ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¥½è¯´ï¼Œï¼ˆæ‰€ä»¥è¿™ç©æ„çœŸæ–¹ä¾¿ï¼‰ã€‚ ä¸‹åˆçš„è€ƒè¯•ï¼š è§£å‹åçœ‹T1ï¼Œçœ‹äº†çœ‹æ•°æ®èŒƒå›´ï¼Œè§‰å¾—60ptsæ‰“è¡¨èƒ½å‡ºï¼Œå¾ˆç¨³ï¼Œå°±å¼€äº†Excelï¼Œå†™T1 Expected 60 5åˆ†é’Ÿå†™äº†æš´åŠ›æŒ‚åœ¨é‚£æ‰“è¡¨ï¼Œå¼€å§‹çœ‹T2ã€‚ T2æ„Ÿè§‰æ²¡å•¥æ€è·¯ï¼Œæ‰“æš´åŠ›çš„æ—¶å€™æŠŠdfså¿˜äº†ï¼ˆæœç„¶æˆ‘è¿˜æ˜¯ä¸ä¼šdfsï¼‰å†™äº†${O(n^3)}$çš„å­˜å›¾ï¼Œç„¶åT1è¿˜æ²¡è·‘å®Œï¼Œå¾ˆæ…Œï¼Œå…³äº†exeï¼ŒæŠŠæºç¨‹åºçš„20æ”¹æˆäº†10æ‰“è¡¨ï¼Œæ‰“å¼€ä¸€çœ‹ï¼š â€¦â€¦ ç›´æ¥æ’¸å¿«é€Ÿå¹‚ï¼Œ100åˆ°æ‰‹ã€‚ è¡¨å˜æˆäº†è¿™ä¸ª é‚£ä¸ªtipè¿˜æ˜¯æˆ‘æ‰‹ç”»äº†ä¸€æ£µæ ‘åéªŒè¯çš„ å®åœ¨æƒ³ä¸å‡ºæ¥ï¼Œä¸€è„‘æŠ½ï¼Œå°±æŠŠT1äº¤äº†â€¦â€¦ ç„¶åçœ‹åˆ°ç¾¤é‡Œçš„ï¼š ç„¶åâ€¦. â€¦â€¦ ä¸å¾—ä¸æ»šå›å»æ‰“T2äº†ã€‚ æš´åŠ›å†™æŒ‚äº†â€¦â€¦ T3ä¾ç„¶ä¸çŸ¥é“åœ¨è®²ä»€ä¹ˆã€‚ æ‰€ä»¥è€ƒè¯•ç®—æ˜¯åŠå‡‰å‡‰å§â€¦â€¦ Expected 160 Score=100 è«årk3ã€‚ Day 7ä¸Šåˆè®²äº†å†å¹´çš„ä¸€äº›é¢˜ã€‚ å¬æ‡‚äº†xkdyhçš„ç„å­¦è§£æ³•ï¼Œä¹Ÿä¼šäº†è´§å¸ç³»ç»Ÿè€å‡¯çš„ç–‘æƒ‘ å¿ƒå¿ƒå¿µå¿µçš„å¤©å¤©çˆ±è·‘æ­¥æ²¡è®² ç›´åˆ°Day 7æˆ‘æ‰çŸ¥é“åŸæ¥è¯¾è¡¨é‡Œé¢æ²¡æœ‰KMP ç„¶åå°±ç»“æŸäº†ã€‚ çªç„¶æƒ³åˆ°è¦æ»šå›å»ä¸Šwhkäº†ï¼Œå¯¹è¿™ä¸ªåœ°æ–¹è¿˜æ˜¯æœ‰ç‚¹ä¸èˆã€‚ æŒ‚å‡ å¼ ç…§ç‰‡å§ã€‚ Day infå§åœ¨å­¦æ ¡é‡Œï¼Œç»ˆäºè¡¥äº†è¿™ç¯‡æ¸¸è®°çš„é”…ï¼Œè™½ç„¶å¹²è´§ä¸å¤šï¼Œä½†æ˜¯çŸ¥è¯†ç‚¹ä¼šæ…¢æ…¢å†™æ€»ç»“ã€‚ åšè¯¥åšçš„ï¼Œæ‰å¯¹çš„èµ·è‡ªå·±ã€‚","link":"/2019/02/01/2019å¯’å‡æˆéƒ½æ‘¸é±¼è®°/"},{"title":"Luogu P3244 [HNOI2015]è½å¿†æ«éŸ³ è§£é¢˜æŠ¥å‘Š","text":"é¢˜ç›®é“¾æ¥P3244 [HNOI2015]è½å¿†æ«éŸ³ é¢˜ç›®èƒŒæ™¯è¿™ä¸ªé¢˜ç›®èƒŒæ™¯æˆ‘ä¸€å®šè¦æ”¾ä¸Šæ¥ï¼ˆ ã€Œæ’é€¸ï¼Œä½ ç›¸ä¿¡çµé­‚çš„å­˜åœ¨å—ï¼Ÿã€ éƒ­æ’é€¸å’Œå§šæ«èŒœæ¼«æ­¥åœ¨æ«éŸ³ä¹¡çš„è¡—é“ä¸Šã€‚æœ›ç€æ¼«å¤©é£èˆçš„çº¢æ«ï¼Œæ«èŒœçªç„¶é—®å‡ºè¿™æ ·ä¸€ä¸ªé—®é¢˜ã€‚ ã€Œç›¸ä¿¡å§ã€‚ä¸ç„¶æˆ‘ä»¬æ˜¯ä»€ä¹ˆï¼Œä¸€å›¢è‚‰å—ï¼Ÿè¦ä¸æ˜¯æœ‰çµé­‚â€¦â€¦æˆ‘ä»¬ä¹Ÿä¸å¯èƒ½å†è§åˆ°ä½ å§å§å§ã€‚ã€ æ’é€¸ç»™å‡ºäº†ä¸€ä¸ªç•¥å¾®æ— å˜å¤´çš„å›ç­”ã€‚æ«èŒœå¬åç¬‘äº†ç¬‘ã€‚ ã€Œé‚£ä½ ä»”ç»†è§‚å¯Ÿè¿‡æ«å¶å—ï¼Ÿã€ è¯´ç½¢ï¼Œæ«èŒœä¼¸æ‰‹ï¼Œæ¥ä½äº†ä¸€ç‰‡é£˜è½çš„æ«å¶ã€‚ ã€Œå…¶å®æ¯ä¸€ç‰‡æ«å¶éƒ½æ˜¯æœ‰çµé­‚çš„ã€‚ä½ çœ‹ï¼Œæ«å¶ä¸Šä¸æ˜¯æœ‰è¿™ä¹ˆå¤šè„‰ç»œå—ï¼Ÿæˆ‘å¬è¯´ï¼Œæ«å¶ä¸Šæœ‰ä¸€äº›ç‰¹æ®Šçš„ä½ç½®ï¼Œå°±å’Œäººçš„ç©´ä½ä¸€æ ·ã€‚è„‰ç»œéƒ½æ˜¯è¿æ¥åœ¨è¿™äº›ç©´ä½ä¹‹é—´çš„ã€‚æ«æ ‘çš„çµé­‚æµè¿‡æ¯ç‰‡æ«å¶çš„æ ¹éƒ¨ï¼Œæ²¿ç€è¿™äº›è„‰ç»œï¼Œæ…¢æ…¢æ¼«è¿›ç©´ä½ï¼Œæ²å…¥æ•´ç‰‡æ«å¶ã€‚ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŸå› ï¼Œè„‰ç»œæ‰éƒ½æ˜¯å•å‘çš„ï¼Œçµé­‚å¯ä¸èƒ½å€’ç€æºœå›æ¥å‘¢ã€‚ã€ æ’é€¸ä¼¼æ‡‚éæ‡‚åœ°ç‚¹äº†ç‚¹å¤´ã€‚æ«èŒœæ¥ç€è¯´äº†ä¸‹å»ã€‚ ã€Œæ­£æ˜¯å› ä¸ºæœ‰äº†çµé­‚ï¼Œæ¯ç‰‡æ«å¶æ‰ä¼šä¸ä¼—ä¸åŒã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºæœ‰äº†çµé­‚ï¼Œæ¯ç‰‡æ«å¶ä¹Ÿéƒ½ç¥ä¼¼å…¶æºæœ¬çš„æ«æ ‘ï¼Œå°±è¿è„‰ç»œä¹Ÿå½¢æˆäº†ä¸€æ£µæ ‘çš„æ ·å­ã€‚ä½†å¦‚æœä»”ç»†çœ‹çš„è¯ï¼Œä¼šå‘ç°ï¼Œåœ¨è„‰ç»œæ ‘ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨å…¶å®ƒçš„éå¸¸ç»†çš„è„‰ç»œã€‚è™½ç„¶è¿™äº›è„‰ç»œå¹¶ä¸åœ¨æ ‘ä¸Šï¼Œä½†ä»–ä»¬çš„æ–¹å‘ä¹ŸåŒæ ·é¡ºç€çµé­‚æµæ·Œçš„æ–¹å‘ï¼Œç»ä¸ä¼šå‡ºç°å¯èƒ½ä½¿çµé­‚å€’æµçš„å›è·¯ã€‚ã€ æ’é€¸å¥½åƒçªç„¶æƒ³åˆ°äº†ä»€ä¹ˆã€‚ ã€Œé‚£è¿™äº›è„‰ç»œå²‚ä¸æ˜¯å¯ä»¥å–ä»£å·²æœ‰çš„è„‰ç»œï¼Œå‡ºç°åœ¨è„‰ç»œæ ‘ä¸Šï¼Ÿã€ æ«èŒœé—­ä¸Šäº†çœ¼ç›ã€‚ ã€Œæ˜¯å•Šï¼Œå°±æ˜¯è¿™æ ·ã€‚è„‰ç»œæ ‘å¹¶ä¸æ˜¯å”¯ä¸€çš„ã€‚åªè¦æœ‰ä¸€äº›å¾®å°çš„åå·®ï¼Œè„‰ç»œæ ‘å°±å¯èƒ½å·®ä¹‹ä¸‡é‡Œï¼Œå“ªæ€•æ˜¯åœ¨è¿™åŒä¸€ç‰‡æ«å¶ä¸Šã€‚å°±åƒæˆ‘ä»¬çš„æ•…äº‹ï¼Œç»“å±€ä¹Ÿä¸æ˜¯å”¯ä¸€çš„ã€‚åªè¦æ”¹å˜ä¸€ä¸ªå°å°çš„é€‰é¡¹ï¼Œæ•…äº‹æµç¨‹å¯èƒ½å°±ä¼šè¢«å½»åº•æ‰­è½¬ã€‚ã€ ã€ŒçœŸæ˜¯æ·±å¥¥å•Šâ€¦â€¦ã€ æ’é€¸ç›¯ç€è¿™ç‰‡çº¢æ«ï¼Œè‹¥æœ‰æ‰€æ€åœ°è¯´ã€‚æ«èŒœç»§ç»­è¯´é“ã€‚ ã€Œè¿˜ä¸æ­¢å¦‚æ­¤å‘¢ã€‚æ‰€æœ‰çš„è„‰ç»œéƒ½ä¸ä¼šæ°¸æ’å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šæ°¸æ’æ¶ˆå¤±ã€‚ä¸ç®¡æ˜¯è„‰ç»œæ ‘ä¸Šçš„è„‰ç»œï¼Œè¿˜æ˜¯ä¹‹å¤–çš„ç»†å°è„‰ç»œï¼Œéƒ½æ˜¯å¦‚æ­¤ã€‚å­˜åœ¨çš„è„‰ç»œå¯èƒ½æ–­å¼€æ¶ˆå¤±ï¼Œæ¶ˆå¤±çš„è„‰ç»œä¹Ÿå¯èƒ½å†æ¬¡è¿æ¥ã€‚ä¸‡ç‰©çš†å¤„åœ¨æ°¸æ’çš„å˜åŒ–ä¹‹ä¸­ï¼Œäººä¸äººä¹‹é—´çš„ç¾ç»Šä¹Ÿæ˜¯ã€‚æˆ–è®¸æœ‰ä¸€å¤©ï¼Œæˆ‘ä»¬ä¸å¤§å®¶çš„ç¾ç»Šä¹Ÿä¼šå¦‚åŒè„‰ç»œä¸€æ ·ï¼Œè¢«æ— æƒ…åœ°æ–©æ–­ã€‚æˆ–è®¸æˆ‘ä»¬ä¹Ÿç»ˆå°†æˆä¸ºâ€æ«éŸ³ä¹¡çš„è¿‡å®¢â€œã€‚æˆ–è®¸è¿™ä¸€åˆ‡éƒ½ä¼šæ˜¯å¿…ç„¶ï¼Œæ˜¯æ«æ ‘çš„çµé­‚æ‰€å†³å®šçš„â€¦â€¦ã€ æ«èŒœçš„çœ¼è§’æ³›èµ·äº†å‡ æ»´æ™¶è¹å‰”é€çš„æ³ªç ã€‚æ’é€¸çœ‹ç€è¿™æ ·çš„æ«èŒœï¼Œå°†å¥¹æŠ±å…¥æ€€ä¸­ã€‚ ã€Œåˆ«è¿™æ ·æƒ³ï¼Œæ«èŒœã€‚å°±ç®—è„‰ç»œæ–­å¼€ï¼Œä¹Ÿæœ‰å¯èƒ½è¿˜ä¼šæœ‰æ–°çš„è„‰ç»œæ ‘ï¼Œä¹Ÿè¿˜ä¼šä¸æ«æ ‘çš„æ ¹ç›¸è¿ã€‚è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬çš„ç¾ç»Šä»ç„¶å­˜åœ¨ï¼Œåªæ˜¯ç¨å¾®ç»•äº†ä¸€äº›è¿œè·¯è€Œå·²ã€‚æ— è®ºå¦‚ä½•ï¼Œæˆ‘éƒ½ä¸ä¼šç¦»å¼€ä½ çš„ã€‚å› ä¸ºä½ æ˜¯æˆ‘ç©·å°½ä¸€ç”Ÿæ‰€å¯»æ‰¾çš„ï¼Œæˆ‘çš„çœŸæ‹å•Šï¼ã€ ä¸¤äººçš„ç›®å…‰å¯¹ä¸Šäº†ã€‚æ«èŒœå¹¸ç¦åœ°ç¬‘äº†ï¼ŒæŠŠå¤´åŸ‹è¿›äº†æ’é€¸çš„æ€€æŠ±ã€‚ä»è¿œæ–¹å±±ä¸Šçš„æ«æ—ä¸­ï¼Œä¼ æ¥äº†æ«çš„å£°éŸ³ã€‚ é¢˜æ„æè¿°ä¸å¦¨å‡è®¾æ«å¶ä¸Šæœ‰ nä¸ªç©´ä½ï¼Œç©´ä½çš„ç¼–å·ä¸º 1 ~ nã€‚æœ‰è‹¥å¹²æ¡æœ‰å‘çš„è„‰ç»œè¿æ¥ç€è¿™äº›ç©´ä½ã€‚ç©´ä½å’Œè„‰ç»œç»„æˆä¸€ä¸ªæœ‰å‘æ— ç¯å›¾â€”â€”ç§°ä¹‹ä¸ºè„‰ç»œå›¾ï¼ˆä¾‹å¦‚å›¾ 1ï¼‰ï¼Œç©´ä½çš„ç¼–å·ä½¿å¾—ç©´ä½ 1 æ²¡æœ‰ä»å…¶ä»–ç©´ä½è¿å‘å®ƒçš„è„‰ç»œï¼Œå³ç©´ä½ 1 åªæœ‰è¿å‡ºå»çš„è„‰ç»œï¼›ç”±ä¸Šé¢çš„æ•…äº‹å¯çŸ¥ï¼Œè¿™ä¸ªæœ‰å‘æ— ç¯å›¾å­˜åœ¨ä¸€ä¸ªæ ‘å½¢å­å›¾ï¼Œå®ƒæ˜¯ä»¥ç©´ä½ 1ä¸ºæ ¹çš„åŒ…å«å…¨éƒ¨nä¸ªç©´ä½çš„ä¸€æ£µæ ‘â€”â€”ç§°ä¹‹ä¸ºè„‰ç»œæ ‘ï¼ˆä¾‹å¦‚å›¾ 2å’Œå›¾ 3ç»™å‡ºçš„æ ‘éƒ½æ˜¯å›¾1ç»™å‡ºçš„è„‰ç»œå›¾çš„å­å›¾ï¼‰ï¼›å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè„‰ç»œå›¾ä¸­çš„è„‰ç»œæ ‘æ–¹æ¡ˆå¯èƒ½æœ‰å¤šç§å¯èƒ½æ€§ï¼Œä¾‹å¦‚å›¾2å’Œå›¾ 3å°±æ˜¯å›¾ 1ç»™å‡ºçš„è„‰ç»œå›¾çš„ä¸¤ä¸ªè„‰ç»œæ ‘æ–¹æ¡ˆã€‚ è„‰ç»œæ ‘çš„å½¢å¼åŒ–å®šä¹‰ä¸ºï¼šä»¥ç©´ä½ r ä¸ºæ ¹çš„è„‰ç»œæ ‘ç”±æ«å¶ä¸Šå…¨éƒ¨ nä¸ªç©´ä½ä»¥åŠ n- 1 æ¡è„‰ç»œç»„æˆï¼Œè„‰ç»œæ ‘é‡Œæ²¡æœ‰ç¯ï¼Œäº¦ä¸å­˜åœ¨ä»ä¸€ä¸ªç©´ä½è¿å‘è‡ªèº«çš„è„‰ç»œï¼Œä¸”å¯¹äºæ«å¶ä¸Šçš„æ¯ä¸ªç©´ä½ sï¼Œéƒ½å­˜åœ¨ä¸€æ¡å”¯ä¸€çš„åŒ…å«äºè„‰ç»œæ ‘å†…çš„è„‰ç»œè·¯å¾„ï¼Œä½¿å¾—ä»ç©´ä½r å‡ºå‘æ²¿ç€è¿™æ¡è·¯å¾„å¯ä»¥åˆ°è¾¾ç©´ä½ sã€‚ ç°åœ¨å‘è„‰ç»œå›¾æ·»åŠ ä¸€æ¡ä¸å·²æœ‰è„‰ç»œä¸åŒçš„è„‰ç»œï¼ˆæ³¨æ„ï¼šè¿æ¥ 2ä¸ªç©´ä½ä½†æ–¹å‘ä¸åŒçš„è„‰ç»œæ˜¯ä¸åŒçš„è„‰ç»œï¼Œä¾‹å¦‚ä»ç©´ä½3åˆ°4çš„è„‰ç»œä¸ä»4åˆ°3çš„è„‰ç»œæ˜¯ä¸åŒçš„è„‰ç»œï¼Œå› æ­¤ï¼Œå›¾ 1 ä¸­ä¸èƒ½æ·»åŠ ä» 3 åˆ° 4 çš„è„‰ç»œï¼Œä½†å¯æ·»åŠ ä» 4 åˆ° 3 çš„è„‰ç»œï¼‰ï¼Œè¿™æ¡æ–°è„‰ç»œå¯ä»¥æ˜¯ä»ä¸€ä¸ªç©´ä½è¿å‘è‡ªèº«çš„ï¼ˆä¾‹å¦‚ï¼Œå›¾ 1 ä¸­å¯æ·»åŠ ä» 4 åˆ° 4 çš„è„‰ç»œï¼‰ã€‚åŸè„‰ç»œå›¾æ·»åŠ è¿™æ¡æ–°è„‰ç»œåå¾—åˆ°çš„æ–°è„‰ç»œå›¾å¯èƒ½ä¼šå‡ºç°è„‰ç»œæ„æˆçš„ç¯ã€‚ è¯·ä½ æ±‚å‡ºæ·»åŠ äº†è¿™ä¸€æ¡è„‰ç»œä¹‹åçš„æ–°è„‰ç»œå›¾çš„ä»¥ç©´ä½ 1 ä¸ºæ ¹çš„è„‰ç»œæ ‘æ–¹æ¡ˆæ•°ã€‚ ç”±äºæ–¹æ¡ˆå¯èƒ½æœ‰å¤ªå¤šå¤ªå¤šï¼Œè¯·è¾“å‡ºæ–¹æ¡ˆæ•°å¯¹ 1,000,000,007 å–æ¨¡å¾—åˆ°çš„ç»“æœã€‚ è§£é¢˜æ€æƒ³è€ƒè™‘æœªåŠ è¾¹çš„æƒ…å†µï¼Œæ­¤æ—¶å›¾æ˜¯ä¸€ä¸ªDAGï¼Œè®°ä¸º$G=(V, E)$ï¼Œæˆ‘ä»¬éœ€è¦ç»Ÿè®¡å®ƒçš„æ ‘å½¢å­å›¾ã€‚ è€ƒè™‘æ ‘çš„ç‰¹æ€§ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸”ä»…æœ‰å”¯ä¸€ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ ¹æ®ä¹˜æ³•åŸç†ï¼Œå°†æ¯ä¸ªéæ ¹èŠ‚ç‚¹çš„å…¥åº¦ç´¯ä¹˜ï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆä¸ºï¼š$$\\prod\\limits_{i = 2}^{n} \\deg i$$ è€ƒè™‘åŠ è¾¹ï¼Œä¾ç„¶æŒ‰ç…§ä¸Šé¢çš„æ–¹å¼ç»Ÿè®¡ï¼Œè¿™æ ·ä¼šç»Ÿè®¡åˆ°ä¸åˆæ³•ç­”æ¡ˆã€‚ æˆ‘ä»¬è€ƒè™‘ç»Ÿè®¡ä¸åˆæ³•ç­”æ¡ˆï¼Œç„¶åç”¨åŸç­”æ¡ˆå‡å»å®ƒã€‚ å¯ä»¥å‘ç°ï¼Œåœ¨åŸå›¾çš„DAGä¸ŠåŠ ä¸€æ¡è¾¹ï¼Œè‹¥ç­”æ¡ˆä¸åˆæ³•ï¼Œåˆ™è¿™ä¸ªåŠ è¾¹åçš„å›¾ä¸€å®šå«æœ‰ç¯ã€‚åˆå› ä¸ºåŸå›¾æ˜¯ä¸€ä¸ªDAGï¼Œæ‰€ä»¥è¿™ä¸ªç¯ä¸€å®šå«æœ‰åŠ ä¸Šçš„è¾¹ã€‚ äºæ˜¯å¯ä»¥æšä¸¾ç¯ä¸Šçš„ç‚¹é›†$S$ï¼Œä¸ºå…¶é’¦å®šçˆ¶èŠ‚ç‚¹ï¼Œç„¶åå°†éç¯ä¸ŠèŠ‚ç‚¹ç…§æ—§ç»Ÿè®¡ï¼Œå¯ä»¥å¾—åˆ°æ‰€æœ‰ä¸åˆæ³•ç­”æ¡ˆï¼Œå³ä¸ºï¼š$$\\sum\\limits_{S}\\prod\\limits_{i\\notin S} \\deg i$$ è¿™ä¸ªç­”æ¡ˆå¯ä»¥DPå‡ºæ¥ã€‚ è®¾dp[i]è¡¨ç¤ºè·¯å¾„$i\\rightarrow x$ä¸ŠèŠ‚ç‚¹æˆç¯çš„æƒ…å†µæ•°ï¼Œé‚£ä¹ˆæœ‰åˆå§‹å€¼ï¼š$$dp[x] = \\prod\\limits_{y : y \\in V ä¸” y \\neq x}\\deg y$$ ç”±äºæˆ‘ä»¬ä¸ºæ¯ä¸ªç¯ä¸Šçš„èŠ‚ç‚¹é’¦å®šäº†çˆ¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥å¯¹äºä¸€ä¸ªç‚¹$x$ï¼Œæˆ‘ä»¬å°†å…¶ç»Ÿè®¡å…¥ç¯æ—¶ï¼Œå®ƒå¯¹ä¸åˆæ³•æƒ…å†µçš„è´¡çŒ®ä¼šç”±$\\deg x$å˜ä¸º$1$ï¼Œæ‰€ä»¥è½¬ç§»æ—¶éœ€è¦é™¤å»å®ƒçš„å…¥åº¦ã€‚ é‚£ä¹ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š $$dp[x] = \\frac {\\sum\\limits_{y : (x, y)\\in E}dp[y]} {\\deg x}$$ æ•´ä¸ªDPæ˜¯$O(n)$çš„ï¼Œå¦‚æœåœ¨çº¿æ±‚é€†å°±æ˜¯$O(n \\log n)$çš„ã€‚ æœ€åçš„ç­”æ¡ˆå°±æ˜¯æ€»æ–¹æ¡ˆå‡å»ä¸åˆæ³•æ•°ï¼Œæ³¨æ„DPå®ŒæˆåèŠ‚ç‚¹$x$çš„çˆ¶èŠ‚ç‚¹æœªè€ƒè™‘å‡å°‘çš„è´¡çŒ®ï¼Œæ‰€ä»¥éœ€è¦é™¤ä»¥$\\deg x$ï¼Œå³ï¼š$$ans = \\prod\\limits_{i = 2}^{n}\\deg i - \\frac {dp[x]} {\\deg x}$$ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;cstdio&gt;#include &lt;cstring&gt;const int MOD = 1e9 + 7;const int N = 2e5 + 6;const int M = N &lt;&lt; 1;inline int mul(int a, int b) {return 1ll * a * b % MOD;}inline int add(int a, int b) {return a + b &gt; MOD ? a + b - MOD : a + b;}inline int power(int a, int b) {int res = 1; for(; b; b &gt;&gt;= 1, a = mul(a, a)) if(b &amp; 1) res = mul(res, a); return res;}int n, m, y, x, ans = 1;int dp[N], in[N];int head[N], nxt[M], ver[M], cnt;inline void adde(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt, in[y]++;}int dfs(int x) { if(~dp[x]) return dp[x]; dp[x] = 0; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; dfs(y); dp[x] = add(dp[x], dp[y]); } dp[x] = mul(dp[x], power(in[x], MOD - 2)); return dp[x];}int main() { scanf(\"%d%d%d%d\", &amp;n, &amp;m, &amp;y, &amp;x); memset(dp, -1, sizeof(dp)); dp[y] = 1; for(register int i = 1; i &lt;= m; i++) { int u, v; scanf(\"%d%d\", &amp;u, &amp;v); adde(u, v); } for(register int i = 2; i &lt;= n; i++) { if(i == x) ans = mul(ans, in[i] + 1); else ans = mul(ans, in[i]); dp[y] = mul(dp[y], in[i]); } if(x == 1) return printf(\"%d\\n\", ans), 0; dp[y] = mul(dp[y], power(in[y], MOD - 2)); ans = add(ans, MOD - dfs(x)); printf(\"%d\\n\", ans); return 0;}","link":"/2019/08/03/Luogu-P3244-HNOI2015-è½å¿†æ«éŸ³-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P3629 [APIO2010]å·¡é€» è§£é¢˜æŠ¥å‘Š","text":"é¢˜ç›®é“¾æ¥P3629 [APIO2010]å·¡é€» é¢˜æ„ç®€è¿°ç»™ä½ ä¸€å¼ æ— å‘å›¾ï¼Œæœ‰$n$ä¸ªç‚¹å’Œ$n - 1$æ¡è¾¹ï¼Œæ— é‡è¾¹å’Œè‡ªç¯ï¼Œè¾¹é•¿éƒ½ä¸º$1$ï¼Œç»™å®šæºç‚¹$1$ï¼Œæ–°å»º$k$æ¡é“è·¯ï¼Œè¦æ±‚ä»æºç‚¹å‡ºå‘ï¼Œæ¯æ¡é“è·¯å¿…é¡»ç»è¿‡è‡³å°‘ä¸€æ¬¡ï¼Œä¸”æ–°å»ºçš„é“è·¯å¿…é¡»ä»…ç»è¿‡ä¸€æ¬¡ï¼Œæ±‚å¯èƒ½çš„æ–°å»ºé“è·¯çš„æ–¹æ¡ˆï¼Œä½¿éå†è·¯å¾„æœ€çŸ­ã€‚ è§£é¢˜æ€æƒ³æš´åŠ›å°±ä¸è®²äº†ï¼Œåº”è¯¥éƒ½èƒ½æƒ³åˆ°ã€‚ æˆ‘ä»¬ç›´æ¥è€ƒè™‘$100%$çš„æ•°æ®ã€‚ æ³¨æ„åŸé¢˜ä¸­çš„$1\\le k \\le 2$ï¼Œæˆ‘ä»¬è€ƒè™‘åˆ†ç±»è®¨è®ºã€‚ å…ˆæ¥è€ƒè™‘$k == 1$çš„æƒ…å†µã€‚åœ¨k == 1æ—¶ï¼Œè¿™é“é¢˜å’Œè‰é‰´å®šæœ‰ç‚¹åƒï¼Œä½†æ˜¯è¯»å®Œé¢˜ç›®åæˆ‘ä»¬ä¼šå‘ç°ï¼Œä¸¤é“é¢˜çš„æ–¹å‘æ˜¯ç›¸åçš„ï¼Œè¦æ±‚ä¹Ÿä¸åŒã€‚ é‚£è¦æ€ä¹ˆåšå‘¢ï¼Ÿ å…ˆæ¥çœ‹é¢˜ç›®ï¼š æœ‰$n$ä¸ªç‚¹å’Œ$n - 1$æ¡è¾¹ï¼Œæ— é‡è¾¹å’Œè‡ªç¯ è¿™å¥è¯å‘Šè¯‰æˆ‘ä»¬ï¼Œé¢˜ä¸­çš„å›¾å®è´¨ä¸Šæ˜¯ä¸€é¢—æ— æ ¹æ ‘ã€‚ çœ‹åˆ°é¢˜ç›®ä¸­æè¿°çš„æ–°é“è·¯ç”šè‡³å¯ä»¥æ˜¯è‡ªç¯ï¼ˆé¢˜æ„ç®€è¿°ä¸­æ²¡å†™ï¼‰ï¼Œæˆ‘ä»¬å…ˆæ¥è€ƒè™‘è¿™ç§æƒ…å†µï¼š å½“æ–°é“è·¯æ˜¯ä¸€ä¸ªè‡ªç¯æ—¶ï¼Œæˆ‘ä»¬ä¸èƒ½é€šè¿‡å®ƒæ¥ä»ä¸€ä¸ªç‚¹åˆ°å¦ä¸€ä¸ªç‚¹ã€‚è€Œåˆå› é¢˜ç›®è¦æ±‚ï¼Œæ–°é“è·¯å¿…é¡»ç»è¿‡ä¸€æ¬¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªä¼šåœ¨æ–°é“è·¯ä¸Šæµªè´¹$1$å·¡é€»è·ç¦»ï¼Œå¦‚å›¾ï¼šï¼ˆè¿™æ˜¯æ ·ä¾‹1ï¼‰ æ ¹æ®DFSçš„æ€æƒ³ï¼Œæˆ‘ä»¬è¦æƒ³éå†é€”ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦è®¿é—®æ¯ä¸€æ¡è¾¹ä¸¤æ¬¡ï¼ˆè®¿é—®ä¸€æ¬¡ï¼Œå›æº¯ä¸€æ¬¡ï¼‰ã€‚å¯ä»¥å¾—åˆ°å·¡é€»è·ç¦»ä¸º$2 \\times (8 - 1) = 14$ã€‚ å¦‚æœæˆ‘ä»¬æ·»åŠ çš„æ–°é“è·¯ä¸ºèŠ‚ç‚¹$2$çš„è‡ªç¯ï¼Œæˆ‘ä»¬å°±ä¼šåœ¨è®¿é—®èŠ‚ç‚¹$2$æ—¶è¢«å¼ºåˆ¶ç»è¿‡æ–°é“è·¯ä¸€æ¬¡ï¼Œä½†æ˜¯è‡ªç¯è®¿é—®å®Œåï¼Œä¾ç„¶è¦ä»$2$å›æº¯è‡³$3$ï¼Œå› æ­¤æ·»åŠ ä»»æ„çš„è‡ªç¯éƒ½ä»…ä¼šä½¿æœ€å°è®¿é—®è·ç¦»å˜å¤§ï¼Œèˆå¼ƒã€‚ é‚£ä¹ˆæˆ‘ä»¬è€ƒè™‘åœ¨ä¸¤ä¸ªä¸åŒçš„èŠ‚ç‚¹ä¹‹é—´è¿è¾¹ã€‚ åœ¨ä¸€æ£µæ ‘ä¸Šè¿ä¸€æ¡è¾¹çš„è¯ï¼ŒåŸæ ‘å°±ä¼šå˜æˆä¸€é¢—åŸºç¯æ ‘ã€‚ å¦‚å›¾ï¼šè¿æ¥äº†$7,2$ä¸¤ç‚¹ã€‚ é‚£ä¹ˆå¦‚æœå¿…é¡»ç»è¿‡æ–°å»ºé“è·¯ï¼Œæˆ‘ä»¬å°±å¿…é¡»ç»è¿‡åŸºç¯æ ‘çš„ç¯ï¼Œè¿™æ ·ï¼Œç¯ä¸Šçš„é“è·¯éƒ½åªéœ€è¦éå†ä¸€æ¬¡ï¼ˆå› ä¸ºæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¯æ¥å›åˆ°æŸä¸€ä¸ªç‚¹ï¼Œè¿™æ ·å°±å¯ä»¥éå†å®Œç¯åç›´æ¥å›æº¯ï¼Œè€Œç¯ä¸Šçš„è¾¹å°±ä¸éœ€è¦å†å¢åŠ å›æº¯æ—¶çš„è´¹ç”¨ï¼‰ã€‚äºæ˜¯è€ƒè™‘è®©è¿™ä¸ªç¯çš„é•¿åº¦æœ€å¤§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè®©è¿è¾¹å‰çš„é“¾æœ€é•¿ï¼Œäºæ˜¯å¯ä»¥æ±‚å‡ºåŸæ ‘çš„ç›´å¾„Lï¼Œç„¶åå°†ç›´å¾„çš„ä¸¤ç«¯è¿è¾¹ï¼Œé‚£ä¹ˆç­”æ¡ˆå°±æ˜¯$2 * (n - 1) - L + 1$ã€‚ å…¶ä¸­$2 * (n - 1)$ä¸ºéå†åŸæ ‘çš„è´¹ç”¨ï¼ŒL - 1ä¸ºç¯çš„é•¿åº¦ï¼ˆä¸æ˜ç™½çš„åŠ¨æ‰‹åœ¨ä¸Šé¢çš„å›¾ä¸­æ•°ä¸€æ•°ï¼‰ã€‚ 30åˆ†åˆ°æ‰‹äº†ä¸åšäº† å†æ¥è€ƒè™‘$k == 2$çš„æƒ…å†µå’Œ$k == 1$æ—¶ç›¸ä¼¼ï¼Œè‡ªç¯ä¾ç„¶æ˜¯è¢«èˆå¼ƒçš„ï¼Œè¿™ä¸ªè‡ªå·±ç†è§£ã€‚ æˆ‘ä»¬çš„ç¬¬ä¸€æ¡è¾¹ä¾ç„¶è¿åœ¨ç›´å¾„ä¸¤ç«¯ï¼Œæ¥ç€è€ƒè™‘ç¬¬äºŒæ¡è¾¹çš„ä½ç½®ï¼šä¸éš¾çœ‹å‡ºæœ‰å¦‚ä¸‹ä¸¤ç§å¯èƒ½ï¼š ç¯é‡å  ç¯ä¸é‡å  å…ˆæ¥è¿æ¥ç›´å¾„çš„ä¸¤ç«¯ï¼Œå¦‚å›¾ï¼š è¿™æ—¶çš„ç‚¹$1 - 2 - 6 - 5 - 3$æ„æˆäº†ä¸€ä¸ªç¯ã€‚æˆ‘ä»¬è€ƒè™‘è®©ç¯ä¸é‡å ï¼Œè¿æ¥ç‚¹$7,8$ï¼Œå¦‚å›¾ï¼š è¿™æ—¶ï¼Œæ–°çš„ç¯ä¸Šçš„è¾¹ä¹Ÿä»…éœ€ç»è¿‡ä¸€æ¬¡ï¼Œçœ‹ä¸Šå»éå¸¸çš„å®æƒ ã€‚ åˆ«æ€¥ï¼Œæˆ‘ä»¬å†æ¥è€ƒè™‘ä¸€ä¸‹é‡å çš„æƒ…å†µï¼Œå¦‚å›¾ï¼š è¿™æ¬¡è¿æ¥äº†$4,7$ä¸¤ä¸ªç‚¹ã€‚çœ‹ä¸Šå»å½¢æˆäº†ä¸€ä¸ªæ›´å¤§çš„ç¯ï¼ŒèŠ‚çœäº†ä¸­é—´é‡å éƒ¨åˆ†çš„è´¹ç”¨ï¼Œä½†æ˜¯æ˜¯è¿™æ ·å˜›ï¼Ÿ å†æ¬¡å›å»çœ‹ä¸€éé¢˜ç›®ï¼Œå‘ç°äº†ä¸€ä¸ªè¦æ±‚ï¼š æ¯æ¡é“è·¯å¿…é¡»ç»è¿‡è‡³å°‘ä¸€æ¬¡ è¿™æ ·ï¼Œä¸­é—´çš„é“è·¯å°±ä¸èƒ½ä¸èµ°ï¼Œå¦‚æœèµ°çš„è¯ï¼Œä¸ä»…æ²¡æœ‰èŠ‚çœè´¹ç”¨ï¼Œç›¸åä¼šå› ä¸ºä¸¤ä¸ªç¯éƒ½è¦ç»è¿‡è€Œå¢åŠ äº†é‡å é•¿åº¦çš„è´¹ç”¨ã€‚ ç»“æœå°±å¾ˆæ˜¾ç„¶äº†ï¼Œéœ€è¦è¿æ¥ä¸¤ä¸ªä¸ä¼šå¯¼è‡´é‡ç¯çš„ç‚¹ã€‚ é‚£ä¹ˆè¦è¿æ¥å“ªä¸¤ä¸ªï¼Ÿæ€ä¹ˆæ ·æ‰ä¼šå¯¼è‡´ä¸é‡ç¯ï¼Ÿ è€ƒè™‘$k == 1$æ—¶çš„åšæ³•ï¼Œæˆ‘ä»¬å°è¯•æ‰¾ä¸€æ¡æ¬¡é•¿é“¾ï¼Œè€Œä¸”ä¸ä¸åŸé“¾é‡å¤ã€‚æœ‰äº†ç¬¬äºŒä¸ªè¦æ±‚ï¼Œæˆ‘ä»¬åè€Œä¼šæ¯”è¾ƒå¥½åšï¼š åªéœ€è¦å°†åŸç›´å¾„ä¸Šçš„è¾¹æ¯æ‰ï¼Œç„¶åå»ºç«‹ä¸€é¢—æ–°çš„æ ‘ï¼Œå†åœ¨è¿™æ£µæ ‘ä¸Šæ±‚å‡ºç›´å¾„å°±å¥½äº†ã€‚ ä½†æ˜¯å¯èƒ½ä¼šå‡ºç°æŸäº›dlæ•°æ®ï¼Œè®©è¿è¾¹åä¸å¾—ä¸é‡ç¯ï¼Œå…¶å®è®¡ç®—åæˆ‘ä»¬å°±ä¼šå‘ç°ï¼Œä¸è®ºæ˜¯å¦é‡ç¯ï¼Œéƒ½éœ€è¦ç”¨åŸå›¾é•¿åº¦å‡å»ä¸¤ä¸ªç¯çš„å¤§å°ï¼Œè€Œé‡å çš„éƒ¨åˆ†è¢«å‡äº†ä¸¤æ¬¡ï¼ˆä¸éœ€è¦å®¹æ–¥çš„ï¼‰ï¼Œè¿™ç‚¹æˆ‘ä»¬é€šè¿‡æ±‚å‡ºç›´å¾„åæŠŠç›´å¾„ä¸Šçš„è¾¹æƒå€¼å–åå°±èƒ½è¾¾åˆ°ã€‚ å–åçš„å®ç°ç±»ä¼¼äºEKç®—æ³•çš„upd()æ“ä½œï¼Œéœ€è¦åœ¨ç¬¬ä¸€ébfs()æ±‚ç›´å¾„æ—¶ç»´æŠ¤ä¸€ä¸ªpre[]æ•°ç»„ã€‚ ç¬¬äºŒæ¡ç›´å¾„å¯ä»¥æ ‘ä¸Šdpæ¥æ±‚ã€‚ å‚è€ƒä»£ç  æ°å½“çš„å‡½æ•°ä½¿ç”¨å¯ä»¥æå¤§å‡å°‘ç é‡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105//Author: zgjjj#include &lt;cstdio&gt;#include &lt;cctype&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 100010;const int M = N &lt;&lt; 2;template &lt;typename T&gt; inline T max(T a, T b) {return a &gt; b ? a : b;}template &lt;typename T&gt;class queue { private: int head, tail; T q[N &lt;&lt; 1]; public: queue() {head = tail = 0;} inline bool empty() {return head &gt;= tail;} inline void push(T x) {q[++tail] = x;} inline void pop() {if(!empty()) head++;} inline T front() {return q[head + 1];}};int head[N], nxt[M], edge[M], ver[M], d[N], pre[N];int cnt = 1, n, k, l, r, l1, l2;bool v[N];inline void add(int x, int y, int z) { ver[++cnt] = y, edge[cnt] = z, nxt[cnt] = head[x], head[x] = cnt;}inline int bfs(int s) { for(register int i = 1; i &lt;= n; i++) d[i] = 0xcfcfcfcf, pre[i] = v[i] = 0; int ans = 0; d[s] = 0; queue &lt;int&gt; q; q.push(s); while(!q.empty()) { int x = q.front(); q.pop(); v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(v[y]) continue; d[y] = d[x] + z; pre[y] = i; q.push(y); } } for(register int i = 1; i &lt;= n; i++) if(d[ans] &lt; d[i]) ans = i; return ans;}void dp(int x) { v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(v[y]) continue; dp(y); l2 = max(l2, d[y] + d[x] + z); d[x] = max(d[x], d[y] + z); }}int main() { n = read(), k = read(); for(register int i = 1; i &lt; n; i++) { int x = read(), y = read(); add(x, y, 1); add(y, x, 1); } l = bfs(1); r = bfs(l); l1 = d[r]; if(k == 1) return write(2 * (n - 1) - l1 + 1), 0; int x = r; while(x != l) { int i = pre[x]; edge[i] = edge[i ^ 1] = -1; x = ver[i ^ 1]; } for(register int i = 1; i &lt;= n; i++) d[i] = v[i] = 0; dp(1); return write(2 * n - l1 -l2), 0;}","link":"/2019/06/06/Luogu-P3629-APIO2010-å·¡é€»-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P4306 [JSOI2010]è¿é€šæ•° è§£é¢˜æŠ¥å‘Š","text":"é«˜çº§æš´åŠ› ç¿»äº†ä¸€ä¸‹é¢˜è§£å¥½åƒæ²¡äººè§£æ³•è·Ÿæˆ‘ä¸€æ · é¢˜ç›®é“¾æ¥P4306 [JSOI2010]è¿é€šæ•° é¢˜æ„ç®€è¿°ç»™ä½ ä¸€å¼ å›¾ï¼Œæ±‚å®ƒçš„è¿é€šæ•°ã€‚ è¿é€šæ•°ï¼šæŒ‡å›¾ä¸­å¯è¾¾é¡¶ç‚¹å¯¹ä¸ªçš„ä¸ªæ•°ã€‚ è§£é¢˜æ€æƒ³å¦‚æœ$n$ä¸å¤§çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥è·‘ä¼ é€’é—­åŒ…ï¼Œç„¶åç»Ÿè®¡ç­”æ¡ˆï¼Œè¿™ä¸ªæ¯”è¾ƒæš´åŠ›ï¼Œæ˜¯$O(n^3)$çš„ï¼Œæ˜¾ç„¶è¿‡ä¸äº†2000ä½†æ˜¯æ•°æ®æ°´å¥½åƒèƒ½è¿‡ æˆ‘ä»¬è€ƒè™‘å°†èŒƒå›´ç¼©å°ï¼šä¸å¦¨å¯¹åŸå›¾ç¼©ç‚¹ï¼Œè¿™æ ·çš„è¯$n$çš„èŒƒå›´æœŸæœ›å¤§å¤§å‡å°ã€‚ï¼ˆå¯èƒ½è¢«å¡ï¼‰ ç„¶ååœ¨ç¼©ç‚¹åçš„å›¾ä¸Šä¼ é€’é—­åŒ…ï¼Œå°±ä¸ä¼šè¶…æ—¶äº†ã€‚ ä½†æ˜¯ç­”æ¡ˆç»Ÿè®¡çš„æ–¹æ³•å’Œä»¥å‰è¦æœ‰æ‰€åŒºåˆ«ï¼šå¦‚æœç›´æ¥å¯¹åŸå›¾ä¼ é€’é—­åŒ…ï¼Œæˆ‘ä»¬ä»…éœ€$O(n^2)$éå†ä¸€éç„¶åans++å°±è¡Œäº†ã€‚ å¯¹äºè¿™ä¸ªç¼©å®Œçš„DAGï¼Œæˆ‘ä»¬è€ƒè™‘æ¯ä¸¤ä¸ªè¿é€šå—è”é€šå¯¹ç­”æ¡ˆçš„è´¡çŒ®ï¼šæ ¹æ®ä¹˜æ³•åŸç†ï¼Œä¸¤ä¸ªè¿é€šå—è´¡çŒ®çš„è¿é€šæ•°ä¸å—å¤§å°æœ‰å…³ï¼Œå‡å®šä¸¤ä¸ªè¿é€šå—åˆ†åˆ«ä¸º$A,B$ï¼Œé‚£ä¹ˆè¿™ä¸ªè´¡çŒ®å°±æ˜¯$size_A\\times size_B$ï¼Œå…¶ä¸­$size_i$è¡¨ç¤ºè¿é€šå—$i$åŒ…å«çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚ é‚£ä¹ˆï¼Œæ¨å¹¿åˆ°æ‰€æœ‰è¿é€šå—ä¸Šï¼Œæ€»è¿é€šæ•°å³ä¸ºï¼š$$\\sum \\limits_{i, j\\in DAG} size_i \\times size_j$$ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“åŸå›¾æ¯ä¸ªç‚¹å„ä¸ºä¸€ä¸ªå¼ºè¿é€šåˆ†é‡æ—¶ï¼Œè¯¥ç®—æ³•ä¼šä¸Šç•Œä¼šè·‘æ»¡ã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103#include &lt;cstdio&gt;#include &lt;cctype&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 2010;const int M = N * N;inline int min(int a, int b) {return a &lt; b ? a : b;}inline int max(int a, int b) {return a &gt; b ? a : b;}int n, m, ans;int head[N], nxt[M], ver[M], cnt;int scc[N], num[N], dfn[N], low[N], idx, tot;bool v[N];int sta[N], stop;bool f[N][N];inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}void tarjan(int x) { dfn[x] = low[x] = ++idx; sta[++stop] = x; v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(!dfn[y]) { tarjan(y); low[x] = min(low[x], low[y]); } else if(v[y]) { low[x] = min(low[x], dfn[y]); } } if(dfn[x] == low[x]) { tot++; while(stop) { int y = sta[stop--]; scc[y] = tot; v[y] = 0; num[tot]++; if(x == y) break; } }}void rebuild() { for(register int x = 1; x &lt;= n; x++) { for(register int i = head[x]; i; i = nxt[i]) { if(scc[x] != scc[ver[i]]) f[scc[x]][scc[ver[i]]] = 1; } }}char s[N][N];int main() { n = read(); for(register int i = 1; i &lt;= n; i++) scanf(\"%s\", s[i] + 1); for(register int i = 1; i &lt;= n; i++) { for(register int j = 1; j &lt;= n; j++) { if(s[i][j] == '1') add(i, j); } } for(register int i = 1; i &lt;= n; i++) if(!dfn[i]) tarjan(i); rebuild(); for(register int i = 1; i &lt;= tot; i++) { f[i][i] = 1; for(register int j = 1; j &lt;= tot; j++) { for(register int k = 1; k &lt;= tot; k++) { f[i][j] |= f[i][k] &amp; f[k][j]; } } } for(register int i = 1; i &lt;= tot; i++) { for(register int j = 1; j &lt;= tot; j++) { if(f[i][j]) ans += num[i] * num[j]; } } if(tot == 1) ans = num[1] * num[1]; write(ans); return 0;}","link":"/2019/08/01/Luogu-P4306-JSOI2010-è¿é€šæ•°-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P4408 [NOI2003]é€ƒå­¦çš„å°å­© è§£é¢˜æŠ¥å‘Š","text":"é¢˜ç›®é“¾æ¥P4408/NOI2003 é€ƒå­¦çš„å°å­© é¢˜æ„ç®€è¿°ç»™ä½ ä¸€æ£µæ ‘ï¼Œæ±‚æ ‘ä¸Šçš„ä¸‰ä¸ªç‚¹$A,B,C$ï¼Œæ»¡è¶³$AB + BC$æœ€é•¿ï¼Œä¸”$BC&lt;AC$ è§£é¢˜æ€æƒ³å…¶å®ä¸‰ä¸ªç‚¹ä½ç½®çš„é¡ºåºä¸é‡è¦ï¼Œæˆ‘ä»¬å¯ä»¥ä¸¤ä¸¤äº¤æ¢å¾—åˆ°ä¸€ä¸ªå›ºå®šçš„é¡ºåºï¼Œä¸ºäº†æ–¹ä¾¿æˆ‘å°±ä½¿ç”¨äº†$AB + BC$ã€‚ é¦–å…ˆï¼Œå›¾ä¸­ä¸¤ç‚¹ä¹‹é—´æœ‰ä¸”ä»…æœ‰ä¸€æ¡ç®€å•è·¯å¾„ï¼Œè¯´æ˜è¿™å¼ å›¾æ˜¯ä¸€æ£µæ ‘ã€‚ è¦æ±‚ä¸‰ä¸ªç‚¹é—´çš„æœ€å¤§è·ç¦»çš„è¯ï¼Œæˆ‘ä»¬ä¸å¦¨é’¦å®šæœ‰ä¸¤ä¸ªç‚¹é—´çš„è·¯å¾„é•¿åº¦ä¸ºæ ‘çš„ç›´å¾„ã€‚å¯ä»¥é€šè¿‡å¾®æ‰°è¯æ˜æ— æ³•æ„é€ æ›´ä¼˜çš„æ–¹æ¡ˆã€‚ å¯¹äºå‰©ä¸‹çš„ç‚¹ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—æ ‘çš„ç›´å¾„æ—¶é¡ºä¾¿è®¡ç®—ç›´å¾„çš„é¡¶ç‚¹åˆ°æ ‘ä¸Šæ¯ä¸€ä¸ªç‚¹çš„è·ç¦»ï¼Œç„¶åæšä¸¾å›¾ä¸­çš„æ¯ä¸€ä¸ªç‚¹ï¼Œè€ƒè™‘è¿™ä¸ªç‚¹åˆ°ç›´å¾„ä¸¤ç«¯çš„è·ç¦»ï¼Œç”¨ä¸¤è€…çš„è¾ƒå°å€¼æ›´æ–°ç­”æ¡ˆã€‚ æ³¨æ„ï¼šè¦å¼€long long å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108#include &lt;cstdio&gt;#include &lt;cctype&gt;#define int long longnamespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) {putchar('-'), x = -x;} if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 200020;const int M = N &lt;&lt; 2;template &lt;typename T&gt;class queue { private: int head, tail; T q[N &lt;&lt; 1]; public: queue() {head = tail = 0;} inline bool empty() {return head &gt;= tail;} inline void push(T x) {q[++tail] = x;} inline void pop() {if(!empty()) head++;} inline T front() {return q[head + 1];}};template &lt;typename T&gt; inline T max(T a, T b) {return a &gt; b ? a : b;}template &lt;typename T&gt; inline T min(T a, T b) {return a &lt; b ? a : b;}int head[N], nxt[M], ver[M], edge[M];int dl[N], dr[N];bool v[N];int n, m, cnt, l, r, ans;inline void add(int x, int y, int z) { ver[++cnt] = y, edge[cnt] = z, nxt[cnt] = head[x], head[x] = cnt;}signed main() { n = read(), m = read(); for(register int i = 1; i &lt;= m; i++) { int x = read(), y = read(), z = read(); add(x, y, z); add(y, x, z); } queue &lt;int&gt; q; q.push(1); while(!q.empty()) { int x = q.front(); q.pop(); v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(v[y]) continue; dl[y] = dl[x] + z; q.push(y); } } for(register int i = 1; i &lt;= n; i++) if(dl[i] &gt; dl[l]) l = i; for(register int i = 1; i &lt;= n; i++) v[i] = 0; dl[l] = 0; q.push(l); while(!q.empty()) { int x = q.front(); q.pop(); v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(v[y]) continue; dl[y] = dl[x] + z; q.push(y); } } for(register int i = 1; i &lt;= n; i++) if(dl[i] &gt; dl[r]) r = i; for(register int i = 1; i &lt;= n; i++) v[i] = 0; q.push(r); while(!q.empty()) { int x = q.front(); q.pop(); v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(v[y]) continue; dr[y] = dr[x] + z; q.push(y); } } for(register int i = 1; i &lt;= n; i++) { ans = max(ans, min(dl[i], dr[i])); } ans += dl[r]; write(ans); return 0;}","link":"/2019/06/05/Luogu-P4408-NOI2003-é€ƒå­¦çš„å°å­©-è§£é¢˜æŠ¥å‘Š/"},{"title":"Luogu P4742 [Wind Festival]Running In The Sky è§£é¢˜æŠ¥å‘Š","text":"å±‘é¢˜å¡æˆ‘ä¸¤å¤©ï¼Œè¿™å¯èƒ½æ˜¯æˆ‘å†™è¿‡çš„æœ€é•¿çš„è“é¢˜äº†ã€‚ é¢˜ç›®é“¾æ¥P4742 [Wind Festival]Running In The Sky é¢˜æ„ç®€è¿°ç»™ä½ ä¸€å¼ æœ‰å‘å›¾ï¼Œæœ‰ç‚¹æƒï¼Œä¸€ä¸ªç‚¹çš„è´¹ç”¨å¯è¢«æ”¶å–å½“ä»…å½“ç¬¬ä¸€æ¬¡ç»è¿‡è¯¥ç‚¹ï¼Œæ±‚å‡ºæœ€é•¿è·¯å’Œè¯¥è·¯å¾„ä¸Šç‚¹æƒæœ€å¤§å€¼ã€‚ è§£é¢˜æ€æƒ³ç¼©ç‚¹æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œä½†æ˜¯åœ¨ç¼©ç‚¹æ—¶æˆ‘ä»¬ç»´æŠ¤æ¯ä¸ªå¼ºè¿é€šåˆ†é‡çš„ä¸¤ä¸ªä¿¡æ¯ï¼š ç‚¹æƒä¹‹å’Œinfo[0][i] ç‚¹æƒæœ€å¤§å€¼info[1][i] ç¼©å®Œç‚¹åå»ºç«‹æ–°å›¾ï¼Œå°±ä¸ç”¨å¤šè¯´äº†ã€‚ ç„¶ååœ¨æ–°å›¾ä¸Šæ‹“æ‰‘æ’åºçš„åŒæ—¶DPï¼Œç»´æŠ¤åˆ°æ¯ä¸ªç‚¹çš„æœ€é•¿è·¯ï¼ŒåŒæ—¶æœ‰ä¾èµ–æ€§åœ°æ›´æ–°ç‚¹æƒæœ€å¤§å€¼ã€‚ è¿™ä¸ªæœ‰ä¾èµ–æ€§å°±æ˜¯éš¾ç‚¹ã€‚ æˆ‘ä»¬è€ƒè™‘ç‹¬ç«‹DPæå¤§å€¼ï¼Œå¯ä»¥å¾ˆè½»æ˜“åœ°è¢«Hackæ‰ï¼Œè€ƒè™‘ä¸€æ¡è·¯å¾„ï¼Œä¸Šé¢æœ‰ä¸€ä¸ªç‚¹æƒå€¼æå¤§ï¼Œå…¶ä½™çš„ç‚¹æƒå€¼å…¨ä¸º0ï¼Œå†æ„é€ å¦ä¸€æ¡è·¯å¾„ï¼Œæ¯ä¸ªç‚¹çš„æƒå€¼ä»…æ¯”ä¸Šæ¡è·¯å¾„æƒå€¼æå¤§ç‚¹å°1ï¼Œè¿™æ ·æˆ‘ä»¬DPå‡ºçš„ç»“æœå¾ˆæ˜æ˜¾ä¸åœ¨æœ€é•¿è·¯ä¸Šã€‚ é‚£è¦æ€ä¹ˆåšå‘¢ï¼Ÿ è€ƒè™‘ä»…åœ¨æœ€é•¿è·¯å¾„è½¬ç§»çš„æ—¶å€™è½¬ç§»æå¤§å€¼çš„çŠ¶æ€ï¼Œå³å•ç‹¬è€ƒè™‘ä¸¤æ¡è·¯é•¿åº¦ç›¸ç­‰çš„æƒ…å†µã€‚ é‚£ä¹ˆæ‹“æ‰‘æ’åºæ—¶å°±æœ‰ä¸¤ç§æƒ…å†µï¼š ä¸€æ˜¯æœ€é•¿è·¯æ›´æ–°ï¼Œè¿™æ—¶éœ€è¦æ›´æ–°æœ€å¤§ç‚¹æƒï¼Œä¸æ–°åŠ å…¥çš„ç‚¹çš„æƒå€¼è¿›è¡Œå¯¹æ¯”ã€‚ äºŒæ˜¯å‘ç°ç­‰é•¿è·¯å¾„ï¼Œè¿™æ˜¯ä¹Ÿéœ€è¦æ›´æ–°æœ€å¤§ç‚¹æƒï¼Œä½†æ˜¯ä¸æ–°åŠ å…¥ç‚¹çš„çŠ¶æ€è¿›è¡Œå¯¹æ¯”ã€‚ å¾ˆå¥½æƒ³é€šï¼Œå‘ç°ç­‰é•¿è·¯å¾„æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†åŸçŠ¶æ€ä¸æ•´æ¡è·¯å¾„ä¸Šçš„ç‚¹æƒè¿›è¡Œå¯¹æ¯”ï¼Œè¿™å°±æ˜¯æ–°åŠ å…¥ç‚¹çš„çŠ¶æ€äº†ã€‚ å‚è€ƒä»£ç å†™çš„æ¯”è¾ƒå·¥ç¨‹åŒ–ï¼Œæ‰€ä»¥å¾ˆé•¿ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158#include &lt;cstdio&gt;#include &lt;cctype&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); putchar(' '); }}namespace Data { static const int N = 2e5 + 6; static const int M = 5e5 + 6; template &lt;typename T&gt; T max(T a, T b) {return a &gt; b ? a : b;} template &lt;typename T&gt; T min(T a, T b) {return a &lt; b ? a : b;} template &lt;typename T&gt; class queue { private: int head, tail; T q[N]; public: queue() {head = tail = 0;} inline bool empty() {return head &gt;= tail;} inline void push(T x) {q[++tail] = x;} inline void pop() {if(!empty()) head++;} inline T front() {return q[head + 1];} }; template &lt;typename T&gt; class stack { private: int stop; T s[N]; public: inline bool empty() {return stop == 0;} inline void push(T x) {s[++stop] = x;} inline void pop() {if(!empty()) stop--;} inline T top() {return s[stop];} }; int n, m; int head[N], nxt[M], ver[M], k[N], cnt; int scc[N], low[N], dfn[N], info[2][N], dp[2][N], idx, tot; bool v[N]; stack &lt;int&gt; s; int Head[N], Ver[M], Nxt[M], in[N], Cnt;}using namespace FastIO;using namespace Data;inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}void tarjan(int x) { dfn[x] = low[x] = ++idx; v[x] = 1; s.push(x); for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(!dfn[y]) { tarjan(y); low[x] = min(low[x], low[y]); } else if(v[y]) { low[x] = min(low[x], dfn[y]); } } if(low[x] == dfn[x]) { tot++; while(s.top()) { int y = s.top(); s.pop(); v[y] = 0; scc[y] = tot; info[0][tot] += k[y]; info[1][tot] = max(info[1][tot], k[y]); if(x == y) break; } }}inline void Add(int x, int y) { Ver[++Cnt] = y, Nxt[Cnt] = Head[x], Head[x] = Cnt, in[y]++;}inline void rebuild() { for(register int x = 1; x &lt;= n; x++) { for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(scc[y] != scc[x]) Add(scc[x], scc[y]); } }}inline void TopSort() { queue &lt;int&gt; q; for(register int i = 1; i &lt;= n; i++) { dp[0][i] = info[0][i]; dp[1][i] = info[1][i]; if(in[i] == 0) q.push(i); } while(!q.empty()) { int x = q.front(); q.pop(); for(register int i = Head[x]; i; i = Nxt[i]) { int y = Ver[i]; if(dp[0][y] &lt; dp[0][x] + info[0][y]) { dp[0][y] = dp[0][x] + info[0][y]; dp[1][y] = max(dp[1][x], info[1][y]); } else if(dp[0][y] == dp[0][x] + info[0][y]) { dp[1][y] = max(dp[1][y], dp[1][x]); } in[y]--; if(in[y] == 0) q.push(y); } }}int main() { n = read(), m = read(); for(register int i = 1; i &lt;= n; i++) { k[i] = read(); } for(register int i = 1; i &lt;= m; i++) { int x = read(), y = read(); add(x, y); } for(register int i = 1; i &lt;= n; i++) { if(!dfn[i]) tarjan(i); } rebuild(); TopSort(); int las = 1; for(register int i = 2; i &lt;= tot; i++) { if(dp[0][i] &gt; dp[0][las] || (dp[0][i] == dp[0][las] &amp;&amp; dp[1][i] &gt;= dp[1][las])) las = i; } write(dp[0][las]); write(dp[1][las]); return 0;}","link":"/2019/05/07/Luogu-P4742-Wind-Festival-Running-In-The-Sky è§£é¢˜æŠ¥å‘Š/"},{"title":"Nimåšå¼ˆ å­¦ä¹ æŠ¥å‘Š","text":"Nimå–çŸ³å­æ¸¸æˆç”²ï¼Œä¹™ä¸¤ä¸ªäººç©Nimå–çŸ³å­æ¸¸æˆã€‚nimæ¸¸æˆçš„è§„åˆ™æ˜¯è¿™æ ·çš„ï¼šåœ°ä¸Šæœ‰nå †çŸ³å­ï¼ˆæ¯å †çŸ³å­æ•°é‡å°äº10000ï¼‰ï¼Œæ¯äººæ¯æ¬¡å¯ä»ä»»æ„ä¸€å †çŸ³å­é‡Œå–å‡ºä»»æ„å¤šæšçŸ³å­æ‰”æ‰ï¼Œå¯ä»¥å–å®Œï¼Œä¸èƒ½ä¸å–ã€‚æ¯æ¬¡åªèƒ½ä»ä¸€å †é‡Œå–ã€‚æœ€åæ²¡çŸ³å­å¯å–çš„äººå°±è¾“äº†ã€‚å‡å¦‚ç”²æ˜¯å…ˆæ‰‹ï¼Œä¸”å‘Šè¯‰ä½ è¿™nå †çŸ³å­çš„æ•°é‡ï¼Œä»–æƒ³çŸ¥é“æ˜¯å¦å­˜åœ¨å…ˆæ‰‹å¿…èƒœçš„ç­–ç•¥ã€‚ ç»“è®ºNimåšå¼ˆå…ˆæ‰‹å¿…èƒœï¼Œå½“ä¸”ä»…å½“ï¼š$$XOR_{a_1}^{a_n}=0$$ è¯æ˜ï¼ˆæ­¤éƒ¨åˆ†æ¬è¿ y2823774827yçš„é¢˜è§£ï¼Œåœ¨æ­¤å¯¹åŸä½œè€…è¡¨ç¤ºæ•¬æ„ï¼‰ ç”¨æ¯”è¾ƒé€šä¿—çš„æ–¹å¼è®²ä¸€ä¸‹å§ï¼š é¢˜ç›®æœ¬æ„æ˜¯ç»™å‡ºnå †çŸ³å­ï¼Œè½®æµåœ¨å…¶ä¸­ä¸€å †å»ä»»æ„ä¸ªï¼Œè°ä¸èƒ½å»è°å°±è¾“ã€‚ æ€è·¯ï¼šè¯æ˜æ‰€æœ‰çŸ³å­å¼‚æˆ–å’Œä¸º0åˆ™å…ˆæ‰‹å¿…è¾“ è¯æ˜ï¼š åæ­£æœ€ç»ˆæƒ…å†µå°±æ˜¯æ¯å †éƒ½ä¸º0ï¼Œå…ˆæ‰‹å¿…è¾“ï¼Œæ‰€ä»¥æˆ‘ä»¬è€ƒè™‘æ€ä¹ˆæŠŠæƒ…å†µè½¬æ¢åˆ°è¿™é‡Œã€‚ å¦‚æœå¼‚æˆ–å’Œçš„æœ€é«˜ä½ä¸ºiï¼Œåˆ™æœ‰ä¸€å †çŸ³å­ç¬¬iä¸ºä¸º1ï¼ˆä¸ç„¶æ€ä¹ˆä¼šæœ‰iä½ï¼‰ è®¾A1å°±ä¸ºé‚£å †çŸ³å­ï¼Œå…¶ä»–å †çŸ³å­å¼‚æˆ–å’Œè®¾ä¸ºxï¼Œæ€»å¼‚æˆ–å’Œè®¾ä¸ºkï¼Œåˆ™ A1 xor x=kï¼ŒæŠŠA1å˜æˆA1 xor kï¼Œé‚£ä¹ˆåæ‰‹é¢å¯¹çš„åˆ™æ˜¯ï¼ˆA1 xor kï¼‰xor x=0ï¼Œ ä¸¾ä¸ªä¾‹å­:11001 xor 11100=101ï¼Œåˆ™æœ‰ï¼ˆ11001 xor 101ï¼‰xor 11100=0 å¦‚æœç°åœ¨çš„å¼‚æˆ–å’Œå·²ç»ä¸º0äº†ï¼ˆä¸ä¸ºæœ€ç»ˆæƒ…å†µï¼‰ï¼Œé‚£ä¹ˆæ€ä¹ˆè½¬æ¢å¼‚æˆ–å’Œéƒ½ä¸èƒ½ä¸º0 å¥½ï¼Œæˆ‘ä»¬æ ¹æ®3 4ç‚¹å¾—å‡ºï¼šå¦‚æœå…ˆæ‰‹å¼‚æˆ–å’Œä¸ä¸º0ï¼Œå¯ä»¥ä¸€æ­¥è®©åæ‰‹çš„æƒ…å†µä¸ºå¼‚æˆ–å’Œä¸º0ï¼›å¦‚æœå…ˆæ‰‹å¼‚æˆ–å’Œä¸º0ï¼Œé‚£ä¹ˆåæ‰‹å¼‚æˆ–å’Œå°±ä¸ä¸º0 ç»ˆäºå¼€å§‹è¿›è¡Œæ¸¸æˆäº†ï¼Œå¦‚æœç°åœ¨å…ˆæ‰‹é¢å¯¹çš„æƒ…å†µå¼‚æˆ–å’Œä¸ä¸º0ï¼Œåˆ™ä¸€ç›´è®©åæ‰‹å¼‚æˆ–å’Œä¸º0ï¼Œæœ€åé¢å¯¹æœ€ç»ˆæƒ…å†µï¼Œåæ‰‹è¾“ï¼Œåˆ™å…ˆæ‰‹èµ¢ï¼›å¦‚æœå…ˆæ‰‹é¢å¯¹çš„æƒ…å†µå¼‚æˆ–å’Œä¸º0ï¼Œåæ‰‹åˆ™èµ¢ SGå‡½æ•°ä¸ICGæ¸¸æˆè¿™é‡Œä¸è®²ç†è®ºäº†ï¼Œè®ºåº”ç”¨çš„è¯ï¼Œæˆ‘çš„SGå‡½æ•°å¤šåŠæ˜¯æ‰“è¡¨æˆ–è€…æ‰‹ç©å‡ºæ¥çš„ï¼ŒçœŸæ­£ä½¿ç”¨æ‰€è°“$\\mathbf {mex}$è¿ç®—çš„å¾ˆå°‘ã€‚æ‰€ä»¥ï¼Œä¸å¦¨ä»å®é™…é—®é¢˜å‡ºå‘ï¼Œæ‰¾å‡ºSGå‡½æ•°çš„è§„å¾‹ï¼Œå†å¯¹æ¯ä¸ªSGå‡½æ•°è¿›è¡Œå¼‚æˆ–å’Œã€‚ å…ˆæ‰‹å¿…èƒœçš„æ¡ä»¶ä¸ºï¼š$$\\oplus_{i = 1}^n\\mathbf{SG}(i) != 0$$ ä¾‹é¢˜ UVA1482 Playing With Stonesè¿™æ˜¯ä¸€é“å…¸å‹çš„æ‰“è¡¨æ±‚SGè§„å¾‹çš„é¢˜ã€‚ é¢˜è§£åœ¨è¿™ï¼šClick here","link":"/2019/03/05/Nimåšå¼ˆ-å­¦ä¹ æŠ¥å‘Š/"},{"title":"P5343 ã€XR-1ã€‘åˆ†å— è§£é¢˜æŠ¥å‘Š","text":"å¤ªè ¢äº†çŸ©é˜µå¿«é€Ÿå¹‚å¿˜å…‰äº†QAQ é¢˜ç›®é“¾æ¥P5343 ã€XR-1ã€‘åˆ†å— é¢˜æ„ç®€è¿°ç»™ä½ ä¸¤ä¸ªç”±é•¿åº¦æ„æˆçš„é›†åˆï¼Œæ±‚äº¤é›†ï¼Œå†ç»™ä½ ä¸€ä¸ªé•¿åº¦ï¼Œæ±‚ç”±äº¤é›†ä¸­çš„é•¿åº¦åˆ’åˆ†çš„æ–¹æ³•ã€‚ï¼ˆå¥½åƒè¶Šè®²è¶Šä¸æ¸…æ¥šï¼‰ è§£é¢˜æ€æƒ³ä¸€æ¬¡çº¿æ€§é€’æ¨å…³ç³»ï¼Œå¯ä»¥ç”¨çŸ©é˜µå¿«é€Ÿå¹‚åŠ é€Ÿï¼Œè¿™ä¸ªå¤§éƒ¨åˆ†é¢˜è§£éƒ½è®²äº†ã€‚ çœ‹åˆ°å¾ˆå¤šäººéƒ½æ˜¯æ’åº+unique$O(n\\log n)$æ±‚çš„äº¤é›†ï¼Œè¿™ç¯‡ä¸»è¦è®²ä¸€è®²ä¸€ç§$O(n)$æ±‚äº¤é›†çš„æ–¹æ³•ã€‚ ç”±äºçŸ©é˜µä¹˜æ³•æ˜¯$O(n^3)$çš„ç¼˜æ•…ï¼Œ$x$çš„èŒƒå›´å¼€çš„å¾ˆå°ï¼Œä¸å¦¨è€ƒè™‘æ¡¶æ’çš„æ€æƒ³ï¼Œæˆ‘ä»¬å¯¹åºåˆ—$O(n)$æ‰«ä¸¤éï¼Œç­›å‡ºé‡å¤å…ƒç´ ï¼ˆå¯ä»¥é€šè¿‡ä¸è¿ç®—å®ç°ï¼Œä¹Ÿå¯ä»¥å¼€ä¸¤ä¸ªæ•°ç»„ï¼‰ï¼Œç„¶ååœ¨æ‰«ä¸€éï¼Œå°†ç­›å‡ºçš„å…ƒç´ å­˜èµ·æ¥ï¼Œå°±èƒ½å¾—åˆ°äº¤é›†ã€‚ ä¸¤ä¸ªæ•°ç»„çš„æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š 12345678inline void get() { n = read(); num = read(); while(num--) t[read()] = 1; num = read(); while(num--) if(t[tmp = read()]) m[tmp] = 1; for(register int i = 1; i &lt;= 100; i++) if(m[i]) is[++tot] = i;} å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cctype&gt;#define int long long//ï¼ˆé€ƒconst int MOD = 1e9 + 7;inline void Mul(int f[100], int a[100][100]) { int c[100]; memset(c, 0, sizeof(c)); for(register int j = 0; j &lt; 100; j++) { for(register int k = 0; k &lt; 100; k++) { c[j] = (c[j] + (long long) f[k] * a[k][j]) % MOD; } } memcpy(f, c, sizeof(c));}inline void Mulself(int a[100][100]) { int c[100][100]; memset(c, 0, sizeof(c)); for(register int i = 0; i &lt; 100; i++) { for(register int j = 0; j &lt; 100; j++) { for(register int k = 0; k &lt; 100; k++) { c[i][j] = (c[i][j] + (long long)a[i][k] * a[k][j]) % MOD; } } } memcpy(a, c, sizeof(c));}int n, num, tmp, is[101], tot;bool t[101], m[101];inline int read() { char ch = getchar(); int r = 0; while(!isdigit(ch)) ch = getchar(); while(isdigit(ch)) r = r * 10 + ch - '0', ch = getchar(); return r;}inline void get() { n = read(); num = read(); while(num--) t[read()] = 1; num = read(); while(num--) if(t[tmp = read()]) m[tmp] = 1; for(register int i = 1; i &lt;= 100; i++) if(m[i]) is[++tot] = i;}int ans[100], base[100][100];signed main() { get(); ans[99] = 1; for(register int i = 1; i &lt; 100; i++) base[i - 1][i] = 1; for(register int i = 1; i &lt;= tot; i++) base[99][100 - is[i]] = 1; while(n) { if(n &amp; 1) Mul(ans, base); Mulself(base); n &gt;&gt;= 1; } printf(\"%lld\", ans[99]); return 0;}","link":"/2019/05/05/P5343-ã€XR-1ã€‘åˆ†å—-è§£é¢˜æŠ¥å‘Š/"},{"title":"SDOI2009 SuperGCDè§£é¢˜æŠ¥å‘Š(çæ)","text":"çæçš„åˆ«åº·äº†ã€‚ é¢˜ç›®ç®€è¿°é«˜ç²¾æ±‚gcd æ€æƒ³pythonä¸å­˜åœ¨é«˜ç²¾çš„ ä»£ç æ˜æ˜èƒ½æ›´çŸ­ 1print (__import__('fractions').gcd(int(input()),int(input()))) äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨python","link":"/2019/02/12/SuperGCD/"},{"title":"POJ 2631 Roads in the North è§£é¢˜æŠ¥å‘Š","text":"æˆ‘æ²¡æµ‹ï¼Œä¸€æ¬¡è¿‡äº†ï¼Œæœ‰ä»€ä¹ˆå¥½è¯´çš„ã€‚ é¢˜ç›®é“¾æ¥POJ 2631 Roads in the North é¢˜æ„ç®€è¿°ç»™ä½ ä¸€æ£µæ ‘ï¼Œæ±‚è·ç¦»æœ€é•¿çš„ä¸¤ä¸ªç‚¹ã€‚ è§£é¢˜æ€æƒ³é¦–å…ˆè¦ä¸€çœ¼çœ‹å‡ºé¢˜ç›®ä¸­çš„å›¾æ˜¯ä¸€æ£µæ ‘ã€‚ç„¶åè·ç¦»æœ€é•¿çš„ä¸¤ä¸ªç‚¹å°±æ˜¯æ ‘çš„ç›´å¾„ã€‚ å¯ä»¥å…ˆä»»æ„èŠ‚ç‚¹ä¸ºæºbfsä¸€æ¬¡ï¼Œæ±‚å‡ºåˆ°è¯¥ç‚¹è·ç¦»æœ€é•¿çš„ä¸€ä¸ªç‚¹ã€‚å†ä»¥å®ƒä¸ºæºbfsä¸€æ¬¡ï¼Œæ±‚å‡ºåˆ°è¯¥ç‚¹è·ç¦»æœ€é•¿çš„ä¸€ä¸ªç‚¹ã€‚é‚£ä¹ˆè¿™ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è·ç¦»å°±æ˜¯è¿™æ£µæ ‘çš„ç›´å¾„ã€‚ è¯»å…¥çš„æ—¶å€™éœ€è¦è®°å½•ä¸€ä¸‹æœ€å°ç‚¹æ•°å’Œæœ€å¤§ç‚¹æ•°ã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263//Junk POJ Doesn't Allow me to use &lt;bits/stdc++.h&gt;#include &lt;cstdio&gt;#include &lt;queue&gt;#include &lt;cstring&gt;using namespace std;const int N = 10010;const int M = N &lt;&lt; 1;int head[N], nxt[M], edge[M], ver[M], cnt = 1;int n, m, s = N, t, l, r;int d[N], v[N];inline void add(int x, int y, int z) { ver[++cnt] = y, edge[cnt] = z, nxt[cnt] = head[x], head[x] = cnt;}int main() { int x, y, z; while(~scanf(\"%d %d %d\", &amp;x, &amp;y, &amp;z)) { add(x, y, z); add(y, x, z); s = min(s, x); s = min(s, y); t = max(t, x); t = max(t, y); } queue &lt;int&gt; q; q.push(s); while(!q.empty()) { int x = q.front(); q.pop(); v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(v[y]) continue; d[y] = d[x] + z; q.push(y); } } for(register int i = s; i &lt;= t; i++) { if(d[i] &gt; d[r]) r = i; } q.push(r); memset(v, 0, sizeof(v)); memset(d, 0, sizeof(d)); while(!q.empty()) { int x = q.front(); q.pop(); v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(v[y]) continue; d[y] = d[x] + z; q.push(y); } } for(register int i = s; i &lt;= t; i++) { if(d[i] &gt; d[l]) l = i; } printf(\"%d\", d[l]); return 0;}","link":"/2019/06/04/POJ-2631-Roads-in-the-North-è§£é¢˜æŠ¥å‘Š/"},{"title":"UVA12879 Golf Bot è§£é¢˜æŠ¥å‘Š","text":"å¤§æ¦‚æ˜¯æœ€ä¼˜è§£ã€‚ é¢˜ç›®é“¾æ¥(æ´›è°·)UVA12879 Golf Bot é¢˜æ„ç®€è¿°ç»™ä½ $n$ä¸ªæ•°ï¼Œè®°ä¸ºæ•°ç»„$A$ï¼Œå†ç»™ä½ $m$ä¸ªæ•°ï¼Œè®°ä¸ºæ•°ç»„$B$ï¼Œæ±‚ä»$A$ä¸­ä»»é€‰ä¸¤ä¸ªæ•°ï¼ˆå¯é‡å¤ï¼‰ç›¸åŠ è‡³å¤šå¯ä»¥å¾—åˆ°å¤šå°‘ä¸ª$B$ä¸­çš„æ•°ã€‚ è§£é¢˜æ€æƒ³é¦–å…ˆä½ å¾—çœ‹æ‡‚é¢˜ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°ä¸€ä¸ªæš´åŠ›æ€è·¯ï¼Œ$O(n^2)$æšä¸¾$A$ä¸­çš„å…ƒç´ ï¼Œç„¶åç›¸åŠ ï¼Œå°†å¾—åˆ°çš„æ•°æ‰“æ ‡è®°ã€‚å†$O(n)$æšä¸¾$B$ä¸­çš„å…ƒç´ ï¼Œåˆ¤æ–­æœ‰æ²¡æœ‰æ ‡è®°ã€‚æ€»å¤æ‚åº¦$O(n^2)$ã€‚ ä½†æ˜¯Täº†ã€‚ ä½†æ˜¯Täº†ã€‚ ä½†æ˜¯Täº†ã€‚ å¾ˆæ˜¾ç„¶æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¿«çš„ç®—æ³•ã€‚è€ƒè™‘å•é¡¹å¼ä¹˜æ³•ï¼Œä¸¤ä¸ªå•é¡¹å¼ç›¸ä¹˜ï¼Œåº•æ•°ä¸å˜ï¼ŒæŒ‡æ•°ç›¸åŠ ã€‚è¿™å¯ç¤ºæˆ‘ä»¬æŠŠ$A$æ•°ç»„å…ƒç´ æ”¾åˆ°æŒ‡æ•°ä¸Šã€‚æˆ‘ä»¬ä¸å¦¨æ ¹æ®$A$æ•°ç»„çš„å…ƒç´ æ„é€ ä¸¤ä¸ªç›¸åŒçš„å¤šé¡¹å¼ï¼Œç¡®ä¿æ¯ä¸€ä¸ªä»¥$A$ä¸­å…ƒç´ ä¸ºæŒ‡æ•°çš„é¡¹ç³»æ•°ä¸ä¸º0ã€‚æ³¨æ„ï¼šå…¶ä»–é¡¹ç³»æ•°å¿…é¡»ä¸º0ï¼ã€‚ç„¶åå°†è¿™ä¸¤ä¸ªå¤šé¡¹å¼ç›¸ä¹˜ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªä»¥ç¬¦åˆé¢˜æ„çš„å…ƒç´ ä¸ºæŒ‡æ•°çš„é¡¹çš„ç³»æ•°ä¸ä¸º0ï¼Œå…¶ä½™é¡¹ç³»æ•°éƒ½ä¸º0çš„å¤šé¡¹å¼ï¼Œå°†è¯¥æ•°ç»„ä¸$B$æ•°ç»„æ¯”å¯¹ä¸€ä¸‹ç»Ÿè®¡ç­”æ¡ˆå°±è¡Œäº†ã€‚ æœ‰äººä¼šé—®ï¼šå¤šé¡¹å¼ä¹˜æ³•ä¸æ˜¯$O(n^2)$çš„å—ï¼Ÿ æˆ‘ä»¬æœ‰FFTå•Šã€‚ ä¹˜æ³•éƒ¨åˆ†ç”¨FFTæä¸€ä¸‹å°±è¡Œäº†ã€‚ æ€»æ—¶é—´å¤æ‚åº¦$O(n\\log n)$ã€‚ å‚è€ƒä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192#include &lt;cstdio&gt;#include &lt;cctype&gt;#include &lt;cmath&gt;#define max(a, b) a &gt; b ? a : bnamespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 1e6 + 6;const double Pi = acos(-1.0);struct Complex { double x, y; Complex(double _x = 0, double _y = 0) {x = _x, y = _y;}};Complex operator + (const Complex &amp;a, const Complex &amp;b) {return Complex(a.x + b.x, a.y + b.y);}Complex operator - (const Complex &amp;a, const Complex &amp;b) {return Complex(a.x - b.x, a.y - b.y);}Complex operator * (const Complex &amp;a, const Complex &amp;b) {return Complex(a.x *b.x - a.y * b.y, a.x * b.y + a.y * b.x);}int ans, limit, tot, n, m;int r[N], B[N];Complex A[N];inline void swap(Complex &amp;a, Complex &amp;b) {Complex tmp = a; a = b, b = tmp;}inline void FFT(Complex *A, int type) { for(register int i = 0; i &lt; limit; i++) { if(i &lt; r[i]) swap(A[i], A[r[i]]); } for(register int mid = 1; mid &lt; limit; mid &lt;&lt;= 1) { Complex Wn(cos(Pi / mid), type * sin(Pi / mid)); for(register int R = mid &lt;&lt; 1, j = 0; j &lt; limit; j += R) { Complex w(1, 0); for(register int k = 0; k &lt; mid; k++, w = w * Wn) { Complex x = A[j + k], y = w * A[j + mid + k]; A[j + k] = x + y; A[j + mid + k] = x - y; } } }}inline void init() { for(register int i = 0; i &lt; limit; i++) A[i].x = A[i].y = r[i] = 0; ans = 0; limit = 1; tot = 0;}int main() { while(~scanf(\"%d\", &amp;n)) { init(); int MaxN = 0;//æœ€å¤§æŒ‡æ•° A[0].x = 1; for(register int i = 1; i &lt;= n; i++) { int x = read(); A[x].x = 1; MaxN = max(MaxN, x); } m = read(); MaxN++; for(register int i = 1; i &lt;= m; i++) B[i] = read(); while(limit &lt;= (MaxN &lt;&lt; 1)) limit &lt;&lt;= 1, tot++; for(register int i = 0; i &lt; limit; i++) r[i] = (r[i &gt;&gt; 1] &gt;&gt; 1) | ((i &amp; 1) &lt;&lt; (tot - 1)); FFT(A, 1); for(register int i = 0; i &lt; limit; i++) A[i] = A[i] * A[i]; FFT(A, -1); for(register int i = 0; i &lt; limit; i++) A[i].x /= limit; for(register int i = 1; i &lt;= m; i++) { if((int)(A[B[i]].x + 0.5)) ans++; } write(ans); } return 0;}","link":"/2019/05/18/UVA12879-Golf-Bot-è§£é¢˜æŠ¥å‘Š/"},{"title":"ToDoList","text":"çŠ¹è±«ï¼Œå°±ä¼šè´¥åŒ—ï¼›æœæ–­ï¼Œä¹Ÿæ˜¯ç™½ç»™ã€‚ æ”¾å¼ƒï¼Œäº¦æ— å®½æ…°ï¼›åšæŒï¼Œç»ˆäºå´©æºƒã€‚ å¨å¨å¨å¾€ä¸‹çŒã€‚ è¦å­¦çš„èŠå£«OIæ‚¨å¯ä»¥ä¸‹è½½OIçŸ¥è¯†æ ‘ï¼ˆMade By Zgjjj With Xmindï¼‰ï¼Œä½†æ˜¯æ‚¨éœ€è¦å…ˆå®‰è£…Xmindã€‚ å­—ç¬¦ä¸² KMPï¼ˆæ‹–äº†å¤šä¹…äº†qaqï¼‰ ACè‡ªåŠ¨æœº åç¼€æ•°ç»„ åç¼€è‡ªåŠ¨æœº DP æ ‘ä¸ŠèƒŒåŒ…ä¼˜åŒ– çŠ¶å‹DP æ–œç‡ä¼˜åŒ– æ•°æ®ç»“æ„ä¼˜åŒ– æ•°ä½ç»Ÿè®¡DP è®¡æ•°DP DDPï¼ˆå¤§æ¦‚ä¼šäº†ï¼‰ å›¾è®º 2-SAT åŸºç¯æ ‘ å·®åˆ†çº¦æŸ äºŒåˆ†å›¾ å¸¦æƒåŒ¹é… æœ€å°ç‚¹è¦†ç›– æœ€å¤§ç‹¬ç«‹é›† DAGæœ€å°ç‚¹è¦†ç›– ç½‘ç»œæµ Dinic ISAP HLPP ä¸Šä¸‹ç•Œç½‘ç»œæµ æœ€å¤§æƒé—­åˆå­å›¾ ç¦»çº¿åˆ†æ²» æ•´ä½“äºŒåˆ† å¸¦æƒäºŒåˆ† CDQåˆ†æ²» æ•°å­¦ Pollardâ€™s Rho Polyaå®šç† Miller-Rabinç´ æ•°é‰´å®š é«˜æ–¯æ¶ˆå…ƒåšå¼ˆ åšå¼ˆ è«æ¯”ä¹Œæ–¯åæ¼” 01åˆ†è§„ ç¾¤è®º æœç´¢ å•¥éƒ½ä¸ä¼šï¼Œå•¥éƒ½è¦å­¦ æ•°æ®ç»“æ„ Splay LCT fhq Treap è«é˜Ÿ å¯æŒä¹…åŒ–Trie å¯æŒä¹…åŒ–çº¿æ®µæ ‘ åŠ¨æ€å›¾ æ ‘å¥—æ ‘ ä¼‘é—² CSS Node.js æ­OJ å’•æ‰çš„äº‹æƒ…é¢˜ç›®P1432 å€’æ°´é—®é¢˜ï¼ˆå¼ƒäº†ï¼Œä¸æƒ³å†™ï¼‰ P3803 ã€æ¨¡æ¿ã€‘å¤šé¡¹å¼ä¹˜æ³•ï¼ˆFFTï¼‰ P2713 ç½—é©¬æ¸¸æˆï¼ˆå’•å’•å’•ï¼‰ P2774 æ–¹æ ¼å–æ•°é—®é¢˜ P4593æ•™ç§‘ä¹¦èˆ¬çš„äºµæ¸ P3834 ã€æ¨¡æ¿ã€‘å¯æŒä¹…åŒ–çº¿æ®µæ ‘ 1ï¼ˆä¸»å¸­æ ‘ï¼‰ P1099 æ ‘ç½‘çš„æ ¸ Things å¤šé¡¹å¼å­¦ä¹ æŠ¥å‘Šè¡¥é”… P3119 è‰é‰´å®šGrass Cownoisseurå†™é¢˜è§£ï¼ˆå®Œæˆå•¦ï¼ï¼‰ LCTå­¦ä¹ æŠ¥å‘Š DarkBZOJ3583 æ°æ°çš„å¥³æ€§æœ‹å‹","link":"/2019/05/02/ToDoList/"},{"title":"Trieä¸01æ ‘ å­¦ä¹ æŠ¥å‘Š","text":"å€Ÿç€å¼‚æˆ–ç²½å­çš„å¥‘æœºå­¦äº†ä¸€ä¸‹Trie(zgjjj:åŸæ¥è¿™ç©æ„ä¸æ­¢èƒ½æå­—ç¬¦ä¸²) æ¦‚è¿°Trieï¼Œå­—å…¸æ ‘ï¼Œæ˜¾è€Œæ˜“è§æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚å®ƒæ˜¯è§£å†³å­—ç¬¦ä¸²é—®é¢˜ä¸æ˜¯è¿™ä¸ªçš„æœ‰åŠ›å·¥å…·ã€‚ å®ƒçš„è¡ç”Ÿç‰©01æ ‘åˆ™å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¤„ç†å¼‚æˆ–å’Œæœ€å¤§é—®é¢˜ã€‚ Trieè¿™ç©æ„å¾ˆå¥‡æ€ªï¼Œä¸åŒäºå…¶ä»–å¸¸è§çš„æ•°æ®ç»“æ„ï¼Œå®ƒçš„èŠ‚ç‚¹ä¿¡æ¯ä¿å­˜åœ¨æ•°ç»„ä¸‹æ ‡ä¸­ã€‚ ä¸¾ä¸ªä¾‹å­ï¼štrie[p][ch - 'a'] != 0ä»£è¡¨å­—ç¬¦chå­˜åœ¨äºå­—å…¸æ ‘ï¼Œpæ˜¯ä»€ä¹ˆæˆ‘ä»¬å¾…ä¼šçœ‹ã€‚ æ’å…¥å­—ç¬¦ä¸²123456789inline void ins(char *s) { int p = 0; for(register int i = 0; s[i]; i++) { char ch = s[i] - 'a'; if(trie[p][ch] == 0) trie[p][ch] = ++tot; p = trie[p][ch]; } end[p] = 1;} è¿™é‡Œçš„på°±æ˜¯å½“å‰èŠ‚ç‚¹çš„ç¼–å·ï¼Œ totå­˜å‚¨çš„åˆ™æ˜¯å­èŠ‚ç‚¹ä¹‹ä¸€çš„ç¼–å·ã€‚ end[p]è®°å½•å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ç»“æŸï¼Œè‹¥ä¸ç»´æŠ¤åˆ™æ ‘ä¸Šä¸²çš„å‰ç¼€ä¼šè¢«é”™è¯¯çš„åˆ¤ä¸ºå­˜åœ¨ã€‚ æŸ¥è¯¢å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨123456789inline bool check(char *s) { int p = 0; for(register int i = 0; s[i]; i++) { char ch = s[i] - 'a'; p = trie[p][ch]; if(p == 0) return 0; } return end[p];} æ³¨æ„åˆ¤æ–­è¯¥ä¸²æ˜¯å¦å®Œç»“ã€‚ 01æ ‘æ€æƒ³å’ŒTrieç›¸ä¼¼ï¼Œä½†æ˜¯01ä¸²çš„èŠ‚ç‚¹ä¿¡æ¯åªæœ‰0å’Œ1 æˆ‘ä»¬å°†ä¸€ä¸ªæ•°è¿›è¡ŒäºŒè¿›åˆ¶åˆ’åˆ†ï¼Œä»å¤§åˆ°å°è€ƒè™‘æ¯ä¸€ä½ï¼Œä¾æ¬¡æ’å…¥å­—å…¸æ ‘ï¼Œé‚£ä¹ˆåœ¨å¯»æ‰¾ä¸å·²çŸ¥ä¸²å¼‚æˆ–å’Œæœ€å¤§çš„ä¸²ï¼Œåªéœ€è´ªå¿ƒåœ°æ‰¾ä¸å½“å‰ä½ç›¸åçš„èŠ‚ç‚¹ã€‚ ä¾‹é¢˜P4551 æœ€é•¿å¼‚æˆ–è·¯å¾„ æ ‘ä¸Šç»Ÿè®¡ï¼Œéœ€è¦å…ˆdfså‡ºåˆ°æ¯ä¸ªèŠ‚ç‚¹çš„å¼‚æˆ–å’Œï¼Œç„¶åå°†æƒå€¼æ’å…¥01æ ‘ã€‚ ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include &lt;cstdio&gt;#include &lt;algorithm&gt;using std::max;const int N = 300010;const int M = N &lt;&lt; 1;int head[N], ver[M], edge[M], nxt[M];int cnt = 0, tot = 0, p;int trie[N * 31][2], d[N], ans, n;inline void add(int x, int y, int z) { ver[++cnt] = y, edge[cnt] = z, nxt[cnt] = head[x], head[x] = cnt; ver[++cnt] = x, edge[cnt] = z, nxt[cnt] = head[y], head[y] = cnt;}inline void ins(int x, int p) { for(register int i = 1 &lt;&lt; 30; i; i &gt;&gt;= 1) { bool ch = x &amp; i; if(!trie[p][ch]) trie[p][ch] = ++tot; p = trie[p][ch]; }}inline int query(int x, int p) { int ans = 0; for(register int i = 1 &lt;&lt; 30; i; i &gt;&gt;= 1) { bool ch = x &amp; i; if(trie[p][ch ^ 1]) ans += i, p = trie[p][ch ^ 1]; else p = trie[p][ch]; } return ans;}void dfs(int x, int fa) { for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(y != fa) { d[y] = d[x] ^ z; dfs(y, x); } }}int main() { scanf(\"%d\", &amp;n); for(register int i = 1; i &lt; n; i++) { int x, y, z; scanf(\"%d%d%d\", &amp;x, &amp;y, &amp;z); add(x, y, z); } dfs(1, 0); for(register int i = 1; i &lt;= n; i++) { ins(d[i], p); } for(register int i = 1; i &lt;= n; i++) { ans = max(ans, query(d[i], p)); } printf(\"%d\", ans); return 0;}","link":"/2019/04/09/Trieä¸01æ ‘-å­¦ä¹ æŠ¥å‘Š/"},{"title":"UVA1482 Playing With Stones è§£é¢˜æŠ¥å‘Š","text":"ä¸ç”¨SGå‡½æ•°çš„åšå¼ˆé¢˜ä¸æ˜¯å¥½åšå¼ˆé¢˜ï¼ é¢˜ç›®é“¾æ¥(æ´›è°·)UVA1482 Playing With Stones é¢˜æ„ç®€è¿°åœ¨æ¯ä¸€ä¸ªçš„å›åˆå†…ï¼Œä»–å¯ä»¥æ‹¿èµ°è‡³å°‘ä¸€ä¸ªçŸ³å­ï¼Œä½†ä¸èƒ½è¶…è¿‡çŸ³å­æ‰€åœ¨å †çš„çŸ³å­æ€»æ•°çš„ä¸€åŠã€‚ä¸èƒ½ç»§ç»­æ“ä½œçš„æ¸¸æˆè€…è¾“ã€‚ç»™å®šå±€é¢æ±‚æ˜¯å¦å…ˆæ‰‹å¿…èƒœã€‚ è§£é¢˜æ€æƒ³ç±»ä¼¼äº$Nim$æ¸¸æˆï¼Œæˆ‘ä»¬å°è¯•æŠŠSGå‡½æ•°æå‡ºæ¥ã€‚ æ‰‹ç©ä¸€ä¸‹å †æ•°ä¸º1çš„æƒ…å†µï¼Œå¯ä»¥å‘ç°SGå‡½æ•°çš„ä¸€ä¸ªè§„å¾‹ï¼š å½“$n$ä¸ºå¶æ•°æ—¶ï¼Œ$SG(n) = \\frac{n}{2}$ å½“$n$ä¸ºå¥‡æ•°æ—¶ï¼Œ$SG(n) = SG(n / 2)$ ä¸éš¾é€’å½’å®ç°SGå‡½æ•°ï¼šint sg(int x) {return x % 2 == 0 ? x / 2 : sg(x / 2);} è®²ä¸€è®²ä¼˜åŒ–æ–¹æ³•ï¼šå¥‡æ•°å¶æ•°åˆ¤å®šåŠæ•´æ•°é™¤ä»¥2éƒ½å¯ä»¥ä½¿ç”¨ä½è¿ç®—åŠ é€Ÿã€‚ æ•´æ•°é™¤ä»¥2å°±ä¸è®²äº†ï¼Œå¤§æ¦‚å¤§å®¶éƒ½çŸ¥é“ã€‚ å¯¹äºå¥‡æ•°å¶æ•°åˆ¤å®šï¼Œæˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºã€‚ å¯ä»¥å‘ç°ï¼Œä¸€ä¸ªæ•°è‹¥æ˜¯å¶æ•°ï¼Œé‚£ä¹ˆå®ƒçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹çš„æœ€ä½ä½ä¸€å®šä¸º0ã€‚ è€Œå¥‡æ•°ç›¸åã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨x &amp; 1å–å‡ºxçš„æœ€ä½ä½ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸º1å°±è¡Œäº†ã€‚ è¿™æ˜¯ä¼˜åŒ–åçš„SGå‡½æ•°ï¼š int sg(int x) {return x &amp; 1 ? sg(x &gt;&gt; 1) : x &gt;&gt; 1;} ç±»ä¼¼äº$Nim$åšå¼ˆï¼Œæˆ‘ä»¬å°†æ¯ä¸€å †çš„SGå‡½æ•°å¼‚æˆ–å’Œä¸€ä¸‹ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸º0å°±å¯ä»¥å¾—åˆ°è§£ã€‚ å‚è€ƒä»£ç 123456789101112131415161718192021222324#include &lt;cstdio&gt;#include &lt;cctype&gt;#define int long longinline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w;}int sg(int x) {return x &amp; 1 ? sg(x &gt;&gt; 1) : x &gt;&gt; 1;}signed main() { int t = read(); while(t--) { register int n = read(); register int a, ans = 0; for(register int i = 1; i &lt;= n; i++) a = read(), ans ^= sg(a); if(ans) puts(\"YES\"); else puts(\"NO\"); } return 0;}","link":"/2019/06/07/UVA1482-Playing-With-Stones-è§£é¢˜æŠ¥å‘Š/"},{"title":"ä½è¿ç®—ä¸äºŒè¿›åˆ¶çŠ¶æ€å‹ç¼© å­¦ä¹ æŠ¥å‘Š","text":"å‰è¨€åœ¨è®¡ç®—æœºä¸­ï¼Œæ•°æ®éƒ½ä½¿ç”¨äºŒè¿›åˆ¶å­˜å‚¨ä¸æ“ä½œã€‚å› æ­¤ï¼Œå­¦ä¹ ä½è¿ç®—ä¸ä»…å¯ä»¥ä¼˜åŒ–æˆ‘ä»¬çš„ç¨‹åºï¼ˆä½¿å¯è¯»æ€§â€“ï¼‰ï¼Œè¿˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£ç¨‹åºè¿è¡Œä¸­çš„ç§ç§è¡¨ç°ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„DEBUGï¼ˆå¡å¸¸ï¼‰ å­¦ä¹ èµ„æ–™ï¼šã€Šè¿›é˜¶æŒ‡å—ã€‹ ä½è¿ç®—ç®—æœ¯ä½è¿ç®—ä¸‹é¢ç»™å‡ºå››ç§ç®—æœ¯ä½è¿ç®—ï¼š ä¸ æˆ– é äº¦æˆ– and,&amp; or,| not,~ xor,^ æ³¨æ„ä¸å’Œæˆ–è¿ç®—ä¸æ¡ä»¶è¿æ¥ä½¿ç”¨çš„ä¸å’Œæˆ–ä¸åŒï¼Œéä¹Ÿä»!å˜ä¸º~ã€‚ è¿™äº›è¿ç®—çš„æ„ä¹‰ä¸å†èµ˜è¿°ã€‚ ç§»ä½å·¦ç§»ä½ä½è¡¥0ï¼Œé«˜ä½è¶Šç•Œèˆå¼ƒã€‚ å¯¹äºå·¦ç§»æ“ä½œï¼Œæˆ‘ä»¬æœ‰ï¼š $${1&lt;&lt;n=2^n,n&lt;&lt;k=2^k\\times n}$$ å³ç§»ä½ä½è¶Šç•Œèˆå¼ƒï¼Œé«˜ä½ä»¥ç¬¦å·ä½è¡¥å……ã€‚ å¯¹äºå³ç§»æ“ä½œï¼Œæˆ‘ä»¬æœ‰ï¼š$${n&gt;&gt;k=\\lfloor{\\dfrac{n}{2^k}}\\rfloor}$$ çŠ¶å‹åŸºæœ¬æ“ä½œ æ“ä½œ è¿ç®— å–å‡ºnçš„ç¬¬kä½ (n&gt;&gt;k)&amp;1 å–å‡ºnçš„ç¬¬0~k-1ä½ n&amp;((1&lt;&lt;k)-1) nçš„ç¬¬kä½å–å n^(1&lt;&lt;k) nçš„ç¬¬kä½èµ‹1 n|(1&lt;&lt;k) nçš„ç¬¬kä½èµ‹0 n&amp;(~(1&lt;&lt;k)) å¯ä»¥åœ¨è„‘ä¸­æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œåº”è¯¥å¾ˆå¥½ç†è§£ æˆå¯¹å˜æ¢å¯¹äºä¸€ä¸ªå¶æ•°${n}$ï¼Œæˆ‘ä»¬æœ‰${n+1=n ; xor ;1}$ åŒæ ·çš„ï¼Œå¯¹äºä¸€ä¸ªå¥‡æ•°${n}$ï¼Œæˆ‘ä»¬æœ‰${n-1=n ; xor ;1}$ è¿ç”¨æ»šåŠ¨æ•°ç»„å’Œé‚»æ¥è¡¨å­˜åå›¾ lowbit1int lowbit(int x){return x&amp;-x;} è¿™æ˜¯ä»£ç ï¼Œä½œç”¨ä¸ºå–å‡ºæ•°$x$çš„æœ€ä½ä½çš„1ã€‚ è¿ç”¨äº†äºŒè¿›åˆ¶è¡¥ç çš„ç›¸å…³çŸ¥è¯†ã€‚ä¸å†èµ˜è¿° æ˜¯æ ‘çŠ¶æ•°ç»„çš„æ ¸å¿ƒã€‚ åè®°ä½¿ç”¨ä½è¿ç®—å¯ä»¥æ˜¾è‘—ä¼˜åŒ–è¿è¡Œæ—¶é—´ï¼Œå› æ­¤ï¼Œåœ¨å¯¹ç¨‹åºå¯è¯»æ€§æ— é‡å¤§å½±å“çš„åŸºç¡€ä¸Šï¼Œç¬”è€…ä¼šå°½é‡ä½¿ç”¨ä½è¿ç®—ã€‚","link":"/2019/02/26/ä½è¿ç®—ä¸äºŒè¿›åˆ¶çŠ¶æ€å‹ç¼©-å­¦ä¹ æŠ¥å‘Š/"},{"title":"UVA1510 Neon Sign è§£é¢˜æŠ¥å‘Š","text":"è¿™ç§é¢˜æŒºå¥½ç©çš„2333 é¢˜ç›®é“¾æ¥(æ´›è°·)UVA1510 Neon Sign é¢˜æ„ç®€è¿°ä¸€ä¸ªåœ†ä¸Šæœ‰nä¸ªç‚¹ï¼Œå‘Šè¯‰ä½ æ¯ä¸ªç‚¹ä¸å…¶å®ƒç‚¹çš„è¾¹çš„é¢œè‰²ï¼ˆçº¢æˆ–è“ï¼‰ï¼Œæ±‚é¢œè‰²ç›¸åŒçš„è¾¹ç»„æˆçš„ä¸‰è§’å½¢çš„ä¸ªæ•°ã€‚ è§£é¢˜æ€æƒ³è€ƒè™‘æ­£éš¾åˆ™åï¼Œä¸å¦¨ç»Ÿè®¡å­˜åœ¨ä¸åŒè‰²çš„è¾¹çš„ä¸‰è§’å½¢çš„ä¸ªæ•°ï¼Œå†ç”¨æ€»æ•°å‡ã€‚ ç»Ÿè®¡æ€»æ•°ï¼š$$Sum = C_n^3 = n\\times (n - 1)\\times (n - 2)/6$$ ç»Ÿè®¡ä¸åŒè‰²è¾¹ä¸‰è§’å½¢ä¸ªæ•°ï¼šä¸å¦¨å…ˆé’¦å®šä¸¤æ¡è¾¹é¢œè‰²ä¸€å®šä¸åŒï¼Œé‚£ä¹ˆå¯¹äºä»»æ„é¢œè‰²çš„ç¬¬ä¸‰æ¡è¾¹ï¼Œè¿™ä¸ªä¸‰è§’å½¢ä¸€å®šæ˜¯ä¸ç¬¦åˆæ¡ä»¶çš„ã€‚ è€ƒè™‘æ¯ä¸ªç‚¹ï¼Œç”±äºæ¯æ¡è¾¹è¢«ä¸¤ä¸ªç‚¹ç›¸è¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨è¯»å…¥æ—¶ç»Ÿè®¡æ¯ä¸ªç‚¹è¿æ¥çš„è“è¾¹b[i]ä¸çº¢è¾¹r[i]æ¡æ•°ï¼Œæ±‚å’Œåé™¤ä»¥2. å³ï¼š $$Opp = \\frac{1}{2}\\sum b[i]\\times r[i]$$ é‚£ä¹ˆç­”æ¡ˆä¸ºï¼š$$Ans = Sum - Opp = n\\times (n - 1)\\times (n - 2)/6 - \\frac{1}{2}\\sum b[i]\\times r[i]$$ è®¡ç®—æ˜¯$O(n)$çš„ï¼Œè¯»å…¥æ˜¯$O(n^2)$çš„ï¼Œæ•…æ€»å¤æ‚åº¦ä¸º$O(n^2)$ å‚è€ƒä»£ç 123456789101112131415161718192021222324252627#include &lt;cstdio&gt;#include &lt;cstring&gt;int a[1001], b[1001];int main() { int t; scanf(\"%d\", &amp;t); while(t--) { memset(a, 0, sizeof(a)); memset(b, 0, sizeof(b)); int n; scanf(\"%d\", &amp;n); for(register int i = 1; i &lt; n; i++) { for(register int j = i + 1; j &lt;= n; j++) { int opt; scanf(\"%d\", &amp;opt); if(opt) a[i]++, a[j]++; else b[i]++, b[j]++; } } int sum = 0; for(register int i = 1; i &lt;= n; i++) sum += a[i] * b[i]; printf(\"%d\\n\", n * (n - 1) * (n - 2) / 6 - sum / 2); } return 0;} åäºŒçœè”è€ƒå‘½é¢˜ç»„æé†’æ‚¨ï¼š æ•°æ®åƒä¸‡æ¡ï¼Œæ¸…ç©ºç¬¬ä¸€æ¡ã€‚ å¤šæµ‹ä¸æ¸…ç©ºï¼Œçˆ†é›¶ä¸¤è¡Œæ³ªã€‚","link":"/2019/04/29/UVA1510-Neon-Sign/"},{"title":"å›¾è®ºæ¨¡æ¿","text":"æ”¾ä¸€äº›å›¾è®ºæ¨¡æ¿ï¼Œå…¶å®æ˜¯è‡ªå·±æ‡’å¾—å†™å­¦ä¹ æŠ¥å‘Šäº† å­˜å‚¨æ–¹å¼é‚»æ¥è¡¨ä¸€èˆ¬æƒ…å†µç”¨é‚»æ¥è¡¨å­˜å‚¨ï¼Œä¸å°è£…ä¸ºç»“æ„ä½“ï¼Œç»å¯¹ä¸ä½¿ç”¨vector 1234int head[N], ver[M], edge[M], nxt[M], from[M], cnt;inline void add(int x, int y, int z) { from[++cnt] = x, ver[cnt] = y, edge[cnt] = z, nxt[cnt] = head[x], head[x] = cnt;} é‚»æ¥çŸ©é˜µä»…åœ¨ä¼ é€’é—­åŒ…å’Œæœ‰å¿…è¦ä½¿ç”¨Floydæ—¶ä½¿ç”¨ int f[N][N] = {}ï¼› æœ€çŸ­è·¯å•æºspfaè€ƒè™‘åˆ°æ— æ„é€ æ•°æ®æ—¶ä¸€å®šä½¿ç”¨ 123456789101112131415161718inline void spfa(int s) { memset(d, 0x3f, sizeof(d)); v[s] = 1; d[s] = 0; q.push(s); while(!q.empty()) { int x = q.front(); q.pop(); for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(d[y] &gt; d[x] + z) { d[y] = d[x] + z; if(!v[y]) { v[y] = 1; q.push(y); } } } }} Dijkstraæ— è´Ÿæƒè¾¹ä¸”spfaè¢«å¡æ—¶ä½¿ç”¨ï¼Œç»ä¸ä½¿ç”¨æ— Heapä¼˜åŒ–ç‰ˆæœ¬ 123456789101112131415161718192021222324252627282930struct node { int post, dist; bool operator &lt; (const node &amp;lxl) const { return lxl.dist &lt; dist; }};priority_queue&lt;node&gt; q;inline void dijkstra(int s) { for(register int i = 1; i &lt;= n; i++) d[i] = INF; d[s] = 0; q.push((node){s, 0}); while(!q.empty()) { node tmp = q.top(); q.pop(); int x = tmp.post; if(v[x]) continue; v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(d[y] &gt; d[x] + z) { d[y] = d[x] + z; if(!v[y]) { q.push((node){y, d[y]}); } } } }} å¤šæºFloyd$O(n^3)$ï¼Œçœ‹æ•°æ®èŒƒå›´æˆ–éª—åˆ†ä½¿ç”¨ã€‚ 1234567for(register int i = 1; i &lt;= n; i++) { for(register int j = 1; j &lt;= n; j++) { for(register int k = 1; k &lt;= n; k++) { if(f[i][j] &gt; f[i][k] + f[k][j]) f[i][j] = f[i][k] + f[k][j]; } }} ä¼ é€’é—­åŒ…Floydçš„è¡ç”Ÿç‰©ï¼ŒåŒæ ·æ˜¯$O(n^3)$ 1234567for(register int i = 1; i &lt;= n; i++) { for(register int j = 1; j &lt;= n; j++) { for(register int k = 1; k &lt;= n; k++) { f[i][j] |= f[i][k] &amp; f[k][j]; } }} LCAlg[]é¢„å¤„ç†é¢„å¤„ç†$lg[]$æ•°ç»„ä»¥åšåˆ°$O(1)$æŸ¥è¯¢ã€‚ 12345inline void init() { for(register int i = 1; i &lt;= n ; i++) { lg[i] = lg[i - 1] + (1 &lt;&lt; lg[i - 1] == i); }} æ ‘è¿è¾¹è™½ç„¶æ ‘æ˜¯æ— å‘çš„ï¼Œä½†æ˜¯è¾¹ä¸èƒ½åŠ ä¸¤æ¬¡ã€‚ 123inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;} æ ‘ä¸Šå€å¢1234567891011inline void dfs(int x, int fa) { d[x] = d[fa] + 1; f[x][0] = fa; for(register int i = 1 ; (1 &lt;&lt; i) &lt;= d[x] ; i++) { f[x][i] = f[f[x][i - 1]][i - 1]; } for(register int i = head[x] ; i ; i = next[i]) { if(fa == ver[i]) continue; dfs(ver[i], x); }} åœ¨çº¿è¯¢é—®123456789101112131415int lca(int x, int y) { if(d[x] &lt; d[y]) swap(x, y); while(d[x] &gt; d[y]) { x = f[x][lg[d[x] - d[y]] - 1]; } if(x == y) { return x; } for(register int i = lg[d[x]] - 1 ; i &gt;= 0 ; i--) { if(f[x][i] != f[y][i]) { x = f[x][i], y = f[y][i]; } } return f[x][0];} MSTKruskalå¤ªèœäº†åªä¼šKruskal åŸºäºå¹¶æŸ¥é›†çš„ç®—æ³• 12345678910111213141516171819202122232425262728293031323334353637inline int find(int x){return fa[x]==x?x:find(fa[x]);}inline bool merge(int x,int y){ int xx=find(x),yy=find(y); if(xx!=yy){ fa[xx]=yy; return 1; } return 0;}struct node{ int x,y,w;}a[M];bool cmp(node a,node b){ return a.w&lt;b.w;}int main() { int n, m; scanf(\"%d%d\",&amp;n, &amp;m); for(register int i = 1; i &lt;= m; i++) { scanf(\"%d%d%d\",&amp;a[i].x,&amp;a[i].y,&amp;a[i].w); } for(register int i = 1; i &lt;= n; i++) fa[i] = i; for(int i=1;i&lt;=m;i++){ if(merge(a[i].x,a[i].y)){ ans+=a[i].w; cnt++; } if(cnt==n-1){ printf(\"%d\",ans); return 0; } } else ERR;//è¿™é‡Œçš„ERRåº”ç»™äºˆå®å®šä¹‰ï¼Œå‘å‡ºé”™è¯¯ä¿¡å·} TopSortåŠ è¾¹æ—¶ç»´æŠ¤èŠ‚ç‚¹çš„åº¦ å¸¸ç”¨äºDAGDPå’Œæ ‘å½¢DP 123456789101112queue&lt;int&gt; q;q.push(n);while(!q.empty()) { int now = q.front(); q.pop(); for(register int i = head[now] ; i ; i = next[i]) { int to = ver[i]; //do something deg[to]--; if(deg[to] == 0) q.push(to); }} Tarjanæ±‚å‰²ç‚¹æ³¨æ„åŒºåˆ†è¿™é‡Œlow[]çš„æ›´æ–°ä¸ç¼©ç‚¹ä¸­low[]çš„æ›´æ–°ã€‚ low[x] = min(low[x], dfn[y]) 123456789101112131415inline void tarjan(int x, int rt) { dfn[x] = low[x] = ++tot; int son = 0; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(!dfn[y]) { tarjan(y, rt); low[x] = min(low[x], low[y]); if(low[y] &gt;= dfn[x] and x != rt) cut[x] = 1; if(x == rt) son++; } low[x] = min(low[x], dfn[y]);//æ³¨æ„åŒºåˆ« } if(son &gt;= 2 and x == rt) cut[x] = 1; } ç¼©ç‚¹åŒä¸Šï¼Œæ³¨æ„åŒºåˆ«ã€‚ low[x] = min(low[x], low[y]); 1234567891011121314151617181920212223242526inline void tarjan(int x) { low[x] = dfn[x] = ++idx; s.push(x); v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(!dfn[y]) { tarjan(y); low[x] = min(low[x], low[y]); } else if(vis[y]) { low[x] = min(low[x], low[y]); } } if(dfn[x] == low[x]) { int y; while(s.top()) { y = s.top(); s.pop(); p[y] = x; v[y] = 0; if(x == y) break; val[x] += val[y]; } }} wjyyyå¤§çˆ·: æ¬§æ‹‰è·¯ æ­¤éƒ¨åˆ†æ¥è‡ªlewinçš„æˆé•¿ä¹‹è·¯ å®šä¹‰æ¬§æ‹‰è·¯ï¼šæ¬§æ‹‰è·¯æ˜¯æŒ‡ä»å›¾ä¸­ä»»æ„ä¸€ä¸ªç‚¹å¼€å§‹åˆ°å›¾ä¸­ä»»æ„ä¸€ä¸ªç‚¹ç»“æŸçš„è·¯å¾„ï¼Œå¹¶ä¸”å›¾ä¸­æ¯æ¡è¾¹é€šè¿‡çš„ä¸”åªé€šè¿‡ä¸€æ¬¡ã€‚ æ¬§æ‹‰å›è·¯:æ¬§æ‹‰å›è·¯æ˜¯æŒ‡èµ·ç‚¹å’Œç»ˆç‚¹ç›¸åŒçš„æ¬§æ‹‰è·¯ã€‚ ç»“è®ºæ²¡ä»€ä¹ˆæ¨¡æ¿ï¼Œç»“è®ºè®°ä¸€è®°ï¼š å­˜åœ¨æ¬§æ‹‰è·¯çš„æ¡ä»¶: 1.æ— å‘è¿é€šå›¾å­˜åœ¨æ¬§æ‹‰è·¯çš„æ¡ä»¶ï¼š æ‰€æœ‰ç‚¹åº¦éƒ½æ˜¯å¶æ•°ï¼Œæˆ–è€…æ°å¥½æœ‰ä¸¤ä¸ªç‚¹åº¦æ˜¯å¥‡æ•°ï¼Œåˆ™æœ‰æ¬§æ‹‰è·¯ã€‚è‹¥æœ‰å¥‡æ•°ç‚¹åº¦ï¼Œåˆ™å¥‡æ•°ç‚¹åº¦ç‚¹ä¸€å®šæ˜¯æ¬§æ‹‰è·¯çš„èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œå¦åˆ™å¯å–ä»»æ„ä¸€ç‚¹ä½œä¸ºèµ·ç‚¹ã€‚ 2.æœ‰å‘è¿é€šå›¾å­˜åœ¨æ¬§æ‹‰è·¯çš„æ¡ä»¶ï¼š æ¯ä¸ªç‚¹çš„å…¥åº¦ç­‰äºå‡ºåº¦ï¼Œåˆ™å­˜åœ¨æ¬§æ‹‰å›è·¯ï¼ˆä»»æ„ä¸€ç‚¹æœ‰åº¦çš„ç‚¹éƒ½å¯ä»¥ä½œä¸ºèµ·ç‚¹ï¼‰ é™¤ä¸¤ç‚¹å¤–ï¼Œæ‰€æœ‰å…¥åº¦ç­‰äºå‡ºåº¦ã€‚è¿™ä¸¤ç‚¹ä¸­ä¸€ç‚¹çš„å‡ºåº¦æ¯”å…¥åº¦å¤§ï¼Œå¦ä¸€ç‚¹çš„å‡ºåº¦æ¯”å…¥åº¦å°ï¼Œåˆ™å­˜åœ¨æ¬§æ‹‰è·¯ã€‚å–å‡ºåº¦å¤§è€…ä¸ºèµ·ç‚¹ï¼Œå…¥åº¦å¤§è€…ä¸ºç»ˆç‚¹ã€‚","link":"/2019/04/02/å›¾è®ºæ¨¡æ¿/"},{"title":"å°é—¹é’Ÿ","text":"ç®€ä»‹ä½ ä»æ¥æ²¡æœ‰ç©è¿‡çš„èˆ¹æ–°ç‰ˆæœ¬ å½“å‰ç‰ˆæœ¬åªæ”¯æŒå€’è®¡æ—¶(å·¨æ°´ Source Code1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include&lt;cstdlib&gt;#include&lt;windows.h&gt;#include&lt;iostream&gt;using namespace std;int main(){ int hour,second,minute; cout&lt;&lt;\"è¾“å…¥æ ¼å¼\\\"æ—¶ åˆ† ç§’\\\"\"&lt;&lt;endl; cin&gt;&gt;hour&gt;&gt;minute&gt;&gt;second; if(minute==60&amp;&amp;second&gt;0) { cout&lt;&lt;\"Input error!\"&lt;&lt;endl; } else { if(minute&gt;60||second&gt;60) cout&lt;&lt;\"Input error!\"&lt;&lt;endl; else { for(int i=3600*hour+60*minute+second;i&gt;0;Sleep(1000),i--) { system(\"cls\"); if((minute)&lt;0) { hour-=1; minute=60; } if((second-1)&lt;0) { minute-=1; second=60; } if(second&lt;10&amp;&amp;minute&lt;10) { second--; cout&lt;&lt;hour&lt;&lt;\":0\"&lt;&lt;minute&lt;&lt;\":0\"&lt;&lt;second&lt;&lt;endl; } if(second&lt;10&amp;&amp;minute&gt;=10) { second--; cout&lt;&lt;hour&lt;&lt;\":\"&lt;&lt;minute&lt;&lt;\":0\"&lt;&lt;second&lt;&lt;endl; } if(second&gt;=10&amp;&amp;minute&lt;10) { second--; cout&lt;&lt;hour&lt;&lt;\":0\"&lt;&lt;minute&lt;&lt;\":\"&lt;&lt;second&lt;&lt;endl; } if(second&gt;=10&amp;&amp;minute&gt;=10) { second--; cout&lt;&lt;hour&lt;&lt;\":\"&lt;&lt;minute&lt;&lt;\":\"&lt;&lt;second&lt;&lt;endl; } } for(int i=10;i&gt;0;i--) { cout&lt;&lt;\"\\a\"&lt;&lt;endl; Sleep(1000); } } } return 0;}","link":"/2019/01/19/å°é—¹é’Ÿ/"},{"title":"å­—ç¬¦ä¸²Hash å­¦ä¹ æŠ¥å‘Š","text":"å¬julao xhtçš„å»ºè®®å­¦äº†å­—ç¬¦ä¸²å“ˆå¸Œã€‚ å…ˆæŒ‚ä¸€å¼ å›¾ï¼š å›¾æºï¼šxht æ‹è‡ªã€Šè¿›é˜¶æŒ‡å—ã€‹ ç®€ä»‹æ„ä¹‰å¦‚ä¹¦ä¸­æ‰€è¯´ï¼Œå­—ç¬¦ä¸²hashå¯ä»¥å°†ä»»ä½•å­—ç¬¦ä¸²æ˜ å°„æˆä¸€ä¸ªéè´Ÿæ•´æ•°çš„å€¼ï¼Œä»è€Œæ–¹ä¾¿è¿›è¡Œæ¯”è¾ƒã€‚ hashå†²çªæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªä¸åŒçš„å­—ç¬¦ä¸²è¢«æ˜ å°„åˆ°åŒä¸€ä¸ªéè´Ÿæ•´æ•°çš„æƒ…å†µã€‚ æµç¨‹å¦‚ä½•æ±‚ç»™å®šä¸²çš„Hashå€¼é¦–å…ˆé€‰å–ä¸€ä¸ªå›ºå®šå€¼Pï¼ˆæœ€å¥½æ˜¯è´¨æ•°ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå­—ç¬¦ä¸²çœ‹æˆä¸€ä¸ªPè¿›åˆ¶æ•°ï¼Œä»¥æ­¤æ˜ å°„åˆ°ä¸€ä¸ªéè´Ÿæ•´æ•°çš„å€¼ä¸Šã€‚ æ¥ç€é€‰å–ä¸€ä¸ªå›ºå®šæ¨¡æ•°Mï¼Œå°†ä¸Šè¿°Pè¿›åˆ¶æ•°æ¨¡Mæ„ä¹‰ä¸‹çš„å€¼ä½œä¸ºåŸå­—ç¬¦ä¸²çš„Hashå€¼ã€‚ é€šå¸¸ï¼Œæˆ‘ä»¬é€‰å–$2^{64}$ä½œä¸ºæ¨¡æ•°ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨unsigned long long ç±»å‹æ¥å‚¨å­˜åŸPè¿›åˆ¶æ•°ï¼Œåœ¨å¤§äºæ¨¡æ•°Mæ—¶è‡ªåŠ¨æº¢å‡ºï¼Œå¯é¿å…ä½æ•ˆå–æ¨¡è¿ç®—ã€‚ å¦‚ä½•å¤„ç†hashå†²çªä»»ä½•æ•°æ®éƒ½æ— æ³•é¿å…Hashå†²çª æˆ‘ä»¬å¯ä»¥åšçš„ï¼Œåªæ˜¯å°½å¯èƒ½å‡å°‘å†²çªæ¦‚ç‡ã€‚ æœ‰ä»¥ä¸‹å‡ ç§åšæ³•ï¼š åœ¨æ¨¡æ•°ä¸Šå¯¹äºPï¼Œæˆ‘ä»¬å¯ä»¥é€‰ç”¨P=131æˆ–P=13331ã€‚å¯¹äºMï¼Œæˆ‘ä»¬å¯ä»¥é€‰ç”¨19260817 å…¶ä»–åšæ³•å¯ä»¥è¿›è¡Œå¤šç»„Hashï¼Œä½¿ç”¨ä¸€ä¸ªå¤šå…ƒç»„å‚¨å­˜ä¸åŒhashçš„ç»“æœï¼Œåœ¨æ¯”å¯¹æ—¶é€æ¬¡æ¯”å¯¹ï¼Œå¯ä»¥æœ‰æ•ˆé™ä½Hashå†²çªã€‚ å¯¹åº”å­—ç¬¦ä¸²çš„æ“ä½œè®¾$F[s]$å‚¨å­˜å­—ç¬¦ä¸²$s$çš„Hashå€¼ï¼Œé‚£ä¹ˆå¯¹äºä¸€ä¸ªæ–°ä¸²$t$ï¼Œæˆ‘ä»¬æœ‰ $${F[t]=(F[s+t]-F[s]*P^{strlen(t)})}$$ å¯¹åº”åˆ°Pè¿›åˆ¶æ•°ä¸Šï¼Œå°±ç›¸å½“äºå·¦ç§»æ“ä½œã€‚ å½“$t$ä¸ºä¸€ä¸ªå­—ç¬¦${c}$æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å­—ç¬¦ä¸²Hashå€¼çš„åˆå§‹åŒ–å…¬å¼ï¼š $${F[s+c]=F[s]+p\\times value[c]}$$ ä¸€èˆ¬$value[c]$å–$ASCII$ç ä¸­å­—ç¬¦cçš„å¯¹åº”å€¼ã€‚ ä¾‹é¢˜Luogu P3370 ã€æ¨¡æ¿ã€‘å­—ç¬¦ä¸²å“ˆå¸Œ(è¿™é¢˜${Set}$å’Œ${Map}$å¯ä»¥æ°´è¿‡) CH1401 å…”å­ä¸å…”å­","link":"/2019/02/14/å­—ç¬¦ä¸²Hash-å­¦ä¹ æŠ¥å‘Š/"},{"title":"å¹³æ‘Šåˆ†æ å­¦ä¹ æŠ¥å‘Š","text":"å‰è¨€ï¼Ÿ åœ¨bç«™ä¸Šçœ‹MITçš„è¯¾å­¦äº†è¿™ä¸ªç©æ„â€¦ æœ¬æ¥ä»¥ä¸ºå¹³æ‘Šåˆ†æä¸åŠ¿èƒ½åˆ†ææ˜¯ä¸¤ä¸ªç©æ„ï¼Œçœ‹å®Œä¹‹åå‘ç°è‡ªå·±å¤ªnaiveäº†ã€‚ é—®é¢˜å¼•å…¥ Hashè¡¨åº”è¯¥å¼€å¤šå¤§ï¼Ÿ ä»æ—¶é—´ä¸Šè€ƒè™‘ ä¸€èˆ¬æ¥è¯´ï¼ŒHashè¡¨å¼€çš„è¶Šå¤§ï¼ŒæŸ¥æ‰¾æ—¶é—´å°±è¶ŠçŸ­ï¼Œå½“ä¸€ä¸ªHashè¡¨è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œå®ƒå°±æˆäº†ä¸€ä¸ªç›´æ¥æ˜ å°„è¡¨ï¼ŒæŸ¥æ‰¾æ—¶é—´æœ€å·®ä¸º$O(1)$ ä»ç©ºé—´ä¸Šè€ƒè™‘ æˆ‘ä»¬å¸Œæœ›å®ƒå°½å¯èƒ½çš„å°ï¼Œè¿™æ ·å°±ä¸ä¼šæµªè´¹ç©ºé—´ã€‚ ç»¼åˆè€ƒè™‘ä¸Šè¿°ä¸¤ç‚¹ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªæŠ˜ä¸­å€¼ï¼š å¯¹äºnä¸ªå…ƒç´ ï¼ŒHashè¡¨çš„å¤§å°çš„æœ€å¥½çš„æŠ˜ä¸­å€¼ä¸º$\\Theta(n)$ ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä¸çŸ¥é“å°†è¦åŠ å…¥çš„å…ƒç´ ä¸ªæ•°å‘¢ï¼Ÿ è¿™ä¸ªé—®é¢˜çš„è§£æ˜¯åŠ¨æ€è¡¨ï¼ˆDynamic Tablesï¼‰ å½“ä¸€ä¸ªæ™®é€šçš„Hashè¡¨æº¢å‡ºï¼ˆOverflowï¼‰æ—¶ï¼Œå°±å¢å¤§ç©ºé—´ã€‚ ï¼ˆæœ‰ç‚¹vectorçš„æ„Ÿè§‰ï¼‰ å¢å¤§ç©ºé—´çš„æ–¹æ³•ï¼Ÿ åˆ†é…ä¸€ä¸ªæ›´å¤§çš„è¡¨ï¼ˆmalloc()ï¼‰ï¼Œç„¶åå°†å…ƒç´ ä»æ—§è¡¨è¿ç§»åˆ°æ–°è¡¨ï¼Œç„¶åé‡Šæ”¾æ—§è¡¨çš„ç©ºé—´ã€‚ï¼ˆä¼¼ä¹éå¸¸çš„æ…¢ã€‚ï¼‰ å‡è®¾æœ‰ä¸€ä¸ªå¤§å°ä¸º1çš„ç©ºçš„Hashè¡¨ã€‚ è¿™é‡Œæˆ‘ä»¬ä¸è€ƒè™‘Hashçš„è¿‡ç¨‹ï¼Œæ¥ç›´æ¥æ¨¡æ‹Ÿæº¢å‡ºåŠåˆ†é…çš„è¿‡ç¨‹ï¼š Operation Table Size Elements Insert(1) 1 1 Insert(2) 2 1 2 Insert(3) 4 1 2 3 Insert(4) 4 1 2 3 4 å¯ä»¥å‘ç°ï¼Œè¡¨çš„æ‰©å¼ æ˜¯å€å¢å®ç°çš„ å¯¹æ­¤æ–¹æ³•åšåˆ†æï¼š æœ‰ä¸€ä¸ªåºåˆ—ï¼ŒåŒ…æ‹¬næ¬¡æ’å…¥è¿ç®—ï¼Œæ±‚æœ€åæƒ…å†µä¸‹ï¼Œä¸€æ¬¡æ’å…¥çš„ä»£ä»·ï¼Ÿ å¯¹äºä»»ä½•å…ƒç´ ï¼Œæœ€å·®çš„æƒ…å†µæ˜¯åœ¨æ’å…¥æ—¶ï¼Œè¡¨ä¼šæº¢å‡ºï¼Œè¿™æ—¶éœ€è¦å°†æ—§è¡¨ä¸­çš„æ¯ä¸€é¡¹éƒ½å¤åˆ¶åˆ°æ–°è¡¨ä¸­ï¼Œæ‰€ä»¥åœ¨æœ€å·®æƒ…å†µä¸‹ï¼Œä¸€æ¬¡æ’å…¥çš„ä»£ä»·ä¸º$\\Theta(n)$ æ‰€ä»¥æœ€å·®æƒ…å†µä¸‹ï¼Œ$n$æ¬¡æ’å…¥çš„æ€»ä»£ä»·=$n \\times \\Theta(n) = \\Theta(n ^ 2)$ ä½ æ²¡å‘ç°ä¸Šä¸€å¥è¯æ²¡ä¸œè¥¿åŠ ç²—å˜›ï¼Ÿ å› ä¸ºå®ƒå‡äº†ã€‚ ç¨åŠ è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªå…ƒç´ åœ¨æ’å…¥æ—¶éƒ½å¤„åœ¨æœ€å·®æƒ…å†µï¼Œå®é™…ä¸Šï¼Œæœ€å·®æƒ…å†µä¸‹ï¼Œnæ¬¡æ’å…¥çš„æ€»ä»£ä»·ä¾ç„¶æ˜¯ $\\Theta(n)$ ç®€ç•¥è¯æ˜ï¼šè®¾ç¬¬iæ¬¡æ’å…¥çš„ä»£ä»·ä¸º$c_i$ ç”±äºæ‰©å¼ æ˜¯å€å¢å®ç°çš„ï¼Œæ‰€ä»¥åœ¨æ’å…¥ç¬¬äºŒçš„æ•´æ•°å¹‚åŠ ä¸€ä¸ªæ•´æ•°æ—¶ï¼Œè¡¨ä¼šå‘ç”Ÿæ‰©å¼ ï¼Œæ­¤æ—¶æ’å…¥çš„ä»£ä»·ä¸º$\\Theta ( n ) $ $$\\therefore c_i = \\begin{cases} i &amp; \\log_2(x - 1) \\in \\mathbb N \\ \\ 1 &amp; Otherwise\\end{cases}$$ å¯¹æ¯ä¸€é¡¹åˆ†æä»£ä»·ï¼Œåˆ—å‡ºå¦‚ä¸‹è¡¨æ ¼ï¼š é¡¹æ•° 1 2 3 4 5 6 7 8 9 è¡¨çš„å¤§å° 1 2 4 4 8 8 8 8 16 æ’å…¥ä»£ä»· 1 1 1 1 1 1 1 1 1 æ‰©å¼ ä»£ä»· 0 1 2 0 4 0 0 0 8 è§‚å¯Ÿè¡¨çš„è§„å¾‹ï¼Œå¯¹ä»£ä»·æ±‚å’Œå¾—ï¼š â€‹ æ€»ä»£ä»· $=\\sum\\limits_{i = 1} ^ n c_i$ $= n + \\sum\\limits_{j = 0} ^{\\lfloor\\log_2(n - 1)\\rfloor} 2 ^ j$ ç¬¬äºŒé¡¹æ˜¯ä¸€ä¸ªå‡ ä½•çº§æ•°ï¼Œä¸Šç•Œç”±æœ€å¤§å€¼å†³å®šï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åˆ°ï¼š $$\\sum\\limits_{j = 0}^{\\lfloor\\log_2(n - 1)\\rfloor} 2^j\\le 2n$$ æ‰€ä»¥$n + \\sum\\limits^{\\lfloor\\log_2(n - 1)\\rfloor} _ {j = 0} \\le 3n = \\Theta(n)$ æ‰€ä»¥æ€»ä»£ä»·ä¸º$\\Theta(n )$ æ‰€ä»¥æ¯æ¬¡æ’å…¥çš„å¹³å‡ä»£ä»·ä¸º$\\frac{\\Theta(n)}{n} = \\Theta(1)$ è¿™å°±æ˜¯å¯¹Hashè¡¨æ’å…¥æ“ä½œçš„å¹³æ‘Šåˆ†æ å¹³æ‘Šåˆ†æç‰¹æ€§ç”±ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¾ˆå®¹æ˜“å‘ç°å¹³æ‘Šåˆ†æçš„ä¸€ä¸ªç‰¹æ€§ï¼šå°½ç®¡ä¸€ä¸ªæ“ä½œåºåˆ—ä¸­ï¼Œéƒ¨åˆ†æ“ä½œçš„ä»£ä»·å¯èƒ½æ¯”è¾ƒå¤§ï¼Œä½†æ˜¯å¯¹å®ƒçš„å¹³æ‘Šåˆ†æè¡¨ç¤ºè¿™ä¸ªæ“ä½œåºåˆ—ä¸­æ¯ä¸ªæ“ä½œçš„å¹³å‡ä»£ä»·å¾ˆå°ã€‚ è¿™æ˜¯æœ€å·®æƒ…å†µä¸‹çš„å¹³å‡è¡¨ç°ï¼Œä¸æ¶‰åŠæ¦‚ç‡ã€‚ æ„ä¹‰å¹³æ‘Šåˆ†æç»™å‡ºäº†æœ€åæƒ…å†µä¸‹çš„æ•´ä¸ªæ“ä½œåºåˆ—çš„ä»£ä»·ä¸Šç•Œã€‚ ä¸‰ç§æ–¹æ³• èšé›†åˆ†æ æ­£å¦‚ä¸Šé¢çš„ä¾‹å­å±•ç°çš„æ–¹æ³•ã€‚åŸºæœ¬ä¸Šæ˜¯åˆ†ææ•´ä¸ªæ“ä½œåºåˆ—çš„èŠ±è´¹æ—¶é—´ï¼Œå¹¶ä¸èƒ½è½»æ˜“é’¦å®šæŸä¸€ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ã€‚ï¼ˆä¾‹é¢˜æ˜¯ç‰¹æ®Šæƒ…å†µï¼‰ è®°è´¦æ–¹æ³• åŠ¿èƒ½åˆ†æ ä¸‹é¢ä¸¤è€…æ›´åŠ ç²¾ç¡®ï¼Œå®ƒä»¬ä¸ºæ¯ä¸€ä¸ªæ“ä½œåˆ†é…äº†ç‰¹å®šçš„å¹³æ‘Šä»£ä»·ã€‚ å›é¡¾ä¾‹é¢˜æˆ‘ä»¬ç°åœ¨é—²çš„è›‹ç–¼ç”¨åä¸¤ç§æ–¹æ³•æ¥åˆ†æåˆ†æã€‚ è®°è´¦æ–¹æ³•è¿˜æ²¡çœ‹å®Œå’•å’•å’•å’•å’•â€¦","link":"/2019/07/16/å¹³æ‘Šåˆ†æ-å­¦ä¹ æŠ¥å‘Š/"},{"title":"æ‰©å±•æ¬§å‡ é‡Œå¾— å­¦ä¹ æŠ¥å‘Š","text":"é¢„å¤‡çŸ¥è¯†å–æ¨¡è¿ç®—æ•°${a}$å¯¹æ•°${b}$å–æ¨¡ï¼Œç­‰ä»·äºæ•°${a}$å‡å»æ•°${a}$é™¤ä»¥æ•°${b}$å‘ä¸‹å–æ•´çš„å•†ä¹˜ä¸Šæ•°${b}$çš„å·®ï¼ˆå¥½ç»•å•Šï¼‰ã€‚ å…¶å®å°±æ˜¯ä¸‹é¢è¿™ä¸ªå¼å­ï¼š$${a(mod;b){\\Longleftrightarrow}a-{\\left\\lfloor\\dfrac{a}{b}\\right\\rfloor}\\times b}$$å¾ˆå¥½ç†è§£ã€‚ æœ€å¤§å…¬çº¦æ•°æ•°${a}$,${b}$çš„æœ€å¤§å…¬çº¦æ•°æŒ‡åŒæ—¶èƒ½å¤Ÿæ•´é™¤${a}$,${b}$çš„æœ€å¤§çš„æ­£æ•´æ•°ã€‚è®°ä¸º _gcd(a,b)_ã€‚ å¼•å­æ¬§å‡ é‡Œå¾—å®šç†åŸç†åˆç§°è¾—è½¬ç›¸é™¤æ³•ï¼ŒåŸç†æ˜¯è¿™ä¸ªå¼å­ï¼š$${gcd(a,b)=gcd(b,a(mod ; b))}$$å¯ä»¥çœ‹å‡ºè¿™ä¸ªå¼å­èƒ½å¤Ÿé€’å½’æ±‚è§£ï¼Œé€’å½’è¾¹ç•Œä¸ºï¼š$${b=0}$$ è¯æ˜${\\forall a,b ä¸”a&gt;b}$ è‹¥${b\\mid a}$ ï¼Œæ˜¾ç„¶æœ‰${gcd(a,b)=b}$. è€ƒè™‘${b\\nmid a}$ï¼š ä¸å¦¨è®¾${a=bk+c}$ï¼Œæ˜¾ç„¶æœ‰$a\\equiv c\\pmod{b}$. è®¾${d\\mid a}$ä¸”${d\\mid b}$ï¼Œåˆ™${c=a-bk\\frac{c}{d}=\\frac{a}{d}-\\frac{b}{d}k}$ æ•…${d\\mid c}$. æ•…${\\forall c\\mid a}$ä¸”${c\\mid b}$ï¼Œ${c\\mid a(mod; b)}$. åè¿‡æ¥ï¼Œè®¾${d\\mid b}$ ${d\\mid a(mod; b)}$ï¼ŒåŒæ ·æœ‰${\\frac{a;mod;b}{d}=\\frac{a}{d}-\\frac{b}{d}k\\frac{a;mod;b}{d}+\\frac{b}{d}k=\\frac{a}{d}}$. æ•…${d\\mid a}$. æ•…${gcd(a,b)=gcd(b,a(mod;b))}$. ä»£ç å®ç°1int gcd(int a,int b){return b?gcd(b,a%b):a;} å¾ˆç®€å•ï¼Œä¸€è¡Œå°±å¤Ÿäº†ã€‚ æ‰©å±•æ¬§å‡ é‡Œå¾—ç”¨é€”è§£æ–¹ç¨‹${ax+by=gcd(a,b)}$ æ¨å¯¼è®¾${ax_1+by_1=gcd(a,b)}$. Â·Â·Â·Â·Â·Â·â‘  ${bx_2+a(mod; b)y_2=gcd(b,a(mod; b))}$ Â·Â·Â·Â·Â·Â·â‘¡ ç”±æ¬§å‡ é‡Œå¾—å®šç†ï¼š${gcd(a,b)=gcd(b,a(mod; b))}$ Â·Â·Â·Â·Â·Â·â‘¢ ç”±â‘¡â‘¢ï¼š ${bx_2+a(mod; b)y_2=gcd(a,b)}$ Â·Â·Â·Â·Â·Â·â‘£ ç”±â‘ â‘£ï¼š ${ax_1+by_1=bx_2+a(mod;b)y_2}$ Â·Â·Â·Â·Â·Â·â‘¤ ç”±å–æ¨¡è¿ç®—ç­‰ä»·å½¢å¼å¾—ï¼š ${a(mod; b)=a-{\\left\\lfloor\\dfrac{a}{b}\\right\\rfloor}\\times b}$ Â·Â·Â·Â·Â·Â·â‘¥ ç”±â‘¤â‘¥ï¼š ${ax_1+by_1=bx_2+({a-{\\left\\lfloor\\dfrac{a}{b}\\right\\rfloor}\\times b})y_2}$ Â·Â·Â·Â·Â·Â·â‘¦ ç”±â‘¦ç§»é¡¹å¾—ï¼š ${ax_1+by_1=ay_2+b(x_2-{\\left\\lfloor\\dfrac{a}{b}\\right\\rfloor}y_2)}$ Â·Â·Â·Â·Â·Â·â‘§ å¯å¾—æ–¹ç¨‹çš„ä¸€ç»„å¯è¡Œè§£ä¸ºï¼š $\\begin{cases}{x_1=y_2}\\y_1=x_2-{\\left\\lfloor\\dfrac{a}{b}\\right\\rfloor}y_2\\end{cases}$ Â·Â·Â·Â·Â·Â·â‘¨ ç”±â‘¨å¾—ï¼š${\\forall x_n,y_n\\ne0}$ï¼Œ${\\begin{cases}x_n=y_{n+1}\\y_n=x_{n+1}-{\\left\\lfloor\\dfrac{a}{b}\\right\\rfloor}y_{n+1}\\end{cases}}$ Â·Â·Â·Â·Â·Â·â‘© å³æ¯ä¸€ä¸ª${x,y}$éƒ½å¯ç”±ä¸Šä¸€å±‚æ¨å‡º. é€’å½’è¾¹ç•Œä¸ºï¼š${b=0}$ï¼Œæ­¤æ—¶ï¼Œx=1ï¼Œy=0. ä»£ç å®ç°12345void exgcd(int a,int b,int&amp; x,int &amp;y){ if(!b){x=1,y=0;return;} int g=exgcd(b,a%b,y,x);y-=a/b*x; return;} å…¸ä¾‹é¢˜ç›®é“¾æ¥ï¼šNOIP2012 åŒä½™æ–¹ç¨‹æ¨å¯¼è¿‡ç¨‹ä¸å¦¨å°†é¢˜ç›®ä¸­çš„${ax\\equiv 1\\pmod{b}}$è½¬åŒ–ä¸º${ax+by=1}$. è‹¥è¦æ±‚${x}$çš„æœ€å°æ­£æ•´æ•°è§£ï¼Œå¾ˆæ˜¾ç„¶ï¼Œ${y}$ä¸ºè´Ÿæ•°. ç”±è£´èœ€å®šç†ï¼š${ax+by=1}$æœ‰è§£ï¼Œå½“ä¸”ä»…å½“${a,b}$äº’ç´ . é‚£ä¹ˆï¼Œ${gcd(a,b)=1}$. æ±‚å‡ºäº†${gcd(a,b)}$ï¼Œå°±å¯ä»¥è¿ç”¨exgcdæ¥æ±‚è§£. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ${exgcd}$æ±‚å‡ºçš„åªæ˜¯ä¸€ç»„å¯è¡Œè§£ï¼Œéœ€å¯¹è§£å‡ºçš„${x}$è¿›è¡Œè°ƒæ•´ä½¿å…¶æˆä¸ºæœ€å°æ­£æ•´æ•°è§£. å¦‚ä½•è°ƒæ•´ï¼Ÿ ä»…éœ€å¯¹xè¿›è¡Œå¢å‡bçš„å€æ•°çš„æ“ä½œï¼Œä½¿å…¶æ°å¤§äº0. è¯¥æ“ä½œå¯ä»¥ç®€åŒ–ä¸ºå–æ¨¡è¿ç®—ã€‚ æ­£ç¡®æ€§å¯ä»¥è¿™æ ·ç†è§£ï¼š å› ä¸º${a,b}$äº’ç´ ï¼Œæ‰€ä»¥å¯¹äº${x}$ï¼Œå¯¹å…¶å¢å‡ä»»æ„å€æ•°çš„${b}$ï¼Œéƒ½èƒ½ä¿è¯${b\\mid (1-ax)}$. ä»£ç å®ç°1234567891011121314#include&lt;cstdio&gt;long long a,b,x,y;void exgcd(long long a,long long b,long long&amp; x,long long &amp;y){ if(!b){x=1,y=0;return;} exgcd(b,a%b,y,x);y-=a/b*x; return;}int main(){ scanf(\"%lld %lld\",&amp;a,&amp;b); exgcd(a,b,x,y); printf(\"%d\",(x+b)%b); return 0;}","link":"/2019/02/10/æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•/"},{"title":"æ’åˆ—ä¸çŸ©é˜µ éƒ¨åˆ†çŸ¥è¯†ç‚¹","text":"å…¶å®æ²¡é‚£ä¹ˆéš¾qwq æ’åˆ— å®šä¹‰ 1ï¼ˆå¯¹æ¢ï¼‰ï¼šå°†äº¤æ¢ä¸€ä¸ªæ’åˆ—ä¸­çš„ä»»æ„ä¸¤é¡¹ç§°ä¸ºå¯¹æ¢ å®šä¹‰ 2ï¼ˆé€†åºå¯¹æ•°ï¼‰ï¼šè®°$\\tau(A)$ä¸ºæ’åˆ—$A$ä¸­çš„é€†åºå¯¹æ•° å®šä¹‰ 3ï¼ˆå¥‡å¶æ€§ï¼‰ï¼šæ’åˆ—å¥‡å¶æ€§ä¸ºä¸€ä¸ªæ’åˆ—ä¸­é€†åºå¯¹æ•°çš„å¥‡å¶æ€§ã€‚ å®šç† 1ï¼šå¯¹æ¢å¯¼è‡´æ’åˆ—å¥‡å¶æ€§æ”¹å˜ è¯æ˜ï¼š å¯¹äºç›¸é‚»ä¸¤é¡¹ï¼Œæ˜¾ç„¶æˆç«‹ã€‚ å¯¹äºä»»æ„$i, j$ä¸¤é¡¹$(i &lt; j)$ï¼Œå¯é€šè¿‡$2 \\times (i - j) - 1$æ¬¡å¯¹æ¢ä½¿å¾—åŸ$i, j$ä¸¤é¡¹ç›¸é‚»ï¼Œå…¶ä½™é¡¹ç›¸å¯¹ä½ç½®ä¸å˜ã€‚ å®šç† 2ï¼šåœ¨å…¨éƒ¨çš„$n$é˜¶æ’åˆ—ä¸­$(n \\ge 2)$ï¼Œå¥‡å¶æ’åˆ—æ•°é‡ç›¸åŒ è¯æ˜ï¼š æ³•ä¸€ï¼šæ•°å­¦å½’çº³æ³•ã€‚ æ³•äºŒï¼š ç”±å®šç† 1ï¼šå¥‡æ’åˆ—äº¤æ¢å‰ä¸¤é¡¹å¯å¾—å¶æ’åˆ—ã€‚ æ•…å¶æ’åˆ—æ•°é‡ $\\ge$ å¥‡æ’åˆ—æ•°é‡ åŒç†ï¼š å¥‡æ’åˆ—æ•°é‡$\\ge$å¶æ’åˆ—æ•°é‡ æ•…å¥‡æ’åˆ—æ•°é‡=å¶æ’åˆ—æ•°é‡ çŸ©é˜µ å®šä¹‰ 1ï¼ˆsgnï¼‰ï¼šå®šä¹‰$\\text{sgn}(j_1j_2â€¦j_n) = (-1) ^ {\\tau(j_1j_2â€¦j_n)}$ å®šä¹‰ 2ï¼ˆè¡Œåˆ—å¼ï¼‰ï¼š å¼•ç† 1ï¼šè¡Œåˆ—äº¤æ¢ï¼Œå€¼ä¸å˜ å¼•ç† 2ï¼šç”¨ä¸€ä¸ªæ•°ä¹˜è¡Œåˆ—å¼çš„æŸè¡Œç­‰äºç”¨è¿™ä¸ªæ•°ä¹˜æ­¤è¡Œåˆ—å¼ å¼•ç† 3ï¼šå¦‚æœè¡Œåˆ—å¼ä¸­æŸä¸€è¡Œæ˜¯ä¸¤ç»„æ•°ä¹‹å’Œï¼Œåˆ™è¿™ä¸ªè¡Œåˆ—å¼ç­‰äºä¸¤ä¸ªè¡Œåˆ—å¼ä¹‹å’Œï¼Œè¿™ä¸¤ä¸ªè¡Œåˆ—å¼åˆ†åˆ«ä»¥ä¸¤ç»„æ•°ä¸ºè¯¥è¡Œï¼Œè€Œå…¶ä½™å„è¡Œä¸åŸè¡Œåˆ—å¼å¯¹åº”å„è¡Œç›¸åŒ å¼•ç† 4ï¼šå¯¹æ¢è¡Œåˆ—å¼ä¸­ä¸¤è¡Œçš„ä½ç½®ï¼Œè¡Œåˆ—å¼åå· å¼•ç† 5ï¼šå¦‚æœè¡Œåˆ—å¼ä¸­æœ‰ä¸¤è¡Œæˆæ¯”ä¾‹ï¼Œåˆ™è¡Œåˆ—å¼ç­‰äº0 å¼•ç† 6ï¼šæŠŠä¸€è¡Œçš„æŸä¸ªå€æ•°åŠ åˆ°å¦ä¸€è¡Œï¼Œè¡Œåˆ—å¼çš„å€¼ä¸å˜ã€‚ å®šä¹‰ 3ï¼ˆé›¶çŸ©é˜µï¼‰ï¼š å®šä¹‰ 4ï¼ˆå¯¹è§’çŸ©é˜µï¼‰ï¼šä»…å¯¹è§’çº¿ä¸Šå…ƒç´ ä¸ä¸º0çš„æ–¹é˜µï¼Œè®°ä½œ$\\text{diag}(c_1,c_2,c_3,â€¦,c_n)$ã€‚ å®šä¹‰ 5ï¼ˆçº¯é‡çŸ©é˜µï¼‰ï¼š$\\text{diag}(c, c, c, â€¦ , c)$ å®šä¹‰ 6ï¼ˆå•ä½çŸ©é˜µï¼‰ï¼š$\\text{diag}(1, 1, 1, â€¦ , 1)$ å®šä¹‰ 7ï¼ˆä¸Šä¸‰è§’çŸ©é˜µï¼‰ï¼šå¯¹è§’çº¿ä¸‹å…ƒç´ éƒ½ä¸º0çš„æ–¹é˜µ å®šä¹‰ 8ï¼ˆä¸‹ä¸‰è§’çŸ©é˜µï¼‰ï¼šå¯¹è§’çº¿ä¸Šå…ƒç´ éƒ½ä¸º0çš„æ–¹é˜µ å®šä¹‰ 9ï¼ˆå¯¹ç§°çŸ©é˜µï¼‰ï¼šå¯¹è§’çº¿ä¸Šä¸‹å…ƒç´ å¯¹ç§°çš„æ–¹é˜µ å®šä¹‰ 10ï¼ˆåå¯¹ç§°çŸ©é˜µï¼‰ï¼šå¯¹è§’çº¿ä¸Šä¸‹å…ƒç´ äº’ä¸ºç›¸åæ•°çš„æ–¹é˜µï¼ˆç”±å®šä¹‰ï¼šå¯¹è§’çº¿ä¸Šå…ƒç´ éƒ½ä¸º0ï¼‰ å®šä¹‰ 11ï¼ˆé€†çŸ©é˜µï¼‰ï¼šè®¾$A$æ˜¯$n$é˜¶æ–¹é˜µï¼Œå¦‚æœå­˜åœ¨$n$é˜¶æ–¹é˜µ$B$ä½¿å¾—$AB = BA = I$ï¼Œåˆ™ç§°$A$æ˜¯å¯é€†çš„ï¼ˆæˆ–è€…éå¥‡å¼‚çš„ï¼‰ï¼Œ$B$æ˜¯$A$çš„ä¸€ä¸ªé€†çŸ©é˜µã€‚å¦åˆ™ç§°$A$æ˜¯ä¸å¯é€†çš„ï¼ˆæˆ–è€…éå¥‡å¼‚çš„ï¼‰ å®šä¹‰ 12ï¼ˆåˆç­‰è¡Œï¼ˆåˆ—ï¼‰å˜æ¢ï¼‰ï¼š ä»¥ä¸€ä¸ªé0çš„æ•°ä¹˜ä»¥æŸè¡Œ å°†æŸä¸€è¡Œçš„$ğ‘˜$å€åŠ åˆ°å¦ä¸€è¡Œ äº’æ¢ä¸¤è¡Œ å®šä¹‰ 13ï¼ˆåˆç­‰å˜æ¢çŸ©é˜µï¼‰ï¼šå•ä½çŸ©é˜µ$I$ç»è¿‡ä¸€æ¬¡åˆç­‰å˜æ¢å¾—åˆ°çš„çŸ©é˜µ å®šä¹‰ 14ï¼ˆçŸ©é˜µç›¸æŠµï¼‰ï¼šè‹¥çŸ©é˜µ$ğµ$å¯ä»¥ç”±çŸ©é˜µ$ğ´$ç»è¿‡ä¸€ç³»åˆ—åˆç­‰å˜æ¢å¾—åˆ°ï¼Œåˆ™ç§°$ğ´$ä¸$ğµ$ç›¸æŠµï¼ˆç­‰ä»·ï¼‰ï¼Œè®°åš$ğ´â‰…ğµ$ å®šä¹‰ 15ï¼ˆä½™å­å¼ï¼‰ï¼šçŸ©é˜µ$A$ä»»æ„åˆ å»ä¸€è¡ŒåŠä¸€åˆ—åå¾—åˆ°çš„çŸ©é˜µæˆä¸º$A$çš„ä¸€ä¸ªä½™å­å¼ï¼Œè‹¥åˆ å»$i$è¡Œ$i$åˆ—ï¼Œåˆ™å¾—åˆ°$A$çš„ä¸€ä¸ªä¸»ä½™å­å¼ã€‚ å®šä¹‰ 16ï¼ˆåŸºå°”éœå¤«çŸ©é˜µï¼‰ï¼šå®šä¹‰ï¼šå¦‚æœå›¾$G$æœ‰æ€»å…±$N$ä¸ªç‚¹ï¼Œé‚£ä¹ˆå›¾$G$çš„åŸºå°”éœå¤«çŸ©é˜µ$D$å¯ä»¥è¡¨ç¤ºä¸ºï¼š $D_{ii} = \\deg(i)$ $D_{ij} = -\\text{cnt}(i, j)$ï¼Œå…¶ä¸­$\\text{cnt}(i, j)$ä¸ºç‚¹$i$è‡³ç‚¹$j$çš„è·¯å¾„æ•°é‡ã€‚å³ä¸ºå›¾$G$çš„åº¦æ•°çŸ©é˜µå‡å»é‚»æ¥çŸ©é˜µã€‚ å¼•ç† 1ï¼š$\\det(D)= 0$ å®šç† 1 ï¼š$\\det(AB) = \\det(A)\\times \\det(B)$ è¯æ˜ï¼š æ„é€  å¼•ç† 1ï¼š$\\det(\\prod\\limits_{i = 1}^sA_i) = \\prod\\limits_{i = 1}^s\\det(A_i)$ å¼•ç† 2ï¼šè®¾$ğ´$ä¸º$ğ‘›$é˜¶æ–¹é˜µï¼Œ$ğ´ğ‘‹=0$æœ‰éé›¶è§£çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯$ğ´$å¥‡å¼‚ å¼•ç† 3ï¼šè®¾$ğ´$ä¸º$ğ‘›$é˜¶æ–¹é˜µï¼Œè‹¥$\\exists B$ä¸º$ğ‘›$é˜¶æ–¹é˜µï¼Œä½¿å¾—$ğ´ğµ=ğ¼$(æˆ–$ğµğ´=ğ¼$)ï¼Œåˆ™$ğ´$å¯é€†ä¸”$ğ´^{âˆ’1}=ğµ$ å¼•ç† 4ï¼šè‹¥$\\det(A) \\neq 0$ï¼Œåˆ™$\\det(A^{-1}) = (\\det(A))^{-1}$ å¼•ç† 5ï¼ˆä¸€äº›æ€§è´¨ï¼‰ï¼š $(A^{-1})^{-1} = A$ $(AB)^{-1} = B^{-1}\\times A^{-1}$ $(kA)^{-1} = k^{-1}A^{-1}$ å®šç† 2ï¼šè®¾$A$ä¸º$n$é˜¶æ–¹é˜µï¼Œè‹¥$A$å¯é€†ï¼Œåˆ™çº¿æ€§æ–¹ç¨‹ç»„$AX =B$æœ‰å”¯ä¸€è§£$X = A^{-1}B$ æŒºæ˜¾ç„¶çš„ï¼Œä¸è¯äº†ã€‚ å®šç† 3ï¼šç”¨åˆç­‰å˜æ¢çŸ©é˜µå·¦ï¼ˆå³ï¼‰ä¹˜çŸ©é˜µ$ğ´$ï¼Œç›¸å½“äºå¯¹çŸ©é˜µ$ğ´$å®è¡Œç›¸åº”çš„åˆç­‰è¡Œï¼ˆåˆ—ï¼‰å˜æ¢ è¯æ˜ï¼š ä¹˜ä¸Šå•ä½çŸ©é˜µ å®šç† 4ï¼šåˆç­‰å˜æ¢çŸ©é˜µéƒ½å¯é€† è¯æ˜ï¼š åˆç­‰å˜æ¢å­˜åœ¨é€†å˜æ¢ï¼Œæ•…åˆç­‰å˜æ¢çŸ©é˜µå¯é€† å®šç† 5ï¼šç›¸æŠµæ˜¯ä¸€ç§ç­‰ä»·å…³ç³» è¯æ˜ï¼šç•¥ å®šç† 6ï¼ˆåˆç­‰å˜æ¢æ±‚é€†ï¼‰ï¼šæ„é€ $n \\times 2n$çš„çŸ©é˜µ$(AI)$ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯¹$A$é«˜æ–¯æ¶ˆå…ƒï¼Œå¹¶å°†ä½¿ç”¨çš„åˆç­‰å˜æ¢çŸ©é˜µå·¦ä¹˜$(AI)$ï¼Œè¿™æ—¶å–å‡º$(AI)â€™$çš„å³è¾¹ï¼Œå³ä¸º$A^{-1}$ å®šç† 7ï¼ˆçŸ©é˜µæ ‘å®šç†ï¼‰ï¼šç»™å®šå›¾$ğº$ï¼Œåˆ™å›¾$ğº$çš„ç”Ÿæˆæ ‘çš„ä¸ªæ•°ç­‰äºå…¶å¯¹åº”çš„åŸºå°”éœå¤«çŸ©é˜µçš„ä¸»ä½™å­å¼çš„è¡Œåˆ—å¼ã€‚","link":"/2019/08/19/æ’åˆ—ä¸çŸ©é˜µ-éƒ¨åˆ†çŸ¥è¯†ç‚¹/"},{"title":"æœ€å°ç”Ÿæˆæ ‘ å­¦ä¹ æŠ¥å‘Š","text":"é¢„å¤‡çŸ¥è¯†ç”Ÿæˆæ ‘æ¦‚å¿µç»™å®šä¸€å¼ æ— å‘å›¾${G{(V,E)}}$ä¸­ï¼Œ${(u,v)}$ä»£è¡¨è¿æ¥é¡¶ç‚¹${u,v}$çš„è¾¹ï¼Œ${w(u,v)}$ä»£è¡¨æ­¤è¾¹çš„æƒé‡ï¼Œæˆ‘ä»¬ç§°å®ƒçš„ä¸€ä¸ªæ— ç¯å­é›†${Gâ€™(V,Eâ€™)}$ ï¼ˆæ³¨æ„è¿™é‡Œçš„${V}$ä¸æ¯é›†çš„${V}$ä¸€è‡´ï¼‰ ä¸ºå›¾${G}$çš„ä¸€ä¸ªç”Ÿæˆæ ‘ã€‚ æ±‚æ³•ä¸€å¼ å›¾çš„ç”Ÿæˆæ ‘å¯ä»¥é€šè¿‡ä»»æ„é¡¶ç‚¹dfså¯»å¾—ã€‚ è¿™é‡Œæ˜¯ä»£ç ï¼š 123456789101112131415161718192021222324252627#include&lt;cstdio&gt;#define maxn 10010int map[maxn][maxn];bool vis[maxn];int n,m,u,v,w;void dfs(int x){ vis[x]=1; for(register int i=1;i&lt;=n;i++){ if(x==i) continue; if(!vis[i]&amp;&amp;map[i][x]){ printf(\"%d -&gt; %d : %d\\n\",x,i,map[x][i]); dfs(i); } }}int main(){ scanf(\"%d%d\",&amp;n,&amp;m); for(register int i=1;i&lt;=m;i++){ scanf(\"%d%d%d\",&amp;u,&amp;v,&amp;w); map[u][v]=w; map[v][u]=w; } dfs(1); return 0;} æ³¨æ„ï¼šå¦‚æœç»™å®šçš„å›¾ä¸­å­˜åœ¨ä¸€ä¸ªç¯${C(V,Eâ€™)}$ï¼Œå³åŒ…å«æ‰€æœ‰çš„é¡¶ç‚¹ï¼Œé‚£ä¹ˆæ­¤å›¾çš„dfsç”Ÿæˆæ ‘å°†ä¼šé€€åŒ–ä¸ºé“¾ã€‚ å…¸ä¾‹ï¼šå¦‚æœæˆ‘ä»¬å¯¹æ­¤å›¾æ±‚dfsç”Ÿæˆæ ‘ å°†ä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š å¦:è‡ªå·±åœ¨è€ƒåœºä¸Šå‘ç°çš„ï¼ˆé™¤äº†æˆ‘éƒ½çŸ¥é“çš„ï¼‰çŸ¥è¯†ï¼šå¯¹äºæ ‘${T(V,E)},\\forall P \\in V$ä½œä¸ºå…¶æ ¹èŠ‚ç‚¹ï¼Œéƒ½å°†å¾—åˆ°ä¸€é¢—æ ‘${Tâ€™}$ã€‚ å¹¶æŸ¥é›†åˆç§°ç”¨äºå¤šç§ä¸ç›¸äº¤é›†åˆçš„æ•°æ®ç»“æ„ æ”¯æŒæ“ä½œèƒ½å¤Ÿæ”¯æŒå¯¹äºæ ‘çš„ä¸¤ç§æ“ä½œï¼š æŸ¥è¯¢ä¸€æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ï¼› åˆå¹¶ä¸¤æ£µæ ‘ï¼› æœ´ç´ ä»£ç 12345678#define maxn 10010int fa[maxn];//ç»´æŠ¤çˆ¶èŠ‚ç‚¹void init(int n){while(n--)fa[n]=n;}int find(int x){return fa[x]==x?x:find(fa[x]);}//é€’å½’å®ç°æŸ¥è¯¢void merge(int x,int y){ int xx=find(x);int yy=find(y); fa[xx]=yy;} ä¼˜åŒ–æœ‰è·¯å¾„å‹ç¼©ä¸æŒ‰ç§©åˆå¹¶ä¸¤ç§æ–¹æ³•ï¼Œè¿™($zu\\grave{o}$)é‡Œ($zh\\check{e}$)åª($zh\\check{i}$)è®²($hu\\grave{i}$)æŒ‰ç§©åˆå¹¶ï¼šæ€æƒ³ï¼šç”¨size[i]ç»´æŠ¤ä»¥${i}$ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘çš„å¤§å°ï¼Œåœ¨åˆå¹¶æ—¶å°†å°å­æ ‘åˆå¹¶åˆ°å¤§å­æ ‘ä¸Šã€‚ ä»£ç 123456789#define maxn 10010int fa[maxn],size[maxn];void init(int n){while(n--) fa[n]=n,size[n]=1;}int find(int x){return fa[x]==x?x:find(fa[x]);}void merge(int x,int y){ int xx=find(x);int yy=find(y); if(size[xx]&gt;size[yy]) std::swap(xx,yy); fa[xx]=yy;size[yy]+=size[xx];} æœ€å°ç”Ÿæˆæ ‘ç®€ä»‹MSTï¼ˆæœ€å°ç”Ÿæˆæ ‘ï¼‰ï¼Œå³ä¸ºç»™å®šå›¾çš„æ‰€æœ‰ç”Ÿæˆæ ‘ä¸­è·¯å¾„æƒå€¼å’Œæœ€å°çš„ä¸€ä¸ªç”Ÿæˆæ ‘ã€‚ æ±‚è§£æœ‰Primå’ŒKruskalä¸¤ç§ç®—æ³•ã€‚ ä¸‹é¢å°†è®²è§£Kruskalç®—æ³• å…‹é²æ–¯å¡å°”ç®—æ³•ä»‹ç»å…ˆå°†ç»™å®šå›¾çš„è¾¹æŒ‰æƒå€¼ä»å°åˆ°å¤§æ’åºï¼Œç„¶ååˆ©ç”¨å¹¶æŸ¥é›†çš„æ€æƒ³ï¼Œä¾æ¬¡å°†æƒå€¼æœ€å°çš„è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹åˆå¹¶ï¼Œä¿è¯äº†æœ€å°åŸåˆ™ã€‚åœ¨åˆå¹¶æ—¶ï¼Œæ³¨æ„æ£€æŸ¥ä¸¤é¢—å­æ ‘æ˜¯å¦éš¶å±åŒä¸€æ ¹èŠ‚ç‚¹ï¼Œå¦åˆ™è·³è¿‡ï¼Œä¿è¯äº†æ— ç¯åŸåˆ™ã€‚ ä»£ç å®ç°12345678910111213141516171819202122232425262728293031323334353637383940#include&lt;cstdio&gt;#include&lt;algorithm&gt;#define maxn 10010#define maxm 20010using std::sort;int fa[maxn];void init(int n){while(n--)fa[n]=n;}int find(int x){return fa[x]==x?x:find(fa[x]);}bool merge(int x,int y){ int xx=find(x);int yy=find(y); if(xx==yy) return 0; fa[xx]=yy; return 1;}struct node{ int x,y,w;}a[maxm];bool cmp(node a,node b){return a.w&lt;b.w;}int main(){ int n,m,ans=0,cnt=0; scanf(\"%d%d\",&amp;n,&amp;m); init(n); for(register int i=1;i&lt;=m;i++){ scanf(\"%d%d%d\",&amp;a[i].x,&amp;a[i].y,&amp;a[i].w); } sort(a,a+m,cmp); for(register int i=1;i&lt;=m;i++){ if(merge(a[i].x,a[i].y)){ ans+=a[i].w; cnt++; } if(cnt==n-1){ printf(\"%d\",ans); break; } } return 0;} æ³¨æ„åˆ°ä¸€ä¸ªæ€§è´¨è¾¹æŒ‰æƒå€¼ä»å°åˆ°å¤§æ’åºï¼Œæ¯æ¬¡ä»…å–å‡ºæœ€å°è¾¹ï¼Œå¯ä»¥è€ƒè™‘ç”¨å †æ¥ç»´æŠ¤ï¼ˆè™½ç„¶è¢«julaoç—›æ‰¹ä½†æˆ‘ä¸€å®šè¦å†™ä¸Šï¼‰ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include&lt;cstdio&gt;#include&lt;queue&gt;#define maxn 10010#define maxm 20010using namespace std;struct node{ int x,y,w; bool operator &lt; (const node a)const{ return a.w&lt;w; }};priority_queue&lt;node&gt; q;int fa[maxn];void init(int n){while(n--) fa[n]=n;}int find(int x){return fa[x]==x?x:find(fa[x]);}bool merge(int x,int y){ int xx=find(x);int yy=find(y); if(xx==yy) return 0; fa[xx]=yy; return 1;}int main(){ int n,m,ans=0,cnt=0; scanf(\"%d%d\",&amp;n,&amp;m); init(n); for(register int i=1;i&lt;=m;i++){ node tmp; scanf(\"%d%d%d\",&amp;tmp.x,&amp;tmp.y,&amp;tmp.w); q.push(tmp); } for(register int i=1;i&lt;=m;i++){ node tmp=q.top(); q.pop(); if(merge(tmp.x,tmp.y)){ ans+=tmp.w; cnt++; } if(cnt==n-1){ printf(\"%d\",ans); break; } } return 0;} ï¼ˆè¿™é‡Œçš„å †å¹¶æ²¡æœ‰èµ·åˆ°ä¼˜åŒ–çš„ä½œç”¨ï¼Œç›¸åå¸¸æ•°æ¯”sortå¤§ä¸€äº›ï¼Œä»…ä¾›å–œæ¬¢å †çš„é€‰æ‰‹ä½¿ç”¨ï¼‰","link":"/2019/02/11/æœ€å°ç”Ÿæˆæ ‘-å­¦ä¹ æŠ¥å‘Š/"},{"title":"æ ‘ä¸Šé—®é¢˜æ‚è°ˆ","text":"æœ¬æ–‡å°†æŒç»­æ›´æ–°ã€‚ åŸºç¯æ ‘æ‰¾ç¯çš„ä¼˜ç§€åšæ³•æ€æƒ³é‰´äºåŸºç¯æ ‘ä¸Šçš„è¿é€šå—èƒ½ä¸”ä»…èƒ½æ˜¯ç¯ï¼Œæˆ‘ä»¬å›ºç„¶å¯ä»¥ä½¿ç”¨Tarjanæ‰¾å‡ºæ ‘ä¸Šæ‰€æœ‰çš„å¼ºè¿é€šåˆ†é‡ï¼Œä½†æ˜¯Tarjanæ˜¯$O(N + M)$çš„ï¼Œè€ŒåŸºç¯æ ‘ä¸Šåªæœ‰ä¸€ä¸ªç¯ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å‘ç°ï¼ŒTarjanå¤æ‚åº¦åé«˜ã€‚ä¸‹é¢ä»‹ç»ä¸€ç§æ¯”è¾ƒä¼˜ç§€çš„åšæ³•ã€‚ ç±»ä¼¼äºåŒˆç‰™åˆ©ç®—æ³•ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªè¿”å›å€¼ä¸ºboolå€¼çš„dfså‡½æ•°ï¼Œåœ¨æ‰¾åˆ°ç¯çš„æ—¶å€™ç›´æ¥è¿”å›ï¼Œè¿™æ ·å¯ä»¥å‰ªå»å¤§é‡çš„éå†æ—¶é—´ã€‚ä½†ç”±äºåªæœ‰åŸºç¯æ ‘ç¬¦åˆè¿™ç§ä»…æœ‰ä¸€ä¸ªç¯çš„ç±»å‹ï¼Œè¿™ç§åšæ³•ä¹Ÿåªä»…é™äºåŸºç¯æ ‘ã€‚ å®ç°è¿‡ç¨‹ä¸­é€šè¿‡ç±»ä¼¼äºEK ç®—æ³•çš„åŒå‘å­˜è¾¹ç‰¹æ€§ï¼Œä½¿ç”¨pre[]æ•°ç»„ç»´æŠ¤äº†ç»è¿‡çš„è¾¹ã€‚ ä»£ç 12345678910111213141516171819bool dfs(int x) { v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if((i ^ 1) == pre[x]) continue; pre[y] = i; if(v[y]) { printf(\"Circle: %d \", y); int now = x; while(now != y) { printf(\"%d \", now); now = ver[pre[now] ^ 1]; } return 1; } if(dfs(y)) return 1; } return 0;} æ ‘çš„ç›´å¾„çš„å‡ ç§æ±‚æ³•æ–¹æ³•ä¸¤æ¬¡æœç´¢æ€æƒ³å¯ä»¥é€šè¿‡ä»»æ„èŠ‚ç‚¹æœç´¢ï¼Œæ‰¾å‡ºè·ç¦»å®ƒæœ€è¿œçš„ç‚¹ï¼Œå†ä»¥è¯¥èŠ‚ç‚¹ä¸ºæºç‚¹ï¼Œæ‰¾å‡ºä¸å®ƒè·ç¦»æœ€è¿œçš„ç‚¹ï¼Œä¸¤æ¬¡æœç´¢æ‰¾å‡ºçš„ç‚¹å³ä¸ºç›´å¾„çš„ä¸¤ç«¯ï¼Œå‰è€…åˆ°åè€…çš„è·ç¦»å³ä¸ºæ ‘çš„ç›´å¾„ã€‚ æ­£ç¡®æ€§å¯ä»¥é€šè¿‡å¾®æ‰°æ³•è¯æ˜ï¼Œæˆ‘ä»¬å°è¯•æ›´æ”¹ç¬¬ä¸€æ¬¡æœç´¢è·¯å¾„ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½¿å®ƒåˆ°å¦ä¸€ç«¯çš„è·ç¦»ä¸å†æ˜¯æœ€é•¿çš„ã€‚ æ ¹æ®æ ‘çš„ç‰¹æ€§ï¼Œä¸¤ç‚¹é—´æœ‰ä¸”ä»…æœ‰ä¸€æ¡ç®€å•è·¯å¾„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¢æˆå…¶å®ƒä»»ä½•ä¸€ä¸ªç‚¹æ—¶ï¼Œå®ƒåˆ°ç›´å¾„å¦ä¸€ä¸ªç«¯ç‚¹çš„è·ç¦»æ€»æ˜¯è¾ƒå°çš„ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡æ‰¾å‡ºçš„ç‚¹å°±ä¸€å®šæ˜¯ç›´å¾„çš„ä¸€ä¸ªç«¯ç‚¹ã€‚ ç¬¬äºŒæ¬¡æœç´¢çš„è¯æ˜ç›¸ä¼¼ã€‚ ä»£ç åªæä¾›bfsçš„ä»£ç  123456789101112131415161718192021inline int bfs(int s) { for(register int i = 1; i &lt;= n; i++) d[i] = 0xcfcfcfcf, pre[i] = v[i] = 0; int ans = 0; d[s] = 0; queue &lt;int&gt; q; q.push(s); while(!q.empty()) { int x = q.front(); q.pop(); v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(v[y]) continue; d[y] = d[x] + z; pre[y] = i; q.push(y); } } for(register int i = 1; i &lt;= n; i++) if(d[ans] &lt; d[i]) ans = i; return ans;} ä¸»å‡½æ•°ä¸­ï¼š 12int l = bfs(1);int r = bfs(l); æ ‘ä¸Šdpæ€æƒ³è®¾è®¡çŠ¶æ€ï¼šD[x]è¡¨ç¤ºä»¥xä¸ºæ ¹çš„å­æ ‘ä¸­çš„èŠ‚ç‚¹åˆ°xçš„æœ€è¿œè·ç¦» ä¸éš¾è®¾è®¡å‡ºè½¬ç§»æ–¹ç¨‹ï¼š $D[x] =\\max\\limits_{i\\in son_x}{D[i] + edge(i, x)}$ é€’å½’è½¬ç§»ï¼Œè¿‡ç¨‹ä¸­æ±‚è§£å°±å¥½äº†ã€‚ ä»£ç 12345678910void dp(int x) { v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i], z = edge[i]; if(v[y]) continue; dp(y); l2 = max(l2, d[y] + d[x] + z); d[x] = max(d[x], d[y] + z); }} ä¸»å‡½æ•°ä¸­ï¼š 1dp(1); ä¼˜ç¼ºç‚¹åˆ†æä¸¤æ¬¡æœç´¢ä¸é€‚ç”¨äºå¸¦è´Ÿæƒè¾¹çš„æ ‘ï¼Œä½†å¯ä»¥æ±‚å‡ºç›´å¾„ä¸Šå…·ä½“çš„ç‚¹ã€‚ è€Œæ ‘ä¸Šdpç›¸åã€‚ å¯ä»¥é€šè¿‡åšè¿™é“é¢˜P3629 [APIO2010]å·¡é€»æ¥è·å¾—æ›´æ·±åˆ»çš„ç†è§£ã€‚ è¿™æ˜¯é¢˜è§£ æ ‘å“ˆå¸Œæ€æƒ³é€’å½’è®¡ç®—ä¸€é¢—æ ‘çš„Hashå€¼ã€‚ éœ€è¦æ³¨æ„é¢˜ç›®ä¸­å®šä¹‰çš„åŒæ„çš„å…·ä½“è¦æ±‚ã€‚ åŒæ—¶æ³¨æ„ä¸€ä¸‹å“ˆå¸Œå†²çªã€‚ å¯¹å¤æ‚åº¦æ— ä¸¥æ ¼è¦æ±‚çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨map&lt;&gt;æœ‰æ•ˆé¿å…å“ˆå¸Œå†²çªã€‚ ä¾‹é¢˜åŠä»£ç P5043 ã€æ¨¡æ¿ã€‘æ ‘åŒæ„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;bits/stdc++.h&gt;#define ll unsigned long longusing namespace std;const int N = 100;const int M = N;const int base = 13331;int head[N], nxt[M], ver[M], cnt;int n, m;ll H[N][N];inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}ll Hash(int x, int fa) { vector &lt;ll&gt; h; ll res = N; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == fa) continue; h.push_back(Hash(y, x)); } sort(h.begin(), h.end()); for(register int i = 0; i &lt; h.size(); i++) { res *= base; res += h[i]; } return res * base + N + 1;}int main() { ios::sync_with_stdio(0); cin &gt;&gt; m; for(register int i = 1; i &lt;= m; i++) { cnt = 0; memset(head, 0, sizeof(head)); memset(nxt, 0, sizeof(nxt)); cin &gt;&gt; n; for(register int j = 1; j &lt;= n; j++) { int x; cin &gt;&gt; x; if(x != 0) add(j, x), add(x, j); } for(register int j = 1; j &lt;= n; j++) { H[i][j] = Hash(j, 0); } sort(H[i] + 1, H[i] + n + 1); for(register int j = 1, k = 0; j &lt;= i; j++) { while(k &lt;= n) if(H[i][++k] != H[j][k]) break; if(k &gt; n) {cout &lt;&lt; j &lt;&lt; endl; break;} } } return 0; æ ‘ä¸Šå€å¢æ±‚LCAæ€æƒ³å€å¢å‡º$2^n$è¾ˆèŠ‚ç‚¹è¾¹å·ï¼Œé€šè¿‡åŒèŠ‚ç‚¹å‘ä¸Šå€å¢æŸ¥è¯¢ã€‚ äºŒè¿›åˆ¶åˆ’åˆ†çš„æ€æƒ³ï¼šä»»ä½•æ­£æ•´æ•°éƒ½å¯ä»¥é€šè¿‡äºŒçš„å¹‚ç›¸åŠ å‡‘å‡ºã€‚ ä»£ç é¢„å¤„ç†lg[]ï¼š 12345inline void init() { for(register int i = 1; i &lt;= n; i++) { lg[i] = lg[i - 1] + (1 &lt;&lt; lg[i - 1] == i); }} é¢„å¤„ç†è·ç¦»ï¼š 123456789101112void dfs(int x, int fa) { d[x] = d[fa] + 1; f[x][0] = fa; for(register int i = 1; (1 &lt;&lt; i) &lt;= d[x]; i++) { f[x][i] = f[f[x][i - 1]][i - 1]; } for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == fa) continue; dfs(y, x); }} æŸ¥è¯¢LCA 12345678910111213inline int lca(int x, int y) { if(d[y] &gt; d[x]) swap(x, y); while(d[x] &gt; d[y]) { x = f[x][lg[d[x] - d[y]] - 1]; } if(x == y) return x; for(register int i = lg[d[x]]; i &gt;= 0; i--) { if(f[x][i] != f[y][i]) { x = f[x][i], y = f[y][i]; } } return f[x][0];} $To;Be;Continuedâ€¦$","link":"/2019/06/06/æ ‘ä¸Šé—®é¢˜æ‚è°ˆ/"},{"title":"Luogu P3406 æµ·åº•é«˜é“ è§£é¢˜æŠ¥å‘Š","text":"é¢˜ç›®é“¾æ¥:P3406 æµ·åº•é«˜é“é¢˜ç›®åˆ†æ:â€‹ ï¼ˆç¬¬ä¸€çœ¼ä»¥ä¸ºæ˜¯æœ€çŸ­è·¯ï¼‰ è¿™é“é¢˜ä½œä¸ºå‰ç¼€å’Œçš„ç»ƒä¹ æŒºä¸é”™çš„ï¼Œå› ä¸ºå®ƒå‡ ä¹ä¸æ¶‰åŠå…¶ä»–ç®—æ³•ã€‚ â€‹ é¦–å…ˆæ ¹æ®é¢˜ç›®ä¸­çš„ä¿¡æ¯è¿›è¡Œæ•°æ®è¯»å…¥ï¼šä¸å¼€long longè§ç¥–å®—ï¼ˆè¿™é¢˜è²Œä¼¼ä¸ä¼šï¼‰ 123456789ll n,m,ans=0;//å…±Nä¸ªåŸå¸‚,é€”ç»Mä¸ªåŸå¸‚scanf(\"%lld%lld\",&amp;n,&amp;m);ll p[m+1];//è®¿é—®é¡ºåºll t[n+1]={};//ç»è¿‡æ¬¡æ•°,ä¸€å®šè¦åˆå§‹åŒ–ï¼ll a[n+1],b[n+1],c[n+1],x,y;//a[i]çº¸è´¨å•ç¨‹ç¥¨,b[i]åŠå¡åçš„ä¼˜æƒ ä»·,c[i]åŠå¡å·¥æœ¬è´¹for(ll i=1;i&lt;=m;i++) scanf(\"%lld\",&amp;p[i]);for(ll i=1;i&lt;=n-1;i++) scanf(\"%lld%lld%lld\",&amp;a[i],&amp;b[i],&amp;c[i]); â€‹ ç”±äºç¬¬iæ®µé“è·¯è¿æ¥äº†åŸå¸‚iå’ŒåŸå¸‚i+1ï¼Œæ‰€ä»¥ä»»æ„ä¸¤ä¸ªç›¸é‚»çš„ç«™ç‚¹è´­ä¹°åŒç§è½¦ç¥¨æœ‰ä¸”ä»…æœ‰ä¸€ç§è´¹ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»·æ ¼ä»…ä¸åœ¨æŸç›¸é‚»ä¸¤ç«™ä¹‹é—´çš„é€šè¿‡æ¬¡æ•°æœ‰å…³ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±å°†é—®é¢˜è½¬åŒ–ä¸ºæ±‚åœ¨ç»™å®šè·¯çº¿ä¸‹ï¼Œæ¯ç›¸é‚»ä¸¤ä¸ªç«™ç‚¹è·¯æ®µçš„ç»è¿‡æ¬¡æ•°. â€‹ é‚£ä¹ˆï¼Œåœ¨å‡ºå‘ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸¤ç«™ä¹‹é—´è·¯æ®µçš„ç»è¿‡æ¬¡æ•°å…¨éƒ¨åˆå§‹åŒ–ä¸º0ï¼Œç„¶åï¼Œå¯¹æ¯æ¬¡ç»™å®šçš„å§‹å‘ç«™å’Œç»ˆåˆ°ç«™ï¼Œå°†å…¶è§†ä½œç»™å®šåŒºé—´çš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œå¯¹æ­¤åŒºé—´è¿›è¡ŒåŒºé—´å¢æ“ä½œã€‚ å¦‚ä½•è¿›è¡ŒåŒºé—´å¢å‘¢ï¼Ÿï¼Ÿï¼Ÿé¦–å…ˆè¿™æ˜¯ç»™å®šçš„å››ä¸ªç«™ç‚¹ â€‹ å¦‚æœæˆ‘ä»¬æŒ‰ç…§1-3,3-2,2-4,4-3çš„é¡ºåºè®¿é—®ï¼Œå¯ä»¥å‘ç°å››ä¸ªç«™ç‚¹é—´çš„è·¯å¾„ç»è¿‡æ¬¡æ•°æ˜¯è¿™æ ·çš„ï¼š è·¯å¾„ 1-2 2-3 3-4 æ¬¡æ•° 1 3 2 â€‹ ä¸€èˆ¬çš„æ€è·¯æ˜¯ï¼Œå¯¹äºæ¯ä¸ªåŒºé—´ï¼Œç”¨ä¸€ä¸ªforå¯¹å…¶æ‰€ç»æ¬¡æ•°++ï¼Œç„¶è€Œæˆ‘ä»¬å‘ç°ï¼Œå¤ªæ…¢äº†ã€‚ â€‹ äºæ˜¯æˆ‘ä»¬æƒ³åˆ°äº†å‰ç¼€å’Œï¼š å¯¹äºæ¯ä¸€ä¸ªåŒºé—´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶å·¦ç«¯ç‚¹åŠ ä¸ŠåŒºé—´å¢çš„æƒå€¼ï¼Œå†åœ¨å³ç«¯ç‚¹+1çš„ä½ç½®å‡å»åŒºé—´å¢çš„æƒå€¼ï¼Œæœ€åå¯¹è¯¥åŒºé—´è¿›è¡Œæ±‚å‰ç¼€å’Œæ“ä½œã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€æ ·çš„ç»“æœã€‚ å›åˆ°é¢˜ç›®ä¸­â€‹ æç„¶å¤§æ‚Ÿï¼Œå¯¹äºæ¯ç»„ç»™å®šçš„åŒºé—´ç«¯ç‚¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŒæ ·çš„æ–¹æ³•ã€‚æ›´æ–¹ä¾¿åœ°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¯¹æ‰€æœ‰åŒºé—´ç«¯ç‚¹å¤„ç†å®Œæ¯•åï¼Œåœ¨è¿›è¡Œæ±‚å‰ç¼€å’Œæ“ä½œï¼š 12345678910111213141516171819202122//ç”±äºç»™å®šçš„ä¿¡æ¯æ˜¯ç«¯ç‚¹ï¼ˆåŸå¸‚ï¼‰ï¼Œä½†æ˜¯è¦æ±‚çš„æ˜¯åŒºé—´ï¼ˆè·¯æ®µï¼‰ï¼Œæ‰€ä»¥å¾ªç¯æ¬¡æ•°åº”ä¸ºåŸå¸‚æ•°-1for(ll i=1;i&lt;=m-1;i++){ //å¯¹äºç«¯ç‚¹çš„å¤„ç†ï¼Œè¦ä¸¥æ ¼æ»¡è¶³æ•°å­¦ä¸Šçš„å®šä¹‰ï¼Œå°çš„åœ¨å·¦ç«¯ç‚¹ï¼Œå¤§çš„åœ¨å³ç«¯ç‚¹ //å¦åˆ™å¯¹äºé€†åºä¿¡æ¯ï¼Œå°±ç›¸å½“äºè¿›è¡Œäº†åŒºé—´å‡æ“ä½œ if(p[i]&gt;p[i+1]){ x=p[i+1]; y=p[i]; } else{ x=p[i]; y=p[i+1]; } //ä¸Šé¢çš„ä»£ç å¯ä»¥ç®€å†™ä¸º: //x=min(p[i],p[i+1]); //y=max(p[i],p[i+1]); t[x]++;//å·¦ç«¯ç‚¹å¢ t[y]--;//å³ç«¯ç‚¹å‡}//æ±‚å‰ç¼€å’Œfor(ll i=1;i&lt;=n;i++){ t[i]+=t[i-1];} â€‹ æœ€åï¼Œå¯¹äºæ¯ä¸€æ®µè·¯å¾„ï¼Œæ€»ä»·å€¼åŠ ä¸Šè¯¥æ®µè·¯å¾„è´¹ç”¨çš„è¾ƒå°å€¼ã€‚ 12for(ll i=1;i&lt;=n-1;i++) ans+=min(a[i]*t[i],(b[i]*t[i]+c[i])); â€‹ æœ¬é¢˜å°±è§£å†³å•¦ï¼ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637#include&lt;cstdio&gt;#include&lt;algorithm&gt;#include&lt;iostream&gt;#define ll long long#define max(a,b) a&gt;b?a:b#define min(a,b) a&lt;b?a:busing namespace std;int main(){ ll n,m,ans=0; scanf(\"%lld%lld\",&amp;n,&amp;m); ll p[m+1]; ll t[n+1]={}; ll a[n+1],b[n+1],c[n+1],x,y; for(ll i=1;i&lt;=m;i++) scanf(\"%lld\",&amp;p[i]); for(ll i=1;i&lt;=n-1;i++) scanf(\"%lld%lld%lld\",&amp;a[i],&amp;b[i],&amp;c[i]); for(ll i=1;i&lt;=m-1;i++){ if(p[i]&gt;p[i+1]){ x=p[i+1]; y=p[i]; } else{ x=p[i]; y=p[i+1]; } t[x]++; t[y]--; } for(ll i=1;i&lt;=n;i++){ t[i]+=t[i-1]; } for(ll i=1;i&lt;=n-1;i++) ans+=min(a[i]*t[i],(b[i]*t[i]+c[i])); printf(\"%lld\",ans); return 0;}","link":"/2019/01/24/æµ·åº•é«˜é“/"},{"title":"Luogu P1616 ç–¯ç‹‚çš„é‡‡è¯ è§£é¢˜æŠ¥å‘Š","text":"é¢˜ç›®é“¾æ¥:P1616 ç–¯ç‹‚çš„é‡‡è¯é¢˜ç›®åˆ†æï¼šå¾ˆæ˜æ˜¾çš„å®Œå…¨èƒŒåŒ…ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæŠŠè¿™é“é¢˜è½¬åŒ–ä¸ºæ ‡å‡†å®Œå…¨èƒŒåŒ…ï¼š å„ç§è‰è¯ ç‰©å“ è‰è¯çš„ä»·å€¼ ç‰©å“çš„ä»·å€¼ è‰è¯çš„é‡‡æ‘˜æ—¶é—´ ç‰©å“çš„è´¨é‡ æ€»é‡‡æ‘˜æ—¶é—´ èƒŒåŒ…å®¹é‡ ok,é‚£ä¹ˆè¿™é“é¢˜å°±å˜æˆäº†æ¿å­é¢˜ã€‚ æˆ‘ä»¬å…ˆæ¥è®¾è®¡çŠ¶æ€ï¼š è®¾$$\\text{dp[i]ä¸ºèƒŒåŒ…å®¹é‡ä¸ºiæ—¶ï¼Œèƒ½æ”¾ä¸‹çš„ç‰©å“çš„æœ€å¤§ä»·å€¼}$$ $$\\text{t[j]ä¸p[j]åˆ†åˆ«å­˜å‚¨ç¬¬jä¸ªç‰©å“çš„è´¨é‡å’Œä»·å€¼}$$ ç„¶åè¿›è¡ŒçŠ¶æ€è½¬ç§»ï¼š å¯¹äºå®¹é‡ä¸ºkçš„èƒŒåŒ…ï¼Œç¬¬mä¸ªç‰©å“ï¼Œæˆ‘ä»¬è€ƒè™‘ï¼š å¦‚æœæ”¾è¿™ä»¶ç‰©å“ï¼Œé‚£ä¹ˆkå®¹é‡èƒŒåŒ…çš„ä»·å€¼ä¸ºdp[k-t[m]]+p[m] å¦‚æœä¸æ”¾ï¼Œé‚£ä¹ˆkå®¹é‡èƒŒåŒ…çš„ä»·å€¼ä»ä¸ºåŸå§‹çš„dp[k] æ ¹æ®æ•°ç»„dpçš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹: $$\\text{dp[k]=max(dp[k-t[m]]+p[m],dp[k])}$$ åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘è¯¥ç‰©å“æ”¾å…¥èƒŒåŒ…çš„å…ˆå†³æ¡ä»¶ï¼š $$\\text{k-t[m]}\\ge\\text{0}$$ è€ƒè™‘æ¯ä¸€ä»¶ç‰©å“ï¼Œå¹¶ä¸”ç»¼åˆä¸Šé¢çš„æ¡ä»¶,æˆ‘ä»¬å¾—åˆ°äº†ä»£ç ï¼š 1234567for(int i=1;i&lt;=T;i++){ dp[i]=0; //åˆå§‹åŒ–ï¼Œå¯é€šè¿‡å°†æ•°ç»„å¼€åœ¨ä¸»å‡½æ•°å¤–é¢çœç•¥è¿™ä¸€æ­¥ for(int j=1;j&lt;=n;j++){ if(i-t[j]&gt;=0) dp[i]=max(dp[i],dp[i-t[j]]+p[j]) }} é—®é¢˜æ‰€æ±‚çš„ä¾¿æ˜¯dp[T]ã€‚ Source Code1234567891011121314151617181920#include&lt;cstdio&gt;#include&lt;algorithm&gt;using std::max;int main(){ int n,T; scanf(\"%d%d\",&amp;T,&amp;n); int t[n+1],p[n+1],dp[T+1]; for(int i=1;i&lt;=n;i++){ scanf(\"%d%d\",&amp;t[i],&amp;p[i]); } dp[0]=0; for(int i=1;i&lt;=T;i++){ dp[i]=0; for(int j=1;j&lt;=n;j++){ if(i-t[j]&gt;=0) dp[i]=max(dp[i],dp[i-t[j]]+p[j]) } } printf(\"%d\",dp[T]); return 0;}","link":"/2019/01/19/ç–¯ç‹‚çš„é‡‡è¯/"},{"title":"çŸ©é˜µå¿«é€Ÿå¹‚ å­¦ä¹ æŠ¥å‘Š","text":"çŸ©é˜µçš„å­˜å‚¨ä¸ºæ–¹ä¾¿ç¼–å†™å‡½æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç»“æ„ä½“Matæ¥å­˜å‚¨ä¸€ä¸ªçŸ©é˜µã€‚ åŒæ—¶å¯ä»¥æ„é€ å‡½æ•°ä½¿çŸ©é˜µå…ƒç´ çš„åˆå§‹å€¼ä¸º0ã€‚ 1234struct mat { int m[N][N];//Nè§†æƒ…å†µè€Œå®š mat(){memset(m,0,sizeof(m));}} çŸ©é˜µä¹˜æ³•å®šä¹‰å¯¹äºå¤§å°ä¸º$n\\times m$çš„çŸ©é˜µ$A$å’Œå¤§å°ä¸º$n\\times k$çš„çŸ©é˜µ$B$ï¼Œè§„å®š$C=A\\times B$ï¼Œå…¶ä¸­ï¼š$$C_{i,j}=\\sum\\limits_{k=1}^{n}A_{i,p}*B_{p,j}$$ ä»£ç å®ç°1234567891011mat mul(mat a, mat b) { mat ans; for(register int i = 1 ; i &lt;= n ; i++) { for(register int j = 1 ; j &lt;= n ; j++) { for(register int k = 1 ; k &lt;= n ; k++) { ans.m[i][j] += a.m[i][k] * b.m[k][j]; } } } return ans;} æ™®é€šå¿«é€Ÿå¹‚è¿™é‡Œåªç»™å‡ºå®ç°ã€‚ 123456789int power(int a, int b) { int ans = 1;//ä¸€å®šè¦è®°ä½åˆå§‹å€¼ä¸º1 while(b) { if(b&amp;1) ans = ans * a; a*=a; b&gt;&gt;=1; } return ans;} çŸ©é˜µå¿«é€Ÿå¹‚æ„ä¹‰å¸¸ç”¨äºåŠ é€Ÿé€’æ¨ã€‚ å®ç°æˆ‘ä»¬ç»“åˆæ™®é€šå¿«é€Ÿå¹‚çš„æ€æƒ³ï¼Œå°†å…ƒç´ æ¢ä¸ºçŸ©é˜µï¼Œä¸éš¾å¾—åˆ°ä¸‹é¢çš„ä»£ç ï¼š 123456789mat power(mat a, int b) { mat ans;//è¿™é‡Œçš„anså·²ç»åˆå§‹åŒ–ï¼Œå…·ä½“çœ‹ä¸‹æ–‡ while(b) { if(b&amp;1) ans = mul(ans, a); a = mul(a, a); b&gt;&gt;=1; } return ans;} çœ‹åˆ°ä»£ç é‡Œçš„æ³¨é‡Šäº†ğŸ?çŸ©é˜µ$ans$åŒæ ·æ˜¯è¦åˆå§‹åŒ–çš„ï¼Œä¸åŒäºæ™®é€šå¿«é€Ÿå¹‚ï¼Œè¿™é‡Œçš„$ans$åº”åˆå§‹åŒ–ä¸ºå•ä½çŸ©é˜µã€‚ï¼ˆä¸çŸ¥é“æ˜¯å•¥çš„ï¼Œç™¾åº¦å»å§ï¼‰(åº”è¯¥æ²¡äººä¸çŸ¥é“å§â€¦)~~ 123for(register int i = 1 ; i &lt;= n ; i++) { ans.m[i][i] = 1;} æˆ‘ä»¬å¾€å¾€æŠŠå®ƒå°è£…åœ¨init()é‡Œé¢ï¼Œå› ä¸ºåœ¨æ•°åˆ—é€’æ¨é—®é¢˜ä¸­ï¼Œè¦åˆå§‹åŒ–çš„è¿˜æœ‰$base$çŸ©é˜µã€‚ ä¸åŒçš„å†™æ³•ï¼ˆæ‰“mul()å¤ªç´¯äº†ï¼Ÿï¼‰ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨ç»“æ„ä½“å†…é‡è½½*å’Œ*=è¿ç®—ç¬¦ã€‚æ²¡ä»€ä¹ˆå¤§çš„åŒºåˆ«ã€‚ 123456789101112131415struct mat { int m[N][N]; mat(){memset(m,0,sizeof(m));} mat operator * (const mat &amp;a) const { mat ans; for(register int i = 1 ; i &lt;= n ; i++) { for(register int j = 1 ; j &lt;= n ; j++) { for(register int k = 1 ; k &lt;= n ; k++) { ans.m[i][j] += m[i][k] * a.m[k][j]; } } } return ans; }} é‚£ä¹ˆï¼Œå¿«é€Ÿå¹‚ä¸­çš„mul()å°±è¦æ¢æˆ*ã€‚ å…³äºæ•°åˆ—åŠ é€Ÿé€’æ¨æ„é€ çŸ©é˜µæˆ‘è®²ä¸æ¥æ€ä¹ˆæ„é€  ä¸ºäº†ä½¿ç”¨çŸ©é˜µå¿«é€Ÿå¹‚ï¼Œæˆ‘ä»¬éœ€è¦æ„é€ ä¸€ä¸ªçŸ©é˜µbaseï¼Œä½¿å¾—æ¯ä¹˜ä¸€æ¬¡baseï¼Œå°±å¯ä»¥å¾—åˆ°æ•°åˆ—çš„ä¸‹ä¸€é¡¹ã€‚ éœ€è¦æ³¨æ„æˆ‘ä»¬åœ¨çŸ©é˜µå¿«é€Ÿå¹‚çš„æ—¶å€™ï¼ŒæŒ‡æ•°çš„å€¼åº”å½“æ˜¯n-2è€Œä¸æ˜¯nã€‚ å¿«åœ¨å“ªï¼Ÿå¿«é€Ÿå¹‚O(logn)é€’æ¨O(n)ä½ è¯´å¿«åœ¨å“ªï¼Ÿ ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼ˆæ„Ÿè°¢xht37å¸®æˆ‘Debugâ€¦ï¼‰ åœ¨å¯ä»¥æ¨¡è†œçš„åœ°æ–¹éƒ½æ¨¡ä¸€ä¸‹ï¼Œå¯ä»¥é˜²æ­¢çˆ†ç²¾åº¦æ¶¨rpã€‚ æ¬§æ‹‰å®šç†ä¸èƒ½è¿ç”¨åœ¨çŸ©é˜µå¿«é€Ÿå¹‚ä¸­ï¼Œæ¨¡æ•°æ˜¯è´¨æ•°ä¹Ÿä¸è¡Œï¼ˆç”¨åœ¨æ™®é€šå¿«é€Ÿå¹‚ä¸­ä¹Ÿæ²¡è§‰å¾—å¿«å¤šå°‘ï¼Ÿ æ•°æ®ç±»å‹ä¸€å®šè¦ä¸€è‡´ä¸ç„¶ä¼šçˆ†é›¶ å·®ä¸å¤šå°±è¿™äº›äº†ã€‚","link":"/2019/03/05/çŸ©é˜µå¿«é€Ÿå¹‚-å­¦ä¹ æŠ¥å‘Š/"},{"title":"Luogu P4316 ç»¿è±†è›™çš„å½’å®¿ è§£é¢˜æŠ¥å‘Š","text":"æ‰‹æ„Ÿå¤ªå·®äº†æ‰‹å†™é˜Ÿåˆ—éƒ½èƒ½å‡ºé”… é¢˜ç›®é“¾æ¥é¢˜ç›®èƒŒæ™¯éšç€æ–°ç‰ˆç™¾åº¦ç©ºé—´çš„ä¸Šçº¿ï¼ŒBlogå® ç‰©ç»¿è±†è›™å®Œæˆäº†å®ƒçš„ä½¿å‘½ï¼Œå»å¯»æ‰¾å®ƒæ–°çš„å½’å®¿ã€‚ é¢˜ç›®æè¿°ç»™å‡ºä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼Œèµ·ç‚¹ä¸º$1$ç»ˆç‚¹ä¸º$N$ï¼Œæ¯æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªé•¿åº¦ï¼Œå¹¶ä¸”ä»èµ·ç‚¹å‡ºå‘èƒ½å¤Ÿåˆ°è¾¾æ‰€æœ‰çš„ç‚¹ï¼Œæ‰€æœ‰çš„ç‚¹ä¹Ÿéƒ½èƒ½å¤Ÿåˆ°è¾¾ç»ˆç‚¹ã€‚ç»¿è±†è›™ä»èµ·ç‚¹å‡ºå‘ï¼Œèµ°å‘ç»ˆç‚¹ã€‚ åˆ°è¾¾æ¯ä¸€ä¸ªé¡¶ç‚¹æ—¶ï¼Œå¦‚æœæœ‰$K$æ¡ç¦»å¼€è¯¥ç‚¹çš„é“è·¯ï¼Œç»¿è±†è›™å¯ä»¥é€‰æ‹©ä»»æ„ä¸€æ¡é“è·¯ç¦»å¼€è¯¥ç‚¹ï¼Œå¹¶ä¸”èµ°å‘æ¯æ¡è·¯çš„æ¦‚ç‡ä¸º $1/K$ ã€‚ ç°åœ¨ç»¿è±†è›™æƒ³çŸ¥é“ï¼Œä»èµ·ç‚¹èµ°åˆ°ç»ˆç‚¹çš„æ‰€ç»è¿‡çš„è·¯å¾„æ€»é•¿åº¦æœŸæœ›æ˜¯å¤šå°‘ï¼Ÿ è¾“å…¥è¾“å‡ºæ ¼å¼è¾“å…¥æ ¼å¼ï¼šç¬¬ä¸€è¡Œ: ä¸¤ä¸ªæ•´æ•° N Mï¼Œä»£è¡¨å›¾ä¸­æœ‰Nä¸ªç‚¹ã€Mæ¡è¾¹ç¬¬äºŒè¡Œåˆ°ç¬¬ 1+M è¡Œ: æ¯è¡Œ3ä¸ªæ•´æ•° a b cï¼Œä»£è¡¨ä»aåˆ°bæœ‰ä¸€æ¡é•¿åº¦ä¸ºcçš„æœ‰å‘è¾¹ è¾“å‡ºæ ¼å¼ï¼šä»èµ·ç‚¹åˆ°ç»ˆç‚¹è·¯å¾„æ€»é•¿åº¦çš„æœŸæœ›å€¼ï¼Œå››èˆäº”å…¥ä¿ç•™ä¸¤ä½å°æ•°ã€‚ è¾“å…¥è¾“å‡ºæ ·ä¾‹è¾“å…¥æ ·ä¾‹#1ï¼š 4 41 2 11 3 22 3 33 4 4 è¾“å‡ºæ ·ä¾‹#1ï¼š 7.00 è¯´æ˜å¯¹äº20%çš„æ•°æ® N&lt;=100 å¯¹äº40%çš„æ•°æ® N&lt;=1000 å¯¹äº60%çš„æ•°æ® N&lt;=10000 å¯¹äº100%çš„æ•°æ® N&lt;=100000ï¼ŒM&lt;=2*N åˆ†æç®—æ˜¯æ¦‚ç‡æœŸæœ›DPæ¯”è¾ƒç®€å•çš„ä¸€é“äº†ã€‚ è€ƒè™‘ç›®æ ‡çŠ¶æ€ï¼šä»èµ·ç‚¹èµ°åˆ°ç»ˆç‚¹çš„æ‰€ç»è¿‡çš„è·¯å¾„æ€»é•¿åº¦æœŸæœ›ã€‚ å¯ä»¥ä½¿ç”¨æ•°ç»„DP[i]æ¥è¡¨ç¤ºç‚¹$i$åˆ°ç»ˆç‚¹æ‰€ç»è·¯å¾„çš„æ€»é•¿åº¦æœŸæœ›ã€‚ ç›®æ ‡çŠ¶æ€å³ä¸ºDP[1]ã€‚ å®šä¹‰ç‚¹$i$å‡ºåº¦ä¸ºkï¼Œå¯¹äºæ¯ä¸€ä¸ªä¸ç‚¹$i$è”é€šçš„é¡¶ç‚¹$j$ï¼Œæ ¹æ®æœŸæœ›çš„å®šä¹‰ä¸éš¾å¾—å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š$$DP[i] = \\frac{1}{k}\\sum\\limits_{dist_{i,j}\\neq INF}(DP[j]+dist_{i,j})$$ å¯ä»¥åœ¨å¯¹DAGæ‹“æ‰‘æ’åºçš„åŒæ—¶å®ŒæˆçŠ¶æ€è½¬ç§»ã€‚ ä¸€äº›ç»†èŠ‚è¿™é“é¢˜æŒºå‘çš„æ˜æ˜æ˜¯è‡ªå·±å¤ªèœäº† è¯´ä¸€è¯´å†™çš„è¿‡ç¨‹ä¸­çŠ¯çš„ä¸€äº›é”™è¯¯ã€‚ å…³äºå­˜å›¾å› ä¸ºä»ç»ˆç‚¹çŠ¶æ€ç¡®å®šï¼Œæ‰€ä»¥éœ€è¦ä»ç»ˆç‚¹å¾€èµ·ç‚¹è½¬ç§»ã€‚å¯¹åº”åœ°ï¼Œå›¾ä¹Ÿåº”è¯¥å­˜åå›¾ã€‚ æˆ‘ä¸€ç›´ä»¥ä¸ºåå›¾åªèƒ½è·‘å¤šæºä¸€æ±‡Dijkstraæƒ³ä¸åˆ°è¿˜æœ‰è¿™ç”¨å¤„ å…³äºé‚»æ¥è¡¨è‡ªå·±å†™çš„æ—¶å€™åˆçŠ¯äº†åˆå­¦æ—¶çš„é”™è¯¯â€¦ å››ä¸ªæ•°ç»„å¤§å°éƒ½æ˜¯é†’ç›®çš„Nï¼ˆhead[]å¤§å°ç¡®å®æ˜¯$N$ ç„¶åå°±ä¸€ç›´70ptsâ€¦ è¯„æµ‹å±…ç„¶æŠ¥çš„ä¸æ˜¯RE å…³äºé˜Ÿåˆ—ç¬¬ä¸€æ¬¡äº¤é¢˜çš„æ—¶å€™çœ‹åˆ°æœ‰ä¸€ä¸ªç‚¹Täº†ï¼Œå°±æ¢äº†æ‰‹å†™é˜Ÿåˆ—ï¼ŒåŠ äº†å¿«è¯»ã€‚ ç„¶è€Œæˆ‘å·²ç»å‡ ç™¾å¹´æ²¡ç¢°æ‰‹å†™é˜Ÿåˆ—äº†â€¦ å…ˆæŠŠä»£ç æ”¾ç€ï¼š 123456789struct queue { int head, tail; int q[N]; inline void init() {head = tail = 0;} inline bool empty() {return head &gt; tail;} inline void push(int x) {q[++tail] = x;} inline void pop() {head++;} inline int front() {return q[head];}}; ç¬¬ä¸€éå†™çš„æ—¶å€™ï¼ŒæŠŠempty()é‡Œé¢çš„&gt;å†™æˆäº†- è¿™æ ·çš„è¯ï¼Œå½“head&lt;tailæ—¶ï¼Œè¿”å›å€¼åº”è¯¥æ˜¯falseï¼Œä½†åŸå†™æ³•å´è¿”å›äº†trueã€‚ å…³äºTop Sortéœ€è¦å¼€ä¸¤ä¸ªæ•°ç»„æ¥ä¿å­˜èŠ‚ç‚¹çš„åº¦ï¼Œç„¶åTop Sortçš„æ—¶å€™ä»…å¯¹ä¸€ä¸ªåšå‡ºæ›´æ”¹ã€‚ ä¸ç„¶è¦ä¹ˆä½ æ‹“æ‰‘æ’åºä¼šç‚¸ï¼Œè¦ä¹ˆä½ ç®—çš„æœŸæœ›ä¼šç‚¸ã€‚ å…³äºå‰å‘æ˜Ÿéå†æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæˆ‘å¤ªèœäº†æ‰èƒ½æŠŠi = next[i]æ‰“æˆi++ ç»†èŠ‚å·®ä¸å¤šå°±è¿™äº›ã€‚ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include&lt;cstdio&gt;#include&lt;cctype&gt;const int N = 1e5 + 6;const int M = N &lt;&lt; 1;namespace FastIO { inline int read() { int r = 0 , w = 1; char ch = getchar(); while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } inline void write(int x) { if(x &lt; 0) putchar('-'); if(x &gt; 9) write(x / 10); putchar(x % 10 + '0'); } #define read() FastIO::read() #define write(x) FastIO::write(x)}struct queue { int head, tail; int q[N]; inline void init() {head = tail = 0;} inline bool empty() {return head &gt; tail;} inline void push(int x) {q[++tail] = x;} inline void pop() {head++;} inline int front() {return q[head];}};int edge[M] , ver[M] , next[M] , head[N] , cnt = 0;int out[N] , deg[N];int n, m;double dp[N];void Add(int x, int y, int z) { edge[++cnt] = z, ver[cnt] = y, next[cnt] = head[x], head[x] = cnt;}int main() { n = read() , m = read(); for(register int i = 1 ; i &lt;= m ; i++) { int x = read(), y = read(), z = read(); Add(y, x, z); out[x]++; deg[x]++; } queue q; q.init(); q.push(n); while(!q.empty()) { int now = q.front(); q.pop(); for(register int i = head[now] ; i ; i = next[i]) { int to = ver[i]; dp[to] += (dp[now] + edge[i]) / out[to]; deg[to]--; if(deg[to] == 0) q.push(to); } } printf(\"%.2f\",dp[1]); return 0;} åæ§½ä¸€ä¸‹luoguçš„ç„å­¦è¯„æµ‹ï¼Œåº”è¯¥REçš„é—®é¢˜ï¼Œå¸æ°§TLEï¼Œä¸å¸æ°§WAã€‚å¤ªçœŸå®äº†ã€‚","link":"/2019/03/14/ç»¿è±†è›™çš„å½’å®¿/"},{"title":"è¡¨è¾¾å¼æ ‘åŠä¸‰åºè¡¨è¾¾ å­¦ä¹ æŠ¥å‘Š","text":"é¢„å¤‡çŸ¥è¯†éœ€è¦äº†è§£æ ‘çš„å…ˆåºã€ä¸­åºã€ååºéå† å…ˆæ¥çœ‹ä¸€é“é¢˜ç›® ï¼ˆæºè‡ªæ´›è°·æœ‰é¢˜ï¼‰ è¿™æ˜¯2017å¹´TGåˆèµ›è¯•é¢˜ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦è®²è¿°å¦‚ä½•å¿«é€Ÿæœ‰æ•ˆåœ°è§£è¿™ä¸€ç±»é¢˜ã€‚ å…³äºè¡¨è¾¾å¼çš„ä¸‰åºè¡¨è¾¾å®šä¹‰æˆ‘ä»¬ç”¨ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ï¼š åç§° è¡¨è¾¾å¼ ä¸­åºè¡¨è¾¾å¼ $2\\times 3/(2-1)+3\\times(4-1)$ å‰åºè¡¨è¾¾å¼ $+/\\times23-21*3-41$ ååºè¡¨è¾¾å¼ $23\\times21-/341-\\times+$ å¤§è‡´æ˜ç™½æ˜¯ä»€ä¹ˆäº†å­ï¼Ÿ æ„ä¹‰æœ‰äººé—®ï¼š ä¸­åºè¡¨è¾¾å¼è¿™ä¹ˆæ–¹ä¾¿ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å¼€å‘çœ‹ä¸æ‡‚çš„å‰åºå’Œååºè¡¨è¾¾å¼å‘¢ï¼Ÿ åŸå› å¾ˆç®€å•ï¼šä¸­åºè¡¨è¾¾å¼ä¼šä½¿ç”¨æ‹¬å· è¿™å°†æå¤§ç¨‹åº¦å½±å“ï¼ˆæœºå™¨ï¼‰è¿ç®—çš„æ•ˆç‡ã€‚ é‚£ä¹ˆï¼Œå¯¹äºå‰åºå’Œååºè¡¨è¾¾å¼ï¼Œå³ä½¿æ˜¯åŒæ ·çš„å¼å­ä¸æ“ä½œç¬¦ï¼Œä¸åŒçš„ä¼˜å…ˆçº§éƒ½å°†å¯¼è‡´å…¶è¡¨è¾¾å¼çš„ä¸åŒã€‚ä¹Ÿå°±ä¸å­˜åœ¨å¼•ç”¨æ‹¬å·çš„æƒ…å†µã€‚ å·²çŸ¥ä¸€ä¸ªå¼å­çš„ä¸­åºè¡¨è¾¾ï¼Œå¦‚ä½•æ±‚å®ƒçš„å‰åºå’Œååºè¡¨è¾¾å‘¢ï¼Ÿä¹Ÿå¾ˆç®€å•ã€‚ å¼•å…¥ä¸€ä¸ªæ¦‚å¿µï¼š è¡¨è¾¾å¼æ ‘æˆ‘ä»¬æ¥å®ƒé•¿ä»€ä¹ˆæ ·ï¼š è¿™æ˜¯è¡¨è¾¾å¼${(1+2)-(3\\times 4)}$çš„è¡¨è¾¾å¼æ ‘ã€‚ è§„å®š è¡¨è¾¾å¼æ ‘çš„å¶èŠ‚ç‚¹èƒ½ä¸”ä»…èƒ½ä¸ºè¿ç®—æ•° é™¤å¶èŠ‚ç‚¹å¤–çš„èŠ‚ç‚¹å…¨éƒ¨ä¸ºæ“ä½œç¬¦ èŠ‚ç‚¹çš„æ·±åº¦ä¸è¿ç®—çš„ä¼˜å…ˆçº§æ­£ç›¸å…³ æ ¹æ®ä»¥ä¸Šä¸‰ç‚¹ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªä¸­åºè¡¨è¾¾å¼çš„è¡¨è¾¾å¼æ ‘ã€‚ è½¬æ¢é€šè¿‡è¿™é¢—è¡¨è¾¾å¼æ ‘ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°†ä¸­åºè¡¨è¾¾å¼è½¬åŒ–ä¸ºç­‰ä»·çš„å‰åºï¼Œååºè¡¨è¾¾å¼ å¦‚ä½•è½¬æ¢ï¼Ÿ å¾—åˆ°ä¸€ä¸ªä¸­åºè¡¨è¾¾å¼åï¼Œæˆ‘ä»¬å…ˆå°†å®ƒè½¬åŒ–ä¸ºä¸€é¢—è¡¨è¾¾å¼æ ‘ã€‚ ä¾‹å¦‚ä¸Šé¢çš„$(1+2)-(3\\times 4)$ è½¬åŒ–åï¼Œå¯¹è¿™æ£µæ ‘å…ˆåºéå†ï¼Œå¯ä»¥å¾—åˆ°ç­‰ä»·çš„å‰åºè¡¨è¾¾å¼ã€‚ åŒæ ·ï¼Œå¯¹å…¶ååºéå†ï¼Œå¯ä»¥å¾—åˆ°ç­‰ä»·çš„ååºè¡¨è¾¾å¼ã€‚ è¿™æ£µæ ‘çš„ä¸­åºéå†ï¼Œåˆ™æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ä¸­åºè¡¨è¾¾å¼ã€‚","link":"/2019/02/13/è¡¨è¾¾å¼æ ‘åŠä¸‰åºè¡¨è¾¾/"},{"title":"è£´èœ€å®šç† å­¦ä¹ æŠ¥å‘Š","text":"ï¼ˆè¿™ç©æ„çœŸä¸éš¾ï¼‰ å‰ç½®çŸ¥è¯†ä¼š$gcd$å°±è¡Œäº†ã€‚ å®šç†$$\\forall a,b,x,y,d\\in Z,ax+by=då½“ä¸”ä»…å½“gcd(a,b)\\mid d$$ ç®€è¦è¯æ˜è®¾$s=gcd(a,b)$ï¼Œæ˜¾ç„¶æœ‰$s\\mid a$ä¸”${s\\mid b}$ åˆå› ä¸º${x,y\\in Z}$ï¼Œæ˜¾ç„¶æœ‰$s\\mid ax$ä¸”${s\\mid by}$ æ‰€ä»¥${s\\mid ax+by}$ åˆå› ä¸º${ax+by=d}$ æ‰€ä»¥$s\\mid d$ æ‰€ä»¥$gcd(a,b)\\mid d$ æ¨å¹¿ æ–¹ç¨‹$ax+by=1$æœ‰è§£å½“ä¸”ä»…å½“$x,y$äº’ç´  å¯¹äºç»™å®šæ•°åˆ—${a}$,è¡¨è¾¾å¼$\\sum\\limits_{i=1}^na_ix_i&gt;0 $æœ€å°æ­£æ•´æ•°å€¼ä¸º${\\gcd\\limits_{1\\le i\\le n}{|a_i|}}$ åº”ç”¨P4549 ã€æ¨¡æ¿ã€‘è£´èœ€å®šç† ç›´æ¥è¿ç”¨æ¨å¹¿2æ±‚è§£å°±å¥½ï¼Œè®°å¾—å–${|a_i|}$ (è¯´äº†å¾ˆç®€å•)","link":"/2019/02/13/è£´èœ€å®šç†-å­¦ä¹ æŠ¥å‘Š/"},{"title":"è´ªå¿ƒç­–ç•¥ å­¦ä¹ æŠ¥å‘Š","text":"å¤§èƒ†è´ªå¿ƒï¼Œï¼ˆä¸ç”¨ï¼‰å°å¿ƒè¯æ˜ã€‚â€”â€”é˜®è¡Œæ­¢ ç®€ä»‹å®šä¹‰è´ªå¿ƒç®—æ³•ï¼Œæœ¬è´¨ä¸Šæ¥è®²ä¸æ˜¯ä¸€ç§ç®—æ³•ï¼Œè€Œæ˜¯ä¸€ç§ç­–ç•¥ã€‚å…¶åŸºæœ¬æ€è·¯æ˜¯åœ¨é¢˜è§£æ»¡è¶³å±€éƒ¨æœ€ä¼˜è§£å°†å¯¼è‡´å…¨å±€æœ€ä¼˜è§£æ—¶ï¼Œæ¯ä¸€æ¬¡å†³ç­–è€ƒè™‘ä¸”ä»…è€ƒè™‘å½“å‰æœ€ä¼˜è§£ã€‚ ä¸¾ä¸ªä¾‹å­å°±æ‹¿å¤©æœRMBé¢é¢çš„è®¾è®¡æ¥è®²ï¼Œä»…ä¸¾å…ƒè¿™ä¸€å•ä½ï¼Œåˆ†åˆ«æœ‰1å…ƒï¼Œ5å…ƒï¼Œ10å…ƒï¼Œ50å…ƒï¼Œ100å…ƒäº”ç§é¢é¢ã€‚ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡å‘¢ï¼Ÿåœ¨æ—¥å¸¸çš„ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ä¹°ä¸œè¥¿æ—¶å°±ä¼šå‘ç°ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªä»·æ ¼çš„å•†å“ï¼Œæˆ‘ä»¬åœ¨è´­ä¹°æ—¶ï¼Œè¦æƒ³èŠ±è´¹æœ€å°‘å¼ æ•°çš„RMBï¼Œåªéœ€æ°¸è¿œèŠ±è´¹å½“å‰å°äºç­‰äºå•†å“é¢é¢çš„è´§å¸ã€‚è¿™å°±æ˜¯ä¸€ç§è´ªå¿ƒç­–ç•¥ã€‚ ä¾‹å­çš„è¯æ˜æˆ‘å¤ªèœäº†ä¸ä¼šè¯ã€‚ ä½¿ç”¨æ¡ä»¶é¢˜æ„æ–¹é¢åœ¨å®šä¹‰ä¸­å°±æåˆ°è¿‡ï¼Œè¦æƒ³ä½¿ç”¨è´ªå¿ƒç­–ç•¥ï¼Œä¸€å®šè¦åœ¨é¢˜è§£æ»¡è¶³å±€éƒ¨æœ€ä¼˜è§£å¯¼è‡´å…¨å±€æœ€ä¼˜è§£ã€‚å¯¹äºç®€å•çš„è´ªå¿ƒï¼Œä½ çœ‹é¢˜é¢å°±çŸ¥é“è¿™æ˜¯ä¸ªè´ªå¿ƒï¼Œè€Œæœ‰æŠ€å·§çš„è´ªå¿ƒåˆ™éœ€è¦è‡ªå·±çš„çŒœæµ‹ä¸è¯æ˜ã€‚ å…³äºå±€éƒ¨æœ€ä¼˜è§£å±€éƒ¨æœ€ä¼˜è§£ï¼Œå³åœ¨å½“å‰å±€é¢çœ‹æ¥ï¼Œä¸è€ƒè™‘åç»­çŠ¶æ€çš„æƒ…å†µä¸‹ï¼Œç»“æœæœ€ä¼˜çš„è§£ã€‚å³æ˜¯å½“å‰é—®é¢˜çš„ä¸€ä¸ªå­é—®é¢˜çš„æœ€ä¼˜è§£ã€‚ è´ªå¿ƒçš„è¯æ˜è´ªå¿ƒç­–ç•¥æ˜¯éœ€è¦è¯æ˜çš„ï¼Œè‡³äºä¸¥è°¨æ€§å°±çœ‹ä¸ªäººå¯¹äºç­”æ¡ˆçš„ç¡®ä¿¡ç¨‹åº¦å’Œrpã€‚ å¸¸ç”¨çš„æ–¹æ³•å¾®æ‰°æ³•ä¸ªäººè‡³ä»Šéƒ½ä¸æ˜¯å¾ˆä¼šçš„ä¸€ç§æ–¹æ³•ã€‚å°±æ˜¯å…ˆå‡è®¾ä¸€ç§è´ªå¿ƒç­–ç•¥ï¼Œå†å¯¹è¯¥ç­–ç•¥çš„å±€é¢åšå‡ºæ‰€æœ‰å¯èƒ½çš„æ‰°åŠ¨ï¼ˆå¦‚äº¤æ¢ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ï¼‰ï¼Œç„¶åè®¨è®ºæ‰°åŠ¨åçš„å±€é¢æ˜¯å¦ä¼šé€ æˆæ›´ä¼˜çš„å±€é¢ï¼Œè‹¥æ˜¯ï¼Œåˆ™åŸè´ªå¿ƒç­–ç•¥è¢«æ¨ç¿»ï¼›è‹¥å¯¹äºæ‰€æœ‰çš„æ‰°åŠ¨å±€é¢ï¼Œéƒ½æœ‰åŸè´ªå¿ƒç­–ç•¥ä¼˜äºå¾®æ‰°åçš„ç­–ç•¥ï¼Œé‚£ä¹ˆè´ªå¿ƒæˆç«‹ã€‚ è§£é›†åˆ†ææ³•å…ˆæšä¸¾å‡ºå°è§„æ¨¡å†…çš„å±€é¢ï¼Œè‹¥å¯¹äºè¯¥è§„æ¨¡é—®é¢˜ï¼Œæ‰€æœ‰çš„è§£å‡èƒ½ç”±åŒä¸€ç§è´ªå¿ƒç­–ç•¥å–å¾—ï¼Œé‚£ä¹ˆè€ƒè™‘è¯¥ç­–ç•¥ï¼Œæ‰©å¤§é—®é¢˜è§„æ¨¡ï¼ˆæœ‰ç‚¹åƒè¿­ä»£åŠ æ·±æœç´¢ï¼‰ï¼Œå°†è¯¥ç­–ç•¥å–å¾—çš„è§£ä¸æšä¸¾çš„è§£å¯¹æ¯”ï¼Œè‹¥æˆç«‹ï¼Œåˆ™ç­–ç•¥ææœ‰å¯èƒ½æˆç«‹ã€‚æ³¨æ„è¿™é‡Œçš„ææœ‰å¯èƒ½ï¼Œæœ‰äº›æ¯’ç˜¤æ•°æ®å¯èƒ½åˆšå¥½è¿èƒŒè¯¥ç­–ç•¥ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§ä¸ä¸¥è°¨çš„æ–¹æ³•ã€‚ æ•°å­¦æ–¹æ³•æˆ‘ä»¬å…ˆçœ‹ä¸ªå…¸ä¾‹ï¼š æ’é˜Ÿæ‰“æ°´é—®é¢˜æœ‰nä¸ªäººæ’é˜Ÿåˆ°rä¸ªæ°´é¾™å¤´å»æ‰“æ°´ï¼Œä»–ä»¬è£…æ»¡æ°´æ¡¶çš„æ—¶é—´t1ã€t2â€¦â€¦â€¦..tnä¸ºæ•´æ•°ä¸”å„ä¸ç›¸ç­‰ï¼Œåº”å¦‚ä½•å®‰æ’ä»–ä»¬çš„æ‰“æ°´é¡ºåºæ‰èƒ½ä½¿ä»–ä»¬æ€»å…±èŠ±è´¹çš„æ—¶é—´æœ€å°‘ï¼Ÿ å¥½åƒå‰é¢ä¸¤ç§æ–¹æ³•éƒ½è¡Œä¸é€šäº†ï¼Ÿå…¶å®æˆ‘æ²¡è¯•è¿‡æˆ‘æ²¡æ¥çœ‹ä¸€ä¸ªé»‘ç§‘æŠ€ï¼š æ’åºä¸ç­‰å¼ä¸ç­‰å¼çš„è¯æ˜ç™¾ç§‘ä¸Šè®²çš„å¾ˆæ¸…æ¥šäº†ï¼Œæˆ‘å°±æŠŠç»“è®ºæŒ‚åœ¨è¿™å§ï¼š$$\\text{å¯¹äºä¸¤ä¸ªæœ‰åºæ•°ç»„:$a_1\\le a_2\\le a_3\\le â€¦\\le a_n$åŠ$b_1\\le b_2\\le b_3\\le â€¦\\le b_n$:}$$ $$\\sum\\limits_{i=1}^na_ib_i\\ge \\sum\\limits_{i=1}^na_ib_{j_i}\\ge\\sum\\limits_{i=1}^na_ib_{n+1-i} $$ $${é€šä¿—æ¥è®²ï¼Œå°±æ˜¯é¡ºåºå’Œ\\ge ä¹±åºå’Œ\\ge é€†åºå’Œ}$$ é‚£ä¹ˆï¼Œä¸Šé¢çš„ä¾‹å­å°±å¾ˆå¥½è§£å†³äº†å§ï¼Ÿ æ€»æ˜¯è§„åˆ’æ‰“æ°´æ—¶é—´æœ€çŸ­è€…å…ˆæ‰“ï¼Œå†è®¡ç®—æ€»æ‰“æ°´æ—¶é—´ï¼Œå°±å¯ä»¥å¾—åˆ°æœ€ä¼˜çš„æ‰“æ°´æ—¶é—´ã€‚ æ€»ç»“æ­£å¦‚é˜®è¡Œæ­¢æ‰€è¯´,â€œå¤ªè´ªå¿ƒäº†æ˜¯è¦æ ½è·Ÿå¤´çš„ã€‚â€ï¼Œè´ªå¿ƒç­–ç•¥å›ºå¯è§£å†³ä¸€éƒ¨åˆ†é¢˜ï¼Œä½†æ˜¯ï¼Œå¦‚æœæ—¶æ—¶åˆ»åˆ»æƒ³ç€è´ªå¿ƒï¼ŒDPä¹Ÿå†™è´ªå¿ƒï¼Œç»ˆç©¶æ˜¯å¾—ä¸åˆ°é«˜åˆ†çš„ã€‚åšäººä¹Ÿæ­£æ˜¯å¦‚æ­¤å§ã€‚","link":"/2019/01/24/è´ªå¿ƒç­–ç•¥-å­¦ä¹ æŠ¥å‘Š/"},{"title":"Luogu P2822 ç»„åˆæ•°é—®é¢˜ è§£é¢˜æŠ¥å‘Š","text":"æš´åŠ›èƒ½æ‹¿90ï¼ˆé›¾ é¢˜ç›®é¢˜ç›®æè¿°ç»„åˆæ•° ${C_n^m}$è¡¨ç¤ºçš„æ˜¯ä»${n}$ ä¸ªç‰©å“ä¸­é€‰å‡º${m}$ä¸ªç‰©å“çš„æ–¹æ¡ˆæ•°ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä» ${(1,2,3)}$ä¸‰ä¸ªç‰©å“ä¸­é€‰æ‹©ä¸¤ä¸ªç‰©å“å¯ä»¥æœ‰ ${(1,2),(1,3),(2,3)}$è¿™ä¸‰ç§é€‰æ‹©æ–¹æ³•ã€‚æ ¹æ®ç»„åˆæ•°çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºè®¡ç®—ç»„åˆæ•°${C_n^m}$çš„ä¸€èˆ¬å…¬å¼ï¼š $${C_n^m=\\frac{n!}{m!(n-m)!}}$$ å…¶ä¸­${n!=\\prod\\limits_{i=1}^ni}$ï¼›ç‰¹åˆ«åœ°ï¼Œå®šä¹‰${0!=1}$ã€‚ å°è‘±æƒ³çŸ¥é“å¦‚æœç»™å®š${n,m}$å’Œ${k}$ï¼Œå¯¹äºæ‰€æœ‰çš„${0\\leq i\\leq n,0\\leq j\\leq \\min \\left ( i, m \\right )}$æœ‰å¤šå°‘å¯¹ (i,j)(i,j) æ»¡è¶³${C_i^j}$æ˜¯${k}$çš„å€æ•°ã€‚ è¾“å…¥è¾“å‡ºæ ¼å¼è¾“å…¥æ ¼å¼ï¼šç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•´æ•°${t,k}$ï¼Œå…¶ä¸­ä»£${t}$è¡¨è¯¥æµ‹è¯•ç‚¹æ€»å…±æœ‰å¤šå°‘ç»„æµ‹è¯•æ•°æ®ï¼Œ${k}$çš„æ„ä¹‰è§é—®é¢˜æè¿°ã€‚ æ¥ä¸‹æ¥${t}$è¡Œæ¯è¡Œä¸¤ä¸ªæ•´æ•°${n,m}$ï¼Œå…¶ä¸­${ n,m}$çš„æ„ä¹‰è§é—®é¢˜æè¿°ã€‚ è¾“å‡ºæ ¼å¼ï¼šå…±$t$è¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°ä»£è¡¨æ‰€æœ‰çš„$0\\leq i\\leq n,0\\leq j\\leq \\min \\left ( i, m \\right )$ä¸­æœ‰å¤šå°‘å¯¹$(i,j)$æ»¡è¶³$C_i^j$æ˜¯$k$çš„å€æ•°ã€‚ è¾“å…¥è¾“å‡ºæ ·ä¾‹è¾“å…¥æ ·ä¾‹#1ï¼š 121 23 3 è¾“å‡ºæ ·ä¾‹#1ï¼š 11 è¾“å…¥æ ·ä¾‹#2ï¼š 1232 54 56 7 è¾“å‡ºæ ·ä¾‹#2ï¼š 1207 17 è¯´æ˜ã€æ ·ä¾‹1è¯´æ˜ã€‘ åœ¨æ‰€æœ‰å¯èƒ½çš„æƒ…å†µä¸­ï¼Œåªæœ‰$C_2^1 = 2$æ˜¯2çš„å€æ•°ã€‚ ã€å­ä»»åŠ¡ã€‘ åˆ†æ30åˆ†åšæ³•ç…§ç€é¢˜ç›®æ‰“ç»„åˆæ•°å…¬å¼ã€‚ ä¼˜åŒ–çš„è¯ï¼Œå¯ä»¥å°†é˜¶ä¹˜æ‰“è¡¨ï¼Œæˆ–è€…å†™INT_128å°†$C_{0\\le i\\le 2000}^{0\\le j \\le i}$æ‰“è¡¨ å¾ˆæ— è„‘ï¼Œæ²¡å†™ä»£ç ã€‚ 50åˆ†åšæ³•æ‰“æ ‡ç®—ï¼Œå¤šç»„æ•°æ®è¾“å‡ºä¸æ¢è¡Œã€‚ å°±åƒè¿™æ · 70åˆ†åšæ³•å‘ç°éœ€æ±‚å‡º$C_{0\\le i\\le n}^{0\\le j\\le \\min(i,m)}$ è€ƒè™‘ç»„åˆæ•°é€’æ¨ï¼š$$ C^m_n=C^{m-1}_{n-1}+C^{m-1}_n$$ å¯${O(mn)}$é¢„å¤„ç†ã€‚ ä½†éœ€è¦æ³¨æ„åˆå§‹åŒ–ï¼Œå³é€’æ¨èµ·ç‚¹ï¼š$${C_0^0=C_1^0=C_1^1=1}$$ å®ç°ï¼š123456789void build(){ c[0][0]=c[1][0]=c[1][1]=1; for(register int i=2;i&lt;=2000;i++){ c[i][0]=1; for(register int j=1;j&lt;=i;j++){ c[i][j]=(c[i-1][j-1]+c[i-1][j]); } }} 90åˆ†åšæ³•è§‚å¯Ÿåˆ°å¤šç»„æ•°æ®æ¨¡æ•°ä¸€è‡´ï¼Œå¯ä»¥åœ¨é¢„å¤„ç†æ—¶å–æ¨¡ã€‚ å®ç°ï¼š123456789void build(){ c[0][0]=c[1][0]=c[1][1]=1; for(register int i=2;i&lt;=2000;i++){ c[i][0]=1; for(register int j=1;j&lt;=i;j++){ c[i][j]=(c[i-1][j-1]+c[i-1][j])%k; } }} 100åˆ†åšæ³•è§‚å¯Ÿåˆ°æ¨¡æ•°ä¸€è‡´ï¼Œè€ƒè™‘å®ç°${O(1)}$æŸ¥è¯¢ï¼šç”¨å‰ç¼€å’Œç»´æŠ¤ä¸€ä¸ªç­”æ¡ˆæ•°ç»„ans[n][m]ï¼Œåœ¨é¢„å¤„ç†ç»„åˆæ•°æ—¶è¿›è¡Œç»´æŠ¤ã€‚ æ³¨æ„å®¹æ–¥ï¼š 1ans[i][j]=ans[i-1][j]+ans[i][j-1]-ans[i-1][j-1]; æ³¨æ„å¯¹äºå½“å‰æ•°æ®çš„æ›´æ–°ï¼š 1if(!c[i][j]) ans[i][j]++; æ³¨æ„ç­”æ¡ˆä¼ é€’ï¼šï¼ˆæƒ³ä¸æ˜ç™½å¯ä»¥ç”»ä¸€ä¸ªæ¨è¾‰ä¸‰è§’æ‰‹ç©ï¼‰ 1ans[i][i+1]=ans[i][i]; å¯¹äº100åˆ†çš„åšæ³•ï¼Œéœ€è¦æ³¨æ„åˆ°$Sample;2$ï¼šåœ¨$Sample; Input; 2$ä¸­ï¼Œå‡ºç°äº†$m&gt;n$çš„è¿æ³•æƒ…å†µï¼Œå¯¹äºè¿™ç±»æ•°æ®ï¼Œåœ¨ç­”æ¡ˆè¾“å‡ºæ—¶ç‰¹åˆ¤ï¼Œè¾“å‡ºans[n][n] ä»£ç 1234567891011121314151617181920212223242526272829#include&lt;cstdio&gt;#define ll long longinline ll min(ll a,ll b){return a&lt;b?a:b;}const int maxn = 2010;ll t,n,m,k,c[maxn][maxn],ans[maxn][maxn];inline void build(){ c[0][0]=c[1][0]=c[1][1]=1; for(register int i=2;i&lt;=2000;i++){ c[i][0]=1; for(register int j=1;j&lt;=i;j++){ c[i][j]=(c[i-1][j-1]+c[i-1][j])%k; ans[i][j]=ans[i-1][j]+ans[i][j-1]-ans[i-1][j-1]; if(!c[i][j]) ans[i][j]++; } ans[i][i+1]=ans[i][i]; }}int main(){ scanf(\"%lld%lld\",&amp;t,&amp;k); build(); while(t--){ scanf(\"%lld%lld\",&amp;n,&amp;m); printf(\"%lld\\n\",m&gt;n?ans[n][n]:ans[n][m]); } return 0;} æ³¨æ„äº‹é¡¹è¿™é¢˜å‘ä¸å°‘ï¼Œè°ˆä¸€è°ˆä½œè€…å®ç°æ—¶çš„é—®é¢˜ï¼š å¯¹äº$m=0$çš„æ•°æ®ï¼Œå¿«è¯»æœ‰é”…ï¼Œåº”æ¢ç”¨æ ‡å‡†è¾“å…¥è¾“å‡ºï¼› å¤šç»„æ•°æ®é¢˜ï¼Œè¾“å‡ºæ—¶ä¸€å®šè¦æ¢è¡Œï¼puts(&quot;&quot;);ï¼› å®¹æ–¥å’Œç­”æ¡ˆç»§æ‰¿éƒ½æ˜¯å‘ï¼› è‹¥éæ ‡ç®—ï¼Œåœ¨å¤šç»„æ•°æ®å¤„ç†å‰åº”åˆå§‹åŒ–ansï¼› ç›®å‰æ²¡æƒ³åˆ°ç¦»çº¿åšæ³•ã€‚","link":"/2019/02/13/ç»„åˆæ•°é—®é¢˜/"},{"title":"LCT å­¦ä¹ æŠ¥å‘Š","text":"LCTæ˜¯å¸¸æ•°å·¨å¤§çš„æ ‘å‰– é—®é¢˜å¼•å…¥P4383 [å…«çœè”è€ƒ2018]æ—å…‹å¡ç‰¹æ ‘lct emmmï¼Œä¸æ˜¯è¿™ä¸ªã€‚ ç»™ä½ ä¸€æ£µæ ‘ï¼Œæœ‰ç‚¹æƒã€‚ Subtask 1 è¯¢é—®xåˆ°yæœ€çŸ­è·¯å¾„ä¸Šçš„ç‚¹æƒå’Œã€‚ è¿™ä¸ªç®€å•ï¼Œå‰ç¼€å’Œå°±å¥½äº†ã€‚ Subtask 2 xåˆ°yæœ€çŸ­è·¯å¾„ä¸Šæ¯ä¸ªç‚¹ç‚¹æƒåŠ k æ ‘ä¸Šå·®åˆ†ï¼ æˆ‘è¿˜ä¼šæ ‘å‰–ï¼ Subtask 3 æ”¹å˜æ ‘çš„ç»“æ„ emmmmâ€¦ ç”±è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†$LCT$ã€‚ å®šä¹‰ã€åŸºæœ¬æ“ä½œåŠåŸç†æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹æ ‘å‰–ã€‚ åœ¨æ ‘å‰–ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤é“¾ä¸Šçš„ä¿¡æ¯ï¼Œå…¶å®ä¹Ÿå¯ä»¥ä½¿ç”¨$Splay$çš„ï¼Œä½†æ˜¯å®ƒå¸¸æ•°å¤ªå¤§äº†ï¼Œè€Œä¸”éš¾å†™ï¼Œæ²¡æœ‰å¿…è¦ã€‚ è€ƒè™‘ä¸€ä¸‹æ ‘å‰–çš„å¼Šç—…ï¼šä¸€æ—¦ä¸€æ£µæ ‘ç¡®å®šäº†ï¼Œå®ƒçš„é‡é“¾ä¹Ÿå°±ç¡®å®šäº†ã€‚ æ‰€ä»¥å¯¹äºåŠ¨æ€é—®é¢˜ï¼Œæ ‘å‰–å°±æ²¡ä»€ä¹ˆåŠæ³•äº†ã€‚ è¿™æ—¶éœ€è¦ç”¨åˆ°$LCT$ ä¸€äº›å®šä¹‰è¾…åŠ©æ ‘ï¼šä»¥$Splay$ä½œä¸ºè¾…åŠ©æ ‘ï¼ŒåŸæ ‘è¢«åˆ’åˆ†æˆè‹¥å¹²ä¸ª$Splay$ã€‚ é‡å„¿å­ï¼šé‡å„¿å­ä¸çˆ¶äº²èŠ‚ç‚¹åŒåœ¨ä¸€æ£µ$Splay$ä¸­ï¼Œä¸€ä¸ªèŠ‚ç‚¹æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªé‡å„¿å­ã€‚ æ³¨æ„è¿™é‡Œçš„é‡å„¿å­çš„å®šä¹‰ä¸æ ‘å‰–ä¸åŒã€‚ è½»å„¿å­ï¼šå…¶ä»–å„¿å­ã€‚ é‡è¾¹ï¼šæŒ‡å‘é‡å„¿å­çš„è¾¹ã€‚ è½»è¾¹ï¼šå…¶ä»–è¾¹ã€‚ é‡é“¾ï¼šç”±é‡å„¿å­è¿æ¥æ„æˆçš„é“¾ã€‚ è½»é“¾ï¼šå…¶ä»–é“¾ã€‚ æ¯”å¦‚è¿™æ˜¯ä¸€æ£µæ ‘ï¼š æˆ‘ä»¬è§„å®šå…¶ä¸­çš„ä¸€äº›èŠ‚ç‚¹ä¸ºé‡å„¿å­ï¼š çº¢è‰²çš„æ˜¯é‡å„¿å­ï¼Œè“è‰²çš„æ˜¯è½»å„¿å­ã€‚ åŠ ç²—çš„è¾¹ä¸ºé‡è¾¹ã€‚ ç„¶åæŠŠå®ƒæ‰­ä¸€æ‰­ï¼ˆï¼Ÿï¼‰ï¼ŒæŠŠ$Splay$åˆ’åˆ†å‡ºæ¥ï¼š è¿™æ£µ$LCT$ä¸­çš„$Splay$è¢«çº¢ç¬”åœˆäº†å‡ºæ¥ï¼Œä¸ºäº†æ»¡è¶³$Splay$çš„æ€§è´¨ï¼Œæ¯æ£µ$Splay$éƒ½åœ¨æ—‹è½¬åç”±è½»è¾¹é‡æ–°è¿æ¥ã€‚ å¯ä»¥å‘ç°ï¼Œå¯¹ä¸€æ£µ$Splay$ä¸­åºéå†ï¼Œå¯ä»¥å¾—åˆ°è¯¥$Splay$ç»´æŠ¤çš„é‡é“¾è‡ªé“¾é¡¶å‘ä¸‹è®¿é—®çš„é¡ºåºã€‚ åœ¨æ¯æ¡é‡é“¾åœ¨ä¸€æ£µ$Splay$ä¸Šçš„åŒæ—¶ï¼Œæ¯ä¸ªè½»å„¿å­å•ç‹¬æ„æˆä¸€æ£µ$Splay$ã€‚ åŒæ—¶ï¼Œä¸ºäº†æ–¹ä¾¿ç»´æŠ¤æ ‘çš„ç»“æ„ï¼Œæˆ‘ä»¬å°†æ¯æ£µ$Splay$æ ¹çš„çˆ¶äº²èŠ‚ç‚¹è®¾ä¸ºè¯¥é“¾é“¾é¡¶çš„çˆ¶äº²èŠ‚ç‚¹ã€‚ å¯¹æ¯”åŸæ ‘ï¼Œæˆ‘ä»¬å‘ç°ï¼Œåœ¨æ­¤æ“ä½œçš„è¿‡ç¨‹ä¸­ï¼Œä¸€äº›è¾¹è¢«æ–­å¼€ï¼Œä¸€äº›è¾¹è¢«è¿ä¸Šã€‚ åŸºæœ¬æ“ä½œè®¿é—®ï¼ˆAccessï¼‰ç®€ä»‹åŠåŸç†LCTçš„æ ¸å¿ƒæ“ä½œã€‚ é¡¾åæ€ä¹‰ï¼Œè®¿é—®å°±æ˜¯ä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œè®¿é—®åˆ°æŸä¸ªèŠ‚ç‚¹ã€‚åœ¨è®¿é—®çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªè·¯å¾„ä¸Šçš„ç‚¹éƒ½è¢«è®¾ç½®ä¸ºé‡å„¿å­ï¼Œå³è®¿é—®è·¯å¾„è¢«è®¾ç½®ä¸ºé‡é“¾ã€‚ ç”±äºæ¯ä¸ªèŠ‚ç‚¹ä»…èƒ½æœ‰ä¸€ä¸ªé‡å„¿å­ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¿é—®è·¯ä¸Šçš„èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦æ–­æ‰å®ƒä¸ä¹‹å‰çš„é‡å„¿å­çš„è¿è¾¹ï¼Œå¹¶åŠ å…¥åˆ°$Splay$ä¸­ã€‚ æˆ‘ä»¬è€ƒè™‘è‡ªè®¿é—®èŠ‚ç‚¹å‘æ ¹å¤„ç†ï¼Œå¯¹äºè®¿é—®åˆ°çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬è¿›è¡Œ$Splay$æ“ä½œï¼Œæ­¤æ—¶ï¼Œå…¶å³å­æ ‘å³ä¸ºåŸé‡é“¾ä¸Šéœ€è¦æ–­æ‰çš„ä¸€æ®µã€‚åˆ‡æ–­åï¼Œå°†èŠ‚ç‚¹å³å„¿å­è®¾ç½®ä¸ºå½“å‰é‡å„¿å­å³å¯ã€‚ åœ¨LCTä¸­ï¼Œfa[x]è®°å½•å…¨å±€çˆ¶èŠ‚ç‚¹ä¿¡æ¯ï¼Œä¸æ‰€åœ¨$Splay$æ— å…³ï¼Œä½†æ˜¯ch[x][i]è®°å½•çš„åˆ™æ˜¯å½“å‰$Splay$çš„ä¿¡æ¯ï¼Œå› æ­¤ï¼Œè½»å„¿å­ä¸ä¼šè¢«è®°å½•ï¼Œæˆ‘ä»¬åªéœ€è¦æ›´æ”¹æ¯ä¸ªèŠ‚ç‚¹çš„å³å„¿å­ä¿¡æ¯ï¼Œä¸éœ€è¦æ›´æ–°å³å„¿å­çš„çˆ¶èŠ‚ç‚¹ä¿¡æ¯ã€‚ ä»£ç å®ç°1234567inline void access(int p) { for(register int q = 0; p; p = tr[p].fa) { splay(p); tr[p].ch[1] = q; upd(p); }} æ¢æ ¹ï¼ˆMakeRootï¼‰ç®€ä»‹åŠåŸç†å¯ä»¥å°†æŸä¸ªèŠ‚ç‚¹è®¾ç½®ä¸ºåŸæ ‘çš„æ ¹ã€‚ è€ƒè™‘å¦‚ä¸‹æ€§è´¨ï¼š å¯¹ä¸€æ£µ$Splay$ä¸­åºéå†ï¼Œå¯ä»¥å¾—åˆ°è¯¥$Splay$ç»´æŠ¤çš„é‡é“¾è‡ªé“¾é¡¶å‘ä¸‹è®¿é—®çš„é¡ºåºã€‚ åœ¨è®¿é—®æ“ä½œåï¼Œè¯¥èŠ‚ç‚¹è‡³æ ¹çš„è·¯å¾„å½¢æˆä¸€æ¡é‡é“¾ï¼Œæˆ‘ä»¬å°†è¯¥èŠ‚ç‚¹$Splay$è‡³æ ¹ï¼Œæ­¤æ—¶ï¼Œé“¾é¡¶èŠ‚ç‚¹å³ä¸ºåŸæ ‘çš„æ ¹ï¼Œä¸”è¯¥èŠ‚ç‚¹å­˜åœ¨äºé“¾åº•ï¼Œè€ƒè™‘$Splay$åè½¬æ“ä½œï¼Œå³å¯å°†å…¶è½¬è‡³é“¾é¡¶ï¼Œå³ä¸ºåŸæ ‘æ ¹ã€‚ ä»£ç å®ç°12345inline void makert(int p) { access(p); splay(p); reverse(p);} æ‰¾æ ¹ï¼ˆFindRootï¼‰ç®€ä»‹åŠåŸç†æ‰¾åˆ°åŸæ ‘çš„æ ‘æ ¹ã€‚ ç”±äº$LCT$å¯èƒ½ç»´æŠ¤äº†ä¸€ä¸ªæ£®æ—ï¼Œæ‰€ä»¥æœ‰æ—¶å€™éœ€è¦æ‰¾åˆ°æŸä¸ªèŠ‚ç‚¹å±äºåŸæ£®æ—ä¸­å“ªæ£µæ ‘ã€‚ è€ƒè™‘è®¿é—®ï¼Œæ­¤æ—¶è‡ªåŸæ ‘æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„æ„æˆäº†ä¸€æ¡é‡é“¾ï¼Œå°†è¯¥ç‚¹ä¼¸å±•è‡³æ ¹ï¼Œæ­¤æ—¶é“¾åº•å³ä¸ºåŸæ ‘æ ¹ã€‚ ç”±äºä¼¸å±•æ“ä½œï¼Œæ­¤æ—¶çš„$Splay$ä»¥æ·±åº¦ä¸ºç§©æœ‰åºï¼Œæ‰€ä»¥æœ€å·¦çš„å·¦å„¿å­å³ä¸ºé“¾åº•ã€‚ ä»£ç å®ç°123456inline int findrt(int p) { access(p); splay(p); while(tr[p].ch[0]) p = tr[p].ch[0]; return p;} åˆ†ç¦»æ ‘é“¾ï¼ˆSplitï¼‰ç®€ä»‹åŠåŸç†æ ‘é“¾å‰–åˆ† å°†åŸæ ‘ä¸­ä¸¤èŠ‚ç‚¹é—´çš„ç®€å•è·¯å¾„åˆ†ç¦»å‡ºæ¥ã€‚ è€ƒè™‘å°†ä¸¤ä¸ªèŠ‚ç‚¹é—´çš„ç®€å•è·¯å¾„æ„é€ ä¸ºä¸€æ¡é‡é“¾ã€‚ ä¸å¦¨å…ˆå°†æ ‘æ ¹è®¾ç½®ä¸ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶è®¿é—®å¦ä¸€ä¸ªï¼Œè¿™æ ·ä¸¤ä¸ªèŠ‚ç‚¹å°±åœ¨åŒä¸€æ¡é‡é“¾ä¸Šäº†ã€‚ æ­¤æ—¶å†å¯¹è®¿é—®çš„èŠ‚ç‚¹è¿›è¡Œä¼¸å±•æ“ä½œï¼Œæ“ä½œåçš„é“¾è¡¨ç°ä¸º$Splay$çš„æ ¹åŠå…¶å·¦å­æ ‘ã€‚ ä»£ç å®ç°12345inline void split(int u, int v) { makert(u); access(v); splay(v);} æ—å…‹ï¼ˆLinkï¼‰ç®€ä»‹åŠåŸç†è¿æ¥ä¸¤æ£µåŸæ ‘ã€‚ è€ƒè™‘åœ¨æ ¹ä¸é“¾åº•ä¹‹é—´è¿è½»è¾¹ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªèŠ‚ç‚¹è®¾ä¸ºæ ¹ï¼Œç„¶åè¿åœ¨å¦ä¸€ä¸ªèŠ‚ç‚¹ä¸Šå°±è¡Œäº†ã€‚ ä»£ç å®ç°1234inline void link(int u, int v) { makert(u); tr[u].fa = v;} å¡ç‰¹ï¼ˆCutï¼‰ç®€ä»‹åŠåŸç†åˆ‡æ–­åŸæ ‘ã€‚ è€ƒè™‘æ–­é™¤ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„é‡è¾¹ã€‚ å…ˆå°†è¾¹åˆ†ç¦»å‡ºæ¥ï¼Œç„¶ååˆ‡æ–­çˆ¶å­å…³ç³»å³å¯ã€‚ å¦‚æœå·¦å„¿å­ä¸æ˜¯$u$æˆ–è€…å·¦å„¿å­æœ‰å³å„¿å­ï¼Œé‚£ä¹ˆè¡¨ç¤ºä¸å­˜åœ¨$(u, v)$è¿™æ¡è¾¹ã€‚ ä»£ç å®ç°12345inline void cut(int u, int v) { split(u, v); if(tr[v].ch[0] != u || tr[tr[v].ch[0]].ch[1]) return; tr[u].fa = tr[v].ch[0] = 0;} æ ‘ï¼ˆTreeï¼‰æ²¡æœ‰è¿™ä¸ªä¸œè¥¿ å•ç‚¹ä¿®æ”¹ï¼ˆModifyï¼‰ç®€ä»‹åŠåŸç†æ”¹å˜å•ç‚¹æƒå€¼ã€‚ ä¸ºé¿å…æ›´æ–°æ“ä½œå¸¦æ¥çš„å¤§å¸¸æ•°ï¼ˆè™½ç„¶æœ¬æ¥å¸¸æ•°å°±å¤Ÿå¤§äº†ï¼‰ï¼Œæˆ‘ä»¬å…ˆå°†å¾…ä¿®èŠ‚ç‚¹ä¼¸å±•è‡³æ ¹ï¼Œå†è¿›è¡Œä¿®æ”¹ã€‚ ä»£ç å®ç°123456inline void modify(int u, int w) { access(u); splay(u); tr[u].val = w; upd(u);} åˆ¤æ ¹ï¼ˆIsrootï¼‰ç®€ä»‹åŠåŸç†åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦ä¸ºä¸€æ£µ$Splay$çš„æ ¹ã€‚ ä¸Šæ–‡ä¸­æåˆ°äº†ch[x][i]ä¸fa[x]çš„å·®å¼‚æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªå·®å¼‚æ¥æ£€æŸ¥æŸä¸ªèŠ‚ç‚¹ä¸çˆ¶äº²çš„è¿è¾¹æ˜¯å¦ä¸ºé‡è¾¹ã€‚ è‹¥ä¸æ˜¯é‡è¾¹ï¼Œåˆ™ch[fa[x]][0] != x &amp;&amp; ch[fa[x]][1] != x ä»£ç å¾ˆè‡ªç„¶ã€‚ ä»£ç å®ç°123inline bool isroot(int x) { return tr[fa[x]].ch[0] != x &amp;&amp; tr[fa[x]].ch[1] != x;} æ—‹è½¬ï¼ˆRotateï¼‰ç®€ä»‹åŠåŸç†å¹³è¡¡æ ‘åŸºæ“ã€‚ ä¸è¿‡åˆ¤æ–­$Splay$æ ¹çš„æ–¹å¼æœ‰æ‰€æ”¹å˜ï¼Œæ—‹è½¬çš„æ–¹å¼ä¹Ÿæœ‰æ‰€æ”¹å˜ã€‚ ä¸»è¦æ˜¯å°†åˆ¤æ–­çˆ·çˆ·èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨æ”¹ä¸ºåˆ¤æ–­çˆ¶èŠ‚ç‚¹æ˜¯å¦ä¸ºæ ¹ã€‚ åŒºåˆ«ä¸å¤§ã€‚ ä»£ç å®ç°1234567891011inline void rotate(int p) { bool t = !isleft(p); int fa = tr[p].fa, ffa = tr[fa].fa; if(!isroot(fa)) tr[ffa].ch[!isleft(fa)] = p; // è¿™å¥ä¸€å®šè¦å†™åœ¨æœ€å‰é¢ tr[fa].ch[t] = tr[p].ch[!t]; tr[p].ch[!t] = fa; tr[tr[fa].ch[t]].fa = fa; tr[p].fa = ffa; tr[fa].fa = p; upd(p), upd(fa); // è¿™é‡Œçš„upd(p)å¯ä»¥çœç•¥ï¼Œä½†æ˜¯upd(fa)ç»å¯¹ä¸èƒ½çœï¼Œä¸æ”¾å¿ƒå¯ä»¥éƒ½å†™ä¸Š} ä¼¸å±•ï¼ˆSplayï¼‰ç®€ä»‹åŠåŸç†$Splay$åŸºæ“ åè½¬æ ‡è®°çš„å­˜åœ¨ä¼šä½¿LCTå‡ºé”…ï¼Œæ‰€ä»¥Splayå‰è¦å°†æ ‡è®°ä¸‹æ”¾è‡³å¾…ä¼¸å±•èŠ‚ç‚¹ã€‚ ä»£ç å®ç°123456789101112131415161718192021222324252627282930313233343536373839//åè½¬inline void reverse(int p) { swap(tr[p].ch[0], tr[p].ch[1]); tr[p].rev ^= 1;}//ä¸‹æ”¾inline void pushdown(int p) { if(tr[p].rev) { if(tr[p].ch[0]) reverse(tr[p].ch[0]); if(tr[p].ch[1]) reverse(tr[p].ch[1]); tr[p].rev ^= 1; }}//æ‰‹å†™æ ˆå¯æ¢ä¸ºSTLï¼Œä¹Ÿå¯é€’å½’è°ƒç”¨å‡½æ•°int sta[MAXN], stop;//ä»æ ¹ä¸‹æ”¾åˆ°pèŠ‚ç‚¹inline void pushto(int p) { stop = 0; while(!isroot(p)) { sta[stop++] = p; p = tr[p].fa; } sta[stop++] = p; while(stop) { pushdown(sta[--stop]); }}//ä¼¸å±•inline void splay(int p) { pushto(p); for(int fa = tr[p].fa; !isroot(p); rotate(p), fa = tr[p].fa) { if(!isroot(fa)) rotate(isleft(fa) == isleft(p) ? fa : p); } upd(p);} åº”ç”¨ç›´æ¥è¿ç”¨æ“ä½œåŠåŸç†å•ç‚¹ä¿®æ”¹ï¼ŒåŠ¨æ€åŠ è¾¹ã€æ–­è¾¹ï¼Œä¿è¯ç»“æ„æ˜¯ä¸€æ£µæ ‘ï¼ŒæŸ¥è¯¢ä¸¤ç‚¹é—´ç®€å•è·¯å¾„çš„ä¿¡æ¯ã€‚ ç”¨LCTç›´æ¥ç»´æŠ¤å³å¯ã€‚ ä¾‹é¢˜1P3690 ã€æ¨¡æ¿ã€‘Link Cut Tree ï¼ˆåŠ¨æ€æ ‘ï¼‰ ç»´æŠ¤ä¸¤ç‚¹é—´æœ€çŸ­è·¯å¾„çš„å¼‚æˆ–å’Œå³å¯ã€‚ æ¯”æ ‘å‰–æ¿å­é¢˜å’Œè”¼å¤šäº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160#include &lt;cstdio&gt;#include &lt;cctype&gt;#define LL long longnamespace FastIO { inline LL read() { char ch = getchar(); LL r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(LL x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(LL x) { _write(x); puts(\"\"); }}using namespace FastIO;template &lt;typename T&gt; inline void swap(T &amp;x, T &amp;y) {T tmp = x; x = y, y = tmp;}const int N = 300005;struct Node { int ch[2], fa, val, xsum; bool rev;} tr[N];inline bool isleft(int p) { return tr[tr[p].fa].ch[0] == p;}inline bool isroot(int p) { return tr[tr[p].fa].ch[0] != p &amp;&amp; tr[tr[p].fa].ch[1] != p;}inline void upd(int p) { tr[p].xsum = tr[p].val ^ tr[tr[p].ch[0]].xsum ^ tr[tr[p].ch[1]].xsum;}inline void reverse(int p) { swap(tr[p].ch[0], tr[p].ch[1]); tr[p].rev ^= 1;}inline void pushdown(int p) { if(tr[p].rev) { if(tr[p].ch[0]) reverse(tr[p].ch[0]); if(tr[p].ch[1]) reverse(tr[p].ch[1]); tr[p].rev ^= 1; }}int sta[N], stop;inline void pushto(int p) { stop = 0; while(!isroot(p)) { sta[stop++] = p; p = tr[p].fa; } sta[stop++] = p; while(stop) { pushdown(sta[--stop]); }}inline void rotate(int p) { bool t = !isleft(p); int fa = tr[p].fa, ffa = tr[fa].fa; tr[p].fa = ffa; if(!isroot(fa)) tr[ffa].ch[!isleft(fa)] = p; tr[fa].ch[t] = tr[p].ch[!t]; tr[tr[fa].ch[t]].fa = fa; tr[p].ch[!t] = fa; tr[fa].fa = p; upd(fa);}inline void splay(int p) { pushto(p); for(int fa = tr[p].fa; !isroot(p); rotate(p), fa = tr[p].fa) { if(!isroot(fa)) rotate(isleft(fa) == isleft(p) ? fa : p); } upd(p);}inline void access(int p) { for(int q = 0; p; q = p, p = tr[p].fa) { splay(p); tr[p].ch[1] = q; upd(p); }}inline void makert(int p) { access(p); splay(p); reverse(p);}inline int findrt(int p) { access(p); splay(p); while(tr[p].ch[0]) p = tr[p].ch[0]; return p;}inline void split(int u, int v) { makert(u); access(v); splay(v);}inline void link(int u, int v) { makert(u); tr[u].fa = v;}inline void cut(int u, int v) { split(u, v); if(tr[v].ch[0] != u || tr[u].ch[1]) return; tr[u].fa = tr[v].ch[0] = 0;}inline void modify(int u, int w) { access(u); splay(u); tr[u].val = w; upd(u);}int n, m, op, x, y;int main() { n = read(); m = read(); for(int i = 1; i &lt;= n; i++) { tr[i].val = tr[i].xsum = read(); } while(m--) { op = read(); x = read(); y = read(); switch(op) { case 0: split(x, y); write(tr[y].xsum); break; case 1: link(x, y); break; case 2: cut(x, y); break; case 3: modify(x, y); } } return 0;} ä¾‹é¢˜2P3203 [HNOI2010]å¼¹é£ç»µç¾Š é¢˜ç›®æ²¡æœ‰é‚£ä¹ˆç›´ç™½äº†ï¼Œæˆ‘ä»¬è€ƒè™‘å»ºå›¾ã€‚ è§‚å¯Ÿåˆ°$k$ä»…èƒ½ä¸ºæ­£ï¼Œè€ƒè™‘æŠŠæ¯ä¸ªç‚¹ä¸å®ƒèƒ½æŠµè¾¾çš„æ‰€æœ‰ç‚¹è¿è¾¹ï¼Œè¿™æ ·å°±å»ºæˆäº†ä¸€é¢—æ ‘ã€‚ å¯¹äºå¯èƒ½è·³è¿‡çš„æƒ…å†µï¼Œç›´æ¥è¿æ¥åˆ°ä¸€ä¸ªè¶…çº§æ±‡ç‚¹$n + 1$ä¸Šã€‚ å»ºå®Œå›¾åï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæ¯ä¸ªç‚¹çš„ç­”æ¡ˆå³ä¸ºå®ƒåœ¨ä»¥$n + 1$ä¸ºæ ¹çš„æœ‰æ ¹æ ‘ä¸­çš„æ·±åº¦ã€‚ å¯¹äºæ”¹$k$è¿™ä¸ªæ“ä½œï¼Œæˆ‘ä»¬å‘ç°è¿è¾¹çš„ä¾æ®æ˜¯$k$ï¼Œé‚£ä¹ˆè¿™ä¸ªæ“ä½œç›¸å½“äºæ–­æ—§è¾¹ã€è¿æ–°è¾¹ï¼Œè€ƒè™‘LCTã€‚ æ­¤æ—¶æˆ‘ä»¬å†æƒ³æƒ³ç­”æ¡ˆï¼ˆå³èŠ‚ç‚¹æ·±åº¦ï¼‰æ€ä¹ˆåœ¨LCTä¸­ä½“ç°ã€‚ å¯¹äºæ¯ä¸ªè¢«è¯¢é—®çš„ç‚¹ï¼Œä¸å¦¨å°†å®ƒåˆ°$n + 1$èŠ‚ç‚¹çš„é“¾$Split$å‡ºæ¥ï¼Œæ­¤æ—¶ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„å­æ ‘å¤§å°å³ä¸ºèŠ‚ç‚¹æ·±åº¦ã€‚ LCTç»´æŠ¤å³å¯ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161#include &lt;cstdio&gt;#include &lt;cctype&gt;#define LL long longnamespace FastIO { inline LL read() { char ch = getchar(); LL r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(LL x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(LL x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 200005;template &lt;typename T&gt; inline void swap(T &amp;x, T &amp;y) {T tmp = x; x = y, y = tmp;}template &lt;typename T&gt; inline T min(T a, T b) {return a &lt; b ? a : b;}struct Node { int ch[2], fa, sum; bool rev;} tr[N];inline bool isleft(int p) { return tr[tr[p].fa].ch[0] == p;}inline bool isroot(int p) { int fa = tr[p].fa; return tr[fa].ch[0] != p &amp;&amp; tr[fa].ch[1] != p;}inline void upd(int p) { int ls = tr[p].ch[0], rs = tr[p].ch[1]; tr[p].sum = tr[ls].sum + tr[rs].sum + 1;}inline void reverse(int p) { swap(tr[p].ch[0], tr[p].ch[1]); tr[p].rev ^= 1;}inline void pushdown(int p) { int ls = tr[p].ch[0], rs = tr[p].ch[1]; if(tr[p].rev) { if(ls) reverse(ls); if(rs) reverse(rs); tr[p].rev ^= 1; }}int sta[N], stop;inline void pushto(int p) { stop = 0; while(!isroot(p)) { sta[stop++] = p; p = tr[p].fa; } pushdown(p); while(stop) { pushdown(sta[--stop]); }}inline void rotate(int p) { bool t = !isleft(p); int fa = tr[p].fa, ffa = tr[fa].fa; tr[p].fa = ffa; if(!isroot(fa)) tr[ffa].ch[!isleft(fa)] = p; tr[fa].ch[t] = tr[p].ch[!t]; tr[tr[fa].ch[t]].fa = fa; tr[p].ch[!t] = fa; tr[fa].fa = p; upd(fa);}inline void splay(int p) { pushto(p); for(int fa = tr[p].fa; !isroot(p); rotate(p), fa = tr[p].fa) { if(!isroot(fa)) rotate(isleft(fa) == isleft(p) ? fa : p); } upd(p);}inline void access(int p) { for(int q = 0; p; q = p, p = tr[p].fa) { splay(p); tr[p].ch[1] = q; upd(p); }}inline void makert(int p) { access(p); splay(p); reverse(p);}inline int findrt(int p) { access(p); splay(p); while(tr[p].ch[0]) p = tr[p].ch[0]; return p;}inline void split(int u, int v) { makert(u); access(v); splay(v);}inline void link(int u, int v) { makert(u); tr[u].fa = v;}inline void cut(int u, int v) { split(u, v); if(tr[v].ch[0] != u || tr[tr[v].ch[0]].ch[1]) return; tr[u].fa = tr[v].ch[0] = 0;}int n, m, k[N], op, ut, wt;int main() { n = read(); tr[n + 1].sum = 1; for(int i = 1; i &lt;= n; i++) { k[i] = read(); tr[i].sum = 1; } for(int i = 1; i &lt;= n; i++) { int x = i, y = i + k[i]; y = min(y, n + 1); link(x, y); } m = read(); while(m--) { op = read(); ut = read() + 1; if(op == 1) { split(ut, n + 1); write(tr[n + 1].sum - 1); } else { wt = read(); cut(ut, min(ut + k[ut], n + 1)); k[ut] = wt; link(ut, min(ut + k[ut], n + 1)); } } return 0;} å¤„ç†å­æ ‘ä¿¡æ¯æ“ä½œåŠåŸç†åœ¨æ ‘å‰–é‡Œï¼Œæˆ‘ä»¬åˆ©ç”¨å­æ ‘èŠ‚ç‚¹çš„dfsåºçš„è¿ç»­æ€§å»ºç«‹çº¿æ®µæ ‘è§£å†³äº†å­æ ‘ä¿¡æ¯çš„å¤„ç†ã€‚ ä½†æ˜¯åœ¨LCTä¸­ï¼Œæ ¹æ˜¯ä¼šå˜çš„ï¼Œç»´æŠ¤dfsåºä¼¼ä¹å¹¶ä¸é è°±ã€‚æˆ‘ä»¬è€ƒè™‘ç›´æ¥ç»´æŠ¤å­æ ‘çš„ä¿¡æ¯ï¼š ä¸å¦¨å¯¹æ¯ä¸€ä¸ªç‚¹ç»´æŠ¤ä¸€ä¸ªè™šå­æ ‘çš„ä¿¡æ¯ï¼Œå› ä¸ºåªæœ‰access()å’Œlink()ä¼šå¯¼è‡´å…¶æ”¹å˜ï¼Œè€Œcut()æ–­å¼€çš„æ˜¯ä¸€æ¡é‡è¾¹ï¼Œä¸ä¼šå½±å“ä¸€ä¸ªè™šå­æ ‘çš„ä¿¡æ¯ï¼Œæ‰€ä»¥åªéœ€è¦upd()ä¸€ä¸‹å°±è¡Œäº†ã€‚ ä¾‹é¢˜å¤ªèœäº†åªæ‰¾åˆ°äº†å¤§èåˆã€‚ P4219 [BJOI2014]å¤§èåˆ é¦–å…ˆè€ƒè™‘ä¸€æ¡è¾¹çš„è´Ÿè½½ä¸ä»€ä¹ˆæœ‰å…³ã€‚é€šè¿‡æ’åˆ—ç»„åˆçš„çŸ¥è¯†æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œè´Ÿè½½ç­‰äºèµ·ç‚¹ä¸ªæ•°ä¹˜ä»¥ç»ˆç‚¹ä¸ªæ•°ã€‚ èµ·ç‚¹ä¸ªæ•°ä¸ç»ˆç‚¹ä¸ªæ•°ä½“ç°åœ¨æ ‘ä¸Šå°±æ˜¯æ–­è¾¹åä¸¤ä¸ªèŠ‚ç‚¹å­æ ‘å¤§å°ã€‚ ç”±äºåŠ¨æ€è¿è¾¹ï¼Œæˆ‘ä»¬è¦ç”¨LCTç»´æŠ¤è¿™ä¸ªã€‚ ç…§ç€ä¸Šé¢è®²çš„åšå°±è¡Œäº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147#include &lt;cstdio&gt;#include &lt;cctype&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;const int N = 1e5 + 5;template &lt;typename T&gt; inline void swap(T &amp;x, T &amp;y) {T tmp = x; x = y, y = tmp;}struct Node { int ch[2], fa, tsz, sz; bool rev;} tr[N];inline void upd(int p) { tr[p].sz = tr[tr[p].ch[0]].sz + tr[tr[p].ch[1]].sz + tr[p].tsz + 1;}inline bool isleft(int p) { return tr[tr[p].fa].ch[0] == p;}inline bool isroot(int p) { return tr[tr[p].fa].ch[0] != p &amp;&amp; tr[tr[p].fa].ch[1] != p;}inline void reverse(int p) { tr[p].rev ^= 1; swap(tr[p].ch[0], tr[p].ch[1]);}inline void pushdown(int p) { if(tr[p].rev) { if(tr[p].ch[0]) reverse(tr[p].ch[0]); if(tr[p].ch[1]) reverse(tr[p].ch[1]); tr[p].rev ^= 1; }}int sta[N], stop;inline void pushto(int p) { stop = 0; while(!isroot(p)) { sta[stop++] = p; p = tr[p].fa; } sta[stop++] = p; while(stop) { pushdown(sta[--stop]); }}inline void rotate(int p) { bool t = !isleft(p); int fa = tr[p].fa, ffa = tr[fa].fa; tr[p].fa = ffa; if(!isroot(fa)) tr[ffa].ch[!isleft(fa)] = p; tr[fa].ch[t] = tr[p].ch[!t]; tr[tr[fa].ch[t]].fa = fa; tr[p].ch[!t] = fa; tr[fa].fa = p; upd(fa);}inline void splay(int p) { pushto(p); for(int fa = tr[p].fa; !isroot(p); rotate(p), fa = tr[p].fa) { if(!isroot(fa)) rotate(isleft(fa) == isleft(p) ? fa : p); } upd(p);}inline void access(int p) { for(int q = 0; p; q = p, p = tr[p].fa) { splay(p); tr[p].tsz += tr[tr[p].ch[1]].sz; tr[p].tsz -= tr[q].sz; tr[p].ch[1] = q; upd(p); }}inline void makert(int p) { access(p); splay(p); reverse(p);}inline int findrt(int p) { access(p); splay(p); while(tr[p].ch[0]) p = tr[p].ch[0]; return p;}inline void split(int u, int v) { makert(u); access(v); splay(v);}inline void link(int u, int v) { split(u, v); tr[u].fa = v; tr[v].tsz += tr[u].sz; upd(v);}inline void cut(int u, int v) { split(u, v); if(tr[v].ch[0] != u || tr[u].ch[1]) return; tr[v].ch[0] = tr[u].fa = 0;}int n, q;int main() { n = read(), q = read(); while(q--) { char op = getchar(); int x = read(), y = read(); if(op == 'A') link(x, y); else { split(x, y); write(tr[x].sz * (tr[y].sz - tr[x].sz)); } } return 0;} å¤ªèœäº†æŠŠrotate()é‡Œçš„upd(fa)å†™æˆäº†upd(p)ï¼Œè°ƒäº†å¥½ä¹…ï¼Œè‡ªå·±æ‰“è‡ªå·±è„¸qwq LCTåŠ¨æ€åŠ è¾¹æ±‚æœ€å¤§ç”Ÿæˆæ ‘æ“ä½œåŠåŸç†è¿˜æ²¡å­¦ä¼šå’•å’•å’•å’•å’•â€¦","link":"/2019/07/15/LCT-å­¦ä¹ æŠ¥å‘Š/"},{"title":"å¤šé¡¹å¼ å­¦ä¹ æŠ¥å‘Š","text":"çœ‹è¿‡æœŸçš„luoguç½‘è¯¾å­¦ä¼šäº†å¤šé¡¹å¼ å‰ç½®çŸ¥è¯†å¤šé¡¹å¼å®šä¹‰ç”±å¸¸æ•°åŠæœªçŸ¥æ•°é€šè¿‡æœ‰é™æ¬¡ä¹˜æ³•ã€åŠ æ³•ä»¥åŠè‡ªç„¶æ•°å¹‚æ¬¡ä¹˜æ–¹çš„ç»„åˆï¼Œå¾—åˆ°çš„ä»£æ•°è¡¨è¾¾å¼ã€‚ æœ¬æ–‡ä»…è®¨è®ºå•å…ƒå¤šé¡¹å¼ã€‚ ç®€è®°è®°$f(x) = \\sum\\limits_{i=0}^{n-1}a_ix^i$ä¸ºä¸€ä¸ªn-1æ¬¡å¤šé¡¹å¼ã€‚ å…¶ä¸­è¯¥å¤šé¡¹å¼çš„æ¬¡æ•°ä¸ºn-1ï¼Œè®°ä¸º${\\deg;f = n-1}$ã€‚ å¯¹äºè¯¥å¤šé¡¹å¼æ¬¡æ•°ä¸ºiçš„ä¸€é¡¹ï¼Œæˆ‘ä»¬è®°$f(x)[i]$ä¸ºè¯¥é¡¹çš„ç³»æ•°${a_i}$ï¼Œç®€å†™ä¸º$f[i]$ã€‚ ç®—æœ¯è¿ç®—è®¾$f(x)=\\sum\\limits_{i=0}^{n-1}{a_ix^i},g(x)=\\sum\\limits_{i=0}^{n-1}b_ix^i$ åŠ å‡æ³•$$(f+g)(x)=\\sum\\limits_{i=0}^{n-1}(a_i+b_i)\\times x^i$$ $$(f-g)(x)=\\sum\\limits_{i=0}^{n-1}(a_i-b_i)\\times x^i$$ å·ç§¯ï¼ˆå¤šé¡¹å¼ä¹˜æ³•ï¼‰$$(f\\times g)(x)=\\sum\\limits_{i=0}^{n-1}\\sum\\limits_{j=0}^{n-1}a_i b_j \\times x^{i+j}$$ è¿™ä¸ªæ“ä½œæ˜¯$O(n^2)$çš„ã€‚ å¾ªç¯å·ç§¯$$(f \\times g)(x) = \\sum\\limits_{i=0}^{n-1}\\sum\\limits_{j=0}^{n-1}a_ib_j\\times x ^{[(i+j)(\\mod n)]} $$ å¤æ•° ä»£æ•°åŸºæœ¬å®šç†ï¼šä»»ä½•ä¸€å…ƒnæ¬¡æ–¹ç¨‹åœ¨å¤æ•°åŸŸå†…éƒ½æ°å¥½æœ‰nä¸ªè§£ è™šæ•°å•ä½å®šä¹‰$i=\\sqrt{-1}$ï¼Œå…¶ä¸­$i$è¢«ç§°ä¸ºè™šæ•°å•ä½ã€‚ å¤æ•°å¤æ•°é›†åˆç¬¦å·ä¸º$\\mathbb{C}$ï¼Œ$\\mathbb{C}= { a+bi \\mid a,b\\in\\mathbb R } $ å¯¹äºä¸€ä¸ªå¤æ•°$z=a+bi$: $a$è¢«ç§°ä¸º$z$çš„å®éƒ¨ï¼Œè®°ä¸º$\\mathbf {Re(z)}$ $b$è¢«ç§°ä¸º$z$çš„è™šéƒ¨ï¼Œè®°ä¸º$\\mathbf{lm(z)}$ ç®—æœ¯è¿ç®—è®°$z_0,z_1\\in\\mathbb C,z_0=a_0+b_0i,z_1=a_1+b_1i$ åŠ å‡æ³•$$z_0\\pm z_1=(a_0\\pm a_1)+(b_0 \\pm b_1)i$$ ä¹˜æ³•$$z_0\\times z_1 = (a_0a_1-b_0b_1)+(a_0b_1+a_1b_0)i$$ å¯ä»¥å°†å¤æ•°å½“æˆä¸€ä¸ªä¸€æ¬¡äºŒé¡¹å¼æ¥ç†è§£ä¸Šé¢çš„å¼å­ã€‚ å¤å¹³é¢ å¤æ•°$z=x+yi$ä¸å¤å¹³é¢ä¸Š$(x,y)$ä¸€ä¸€å¯¹åº”ã€‚ $\\varphi$ä¸ºå¹…è§’ï¼Œé‚£ä¹ˆå¯ä»¥å¾—åˆ°å¤æ•°çš„ä¸‰è§’è¡¨ç¤ºï¼š $$z=r\\times (\\cos \\varphi+i\\sin \\varphi)$$ æ¬§æ‹‰å®šç†$$e^{i\\varphi}=\\cos \\varphi + i\\sin \\varphi$$ æ¨¡é•¿è¡¨ç¤ºå¤å¹³é¢å†…å‘é‡${\\vec z}$çš„æ¨¡é•¿ï¼Œè®°ä¸º$\\left|{z}\\right|$ $$\\left|z\\right|=\\sqrt{a^2+b^2}$$ å…±è½­è¡¨ç¤ºå¤å¹³é¢å†…ä¸$z$å…³äºxè½´å¯¹ç§°çš„ç‚¹ï¼Œè®°ä¸º$\\bar z$ $$\\overline z=a-bi$$ ä¸éš¾å¾—åˆ°: $$\\overline zz=\\left|z\\right|^2$$ å…±è½­å¤æ•°çš„å››åˆ™è¿ç®—éƒ½å¯ä»¥æå– $$\\overline{z_0\\pm z_1}=\\overline{z_0}\\pm\\overline{z_1}$$ $$\\lambda z=\\lambda a+\\lambda bi$$ $$\\overline{z_0\\times z_1}=\\overline{z_0}\\times \\overline{z_1}$$ $$\\frac{z_0}{z_1}=\\frac{z_0\\times \\overline {z_1}}{\\left|z_1\\right|^2}$$ ä¸‰è§’è¡¨ç¤ºçš„å¤æ•°ä¹˜æ³• æ­¤éƒ¨åˆ†å†…å®¹æ¥è‡ªè¯¾ä»¶ å›é¡¾å¤æ•°ä¹˜æ³•å…¬å¼$$z_0 \\times z_1 = (a_0a_1 + b_0b_1) + (a_0b_1 + a_1b_0) i$$ï¼Œæˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°$$\\mathbf{Re}(z_0 \\times z_1) = r_0 \\cos\\varphi_0 \\times r_1 \\cos\\varphi_1-r_0 \\sin\\varphi_0 \\times r_1 \\sin\\varphi_1 = r_0r_1 \\times \\cos(\\varphi_0 +\\varphi_1)$$ï¼ŒåŒæ—¶åˆæœ‰$$\\mathbf{Im}(z_0 \\times z_1) = r_0r_1 \\times \\sin (\\varphi_0 + \\varphi_1) $$ã€‚ å°è¯•ç”¨ä¸‰è§’è¡¨ç¤ºæ”¹å†™ä¹˜æ³•: $$(r_0 \\times e^{i\\varphi_0} ) \\times (r_1 \\times e^{i\\varphi_1} ) = (r_0 \\times r_1) \\times e^{i(\\varphi_0+\\varphi_1)}$$ æ££è«å¼—å®šç†$$z_0z_1 = r_0r_1 \\times(cos(Ï†_0 + Ï†_1) + i \\sin(Ï†_0 + Ï†_1))$$ å³ä¸¤å¤æ•°ç›¸ä¹˜çš„ç»“æœï¼Œæ¨¡é•¿ä¸ºä¸¤è€…ä¹‹ç§¯ï¼Œå¹…è§’ä¸ºäºŒè€…ä¹‹å’Œã€‚ æ££è«å¼—å…¬å¼ï¼š $$z^n = r^n \\times (\\cos(n\\varphi) + i\\sin(n\\varphi))$$ å•ä½æ ¹æ»¡è¶³æ–¹ç¨‹$x^n = 1 $çš„æ‰€æœ‰çš„è§£ï¼Œç§°ä¸º$n$æ¬¡å•ä½æ ¹ã€‚æ ¹æ®ä»£æ•°åŸºæœ¬å®šç†ï¼Œ$n$æ¬¡æ–¹ç¨‹åœ¨å¤æ•°åŸŸå†…æœ‰$n$ä¸ªè§£ã€‚ è¯æ˜è®¾$x=r\\times (\\cos \\varphi+i\\sin \\varphi )$ï¼Œè‹¥$x$æ˜¯$n$æ¬¡å•ä½æ ¹ï¼Œåˆ™ï¼š $\\begin{cases}r^n=1\\\\cos (n\\varphi)=1\\\\sin(n\\varphi)=0\\end{cases}$ æ¨å¯¼è¿‡ç¨‹ï¼š$\\qquad x^n=1$ $\\Rightarrow(r\\times (\\cos \\varphi+i\\sin \\varphi ))^n=1$ $\\Rightarrow(r^n\\times (\\cos n\\varphi+i\\sin n\\varphi))=1$ $\\Rightarrow \\sin n\\varphi = 1$ $\\Rightarrow \\varphi=0$ $\\Rightarrow \\cos n\\varphi = 1 $ $\\Rightarrow r^n=1$ $\\Rightarrow r= 1$ é‚£ä¹ˆï¼Œ$r=1,\\varphi=\\frac{2\\pi+k}{n}ï¼Œ k\\in[0,n-1] ä¸” k\\in\\mathbb Z$æ°å¥½æ˜¯$x^n=1$çš„$n$ä¸ªä¸åŒçš„è§£ã€‚ ç»“åˆå•ä½åœ† å¾ˆå®¹æ˜“å¾—åˆ°$n$ä¸ªå•ä½æ ¹åˆ†åˆ«ä¸º$e^{\\frac{2k\\pi}{n}i},k\\in[1,n-1] ä¸” k\\in\\mathbb Z$ è®°å•ä½åœ†æ ¹$\\mathbf \\omega_n=e^{\\frac{\\omega\\pi}{n}i}$ é‚£ä¹ˆ$n$ä¸ªå•ä½æ ¹åˆå¯ä»¥å†™æˆ${\\mathbf \\omega_n^k},k\\in[1,n-1] ä¸” k\\in\\mathbb Z$ æ€§è´¨ $\\mathbf \\omega_n^m=\\mathbf \\omega_{n/k}^{m/k}$ $\\mathbf \\omega_n^2=\\mathbf \\omega_{n/2}$ $\\mathbf \\omega_n^j=- \\mathbf \\omega_n^{j+n/2}$ )(å¯é€šè¿‡ç­‰æ¯”æ•°åˆ—æ±‚å’Œè¯æ˜) $[n\\mid t]=\\frac{1}{n}\\sum\\limits_{j=0}^{n-1}\\mathbf \\omega_n^{tj}$(è¯¥æ€§è´¨æ˜¯FFTçš„å…³é”®) æ€§è´¨5ä¸­ï¼Œ[æ¡ä»¶åˆ¤æ–­å¥1]è¿ç®—ç¬¦è¿”å›å€¼ä¸ºtrueå½“ä¸”ä»…å½“æ¡ä»¶åˆ¤æ–­å¥1ä¸ºçœŸã€‚ å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ å¿«é€Ÿå‚…é‡Œå¶å˜æ¢(Fast Fourier Transform),å³åˆ©ç”¨è®¡ç®—æœºè®¡ç®—ç¦»æ•£å‚…é‡Œå¶å˜æ¢(DFT)çš„é«˜æ•ˆã€å¿«é€Ÿè®¡ç®—æ–¹æ³•çš„ç»Ÿç§°ï¼Œç®€ç§°FFTã€‚å¿«é€Ÿå‚…é‡Œå¶å˜æ¢æ˜¯1965å¹´ç”±J.W.åº“åˆ©å’ŒT.W.å›¾åŸºæå‡ºçš„ã€‚é‡‡ç”¨è¿™ç§ç®—æ³•èƒ½ä½¿è®¡ç®—æœºè®¡ç®—ç¦»æ•£å‚…é‡Œå¶å˜æ¢æ‰€éœ€è¦çš„ä¹˜æ³•æ¬¡æ•°å¤§ä¸ºå‡å°‘ï¼Œç‰¹åˆ«æ˜¯è¢«å˜æ¢çš„æŠ½æ ·ç‚¹æ•°Nè¶Šå¤šï¼ŒFFTç®—æ³•è®¡ç®—é‡çš„èŠ‚çœå°±è¶Šæ˜¾è‘—ã€‚ æ¥æºï¼šç™¾åº¦ç™¾ç§‘ æ¨å¯¼è®° $\\deg;f = \\deg ; g = n - 1 $ï¼Œ$f$ä¸$g$çš„å¾ªç¯å·ç§¯ä¸º$h$ $\\qquad h[z]$ $\\quad =\\sum\\limits_{x=0}^{n-1} \\sum\\limits_{y=0}^{n-1}f[x]\\times g[y]\\times [n\\mid x+y-z]$ $\\quad =\\sum\\limits_{x=0}^{n-1} \\sum\\limits_{y=0}^{n-1}f[x]\\times g[y]\\times \\frac{1}{n}\\sum\\limits_{t=0}^{n-1}\\omega_n^{t(x+y-z)}$ $\\quad = \\frac{1}{n}\\sum\\limits_{t=0}^{n-1}\\omega_n^{-tz}(\\sum\\limits_{x=0}^{n-1}{f[x]\\times \\omega_n^{tx}})(\\sum\\limits_{y=0}^{n-1}g[y]\\times \\omega_n^{ty})$ è®¾$F[t] = \\sum\\limits {x=0} ^{n-1} f[x]\\times \\omega_n^{tx},G[t] = \\sum\\limits{y=0}^{n-1}g[x]\\times \\omega_n^{ty},H[t] = F[t]\\times G[t]$ é‚£ä¹ˆ$h[t] = \\frac{1}{n}\\sum\\limits_{x=0}^{n-1}H[x]\\times \\omega_n^{-tx}$ ç”±$f,g$è®¡ç®—$F,G$çš„è¿‡ç¨‹è¢«ç§°ä¸ºç¦»æ•£å‚…é‡Œå¶å˜æ¢(Discrete Fourier Transform) ç”±$Hè®¡ç®—h$çš„è¿‡ç¨‹è¢«ç§°ä¸ºç¦»æ•£å‚…é‡Œå¶é€†å˜æ¢(Inverse Discrete Fourier Transform) ä¸¤è€…è¿‡ç¨‹ç›¸å·®æ— å‡ ã€‚ DFTç°åœ¨ä»…è€ƒè™‘$n$ä¸ºå¶æ•°çš„æƒ…å†µã€‚ ç»™å®š$f$ï¼Œè®¡ç®—$F[t] = \\sum\\limits_{x=0}^{n-1}f[x] \\times \\omega _n^{tx}$ã€‚ è®¾$f_a=f[2k],f_b=f[2k+1],k\\in\\mathbb N$ $$\\therefore F_a[t] = \\sum\\limits_{a=0}^{n/2-1}f_a[a]\\times \\omega _{n/2}^{ta}$$ $$\\therefore F_b[t] = \\sum \\limits_{b=0}^{\\ n/2-1}f_b[b]\\times \\omega_{n/2}^{tb}$$ å½“$j&lt;n/2æ—¶$ $\\therefore F[j] = \\sum\\limits_{a=0}^{n/2-1}\\omega_n^{2a\\times j}f[2a]+\\sum\\limits_{b=0}^{n/2-1}\\omega_n^{(2b+1)\\times j}f[2b+1]$ $\\quad \\quad\\quad =\\sum\\limits_{a=0}^{n/2-1}\\omega_{n/2}^{a\\times j}f_a[a]+\\omega_{n}^j \\times \\sum\\limits_{b=0}^{n/2-1}\\omega _{n/2}^{b\\times j}f_b[b]$ $\\quad \\quad \\quad =F_a[j]+\\omega_n^jF_b[j]$ å½“$j\\geqslant n/2$æ—¶ $\\therefore F[j+n/2]=\\sum\\limits_{a=0}^{n/2-1}\\omega_n^{2a\\times (j+n/2)}f[2a]+\\sum\\limits_{b=0}^{n/2-1}\\omega_n^{(2b+1)\\times (j+n/2)}f[2b+1]$ $\\quad \\quad \\quad \\quad \\quad \\ \\ =\\sum\\limits_{a=0}^{n/2-1}\\omega_{n/2}^{a}f_a[a]+\\omega_n^{j+n/2}\\times \\sum\\limits_{b=0}^{n/2-1}\\omega_{n/2}^{b}f_b[b]$ $\\quad \\quad \\quad \\quad \\quad \\ \\ =F_a[j]+\\omega_n^{j+n/2}F_b[j]$ $\\quad \\quad \\quad \\quad \\quad \\ \\ =F_a[j]-\\omega_n^jF_b[j]$ è®¡ç®—å‡º$F_a$ä¸$F_b$åï¼Œå¯ä»¥$O(n)$å¾—åˆ°$F$,è€Œ$F_a,F_b$çš„è®¡ç®—éƒ½æ˜¯é¡¹æ•°ä¸º$n/2$çš„DFTï¼Œæˆ‘ä»¬ä»…éœ€é€’å½’æ±‚è§£è§„æ¨¡ä¸ºåŸé—®é¢˜è§„æ¨¡ä¸€åŠçš„å­é—®é¢˜ã€‚ è¾¹ç•Œæƒ…å†µï¼šn=1ã€‚ ç”±ä¸»å®šç†ï¼šDFTçš„æ—¶é—´å¤æ‚åº¦ä¸º$T(n)=2T(n/2)+O(n) =O(n\\log n)$ IDFTä¸DFTåŒºåˆ«ä¸å¤§ï¼Œä»…éœ€å°†å¼ä¸­çš„$\\omega_n^{j}$ä¿®æ”¹ä¸º$\\omega _n ^{-j}$ã€‚","link":"/2019/03/07/å¤šé¡¹å¼-å­¦ä¹ æŠ¥å‘Š/"},{"title":"æ ‘é“¾å‰–åˆ† å­¦ä¹ æŠ¥å‘Š","text":"ä¼—æ‰€å‘¨çŸ¥ï¼Œæ ‘é“¾å‰–åˆ†æ˜¯ä¸€ä¸ªéå¸¸å¼ºçš„OIerï¼ˆå¤§é›¾ ä¸€äº›å®šä¹‰é‡å„¿å­ï¼šå­æ ‘æœ€å¤§çš„å„¿å­èŠ‚ç‚¹ è½»å„¿å­ï¼šå…¶ä»–å„¿å­èŠ‚ç‚¹ é‡é“¾ï¼šç”±é‡å„¿å­ç»„æˆçš„é“¾ è½»é“¾ï¼šå…¶ä»–é“¾ åŸç†åŠå®ç°å‰–åˆ†ç»“æœé¦–å…ˆè¿™æ˜¯ä¸€é¢—æ ‘ å…ˆä¸è°ˆåŸç†ï¼Œç›´æ¥å°†å‰–åˆ†åçš„æ ‘æ‹¿å‡ºæ¥ å…¶ä¸­åŠ é‡çš„è¾¹æ„æˆé‡é“¾ï¼Œé‡å„¿å­è¢«æŸ“æˆçº¢è‰²ï¼Œè½»å„¿å­è¢«æŸ“æˆè“è‰²ã€‚ æ³¨æ„11ä¸12å·èŠ‚ç‚¹ï¼Œä»–ä»¬çš„å­æ ‘å¤§å°ç›¸åŒï¼Œæ­¤æ—¶æˆ‘ä»¬ä»…å°†èŠ‚ç‚¹ç¼–å·å°çš„ä½œä¸ºé‡å„¿å­ã€‚ å¯¹ç€ä¸Šé¢çš„ä¸¤å¹…å›¾å¯ä»¥æ›´å¥½çš„ç†è§£â€œé‡â€çš„æ¦‚å¿µã€‚ å‰–åˆ†è¿‡ç¨‹æˆ‘ä»¬é€šè¿‡ä¸¤æ¬¡dfsè¿›è¡Œå‰–åˆ†ã€‚ è§„å®šå˜é‡123456/*é»˜è®¤é‚»æ¥è¡¨å­˜è¾¹*/sz[x] // ä»¥xèŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘å¤§å°d[x] // xèŠ‚ç‚¹çš„æ·±åº¦fa[x] // xèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹son[x] // xèŠ‚ç‚¹çš„é‡å„¿å­ï¼ˆæ³¨æ„æ˜¯é‡å„¿å­ï¼‰tp[x] // xèŠ‚ç‚¹æ‰€åœ¨é“¾çš„é“¾é¡¶ å¼€å§‹å‰–åˆ†ç¬¬ä¸€édfså¤„ç†å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„æ·±åº¦å’Œå­æ ‘å¤§å°ï¼Œä»è€Œå¤„ç†å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„é‡å„¿å­ã€‚ 12345678910111213141516void dfs1(int x) { int maxx = -1; // è®°å½•é‡å„¿å­çš„å­æ ‘å¤§å°ä»¥æ›´æ–° for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == fa[x]) continue; d[y] = d[x] + 1; fa[y] = x; sz[x]++; dfs1(y); sz[x] += sz[y]; if(sz[y] &gt; maxx) { maxx = sz[y]; son[x] = y; } }} ç¬¬äºŒédfså¤„ç†å‡ºæ¯ä¸ªèŠ‚ç‚¹æ‰€åœ¨é“¾çš„é“¾é¡¶ï¼Œæ³¨æ„è¿™é‡Œçš„é“¾ä»…æŒ‡é‡é“¾ï¼Œè§„å®šè½»é“¾ä¸Šæ¯ä¸ªç‚¹çš„é“¾é¡¶éƒ½ä¸ºè‡ªå·±ã€‚ 12345678910void dfs2(int x, int top) { tp[x] = top; //è¿™é‡Œè¦ä¼˜å…ˆéå†é‡å„¿å­ if(son[x]) dfs2(son[x], top); for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == son[x] || y == fa[x]) continue; dfs2(y, y); }} è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†æ ‘é“¾å‰–åˆ†ã€‚ å¤„ç†é—®é¢˜é‚£ä¹ˆï¼Œæ ‘å‰–å¯ä»¥å¤„ç†å“ªäº›é—®é¢˜å‘¢ï¼Ÿ åœ¨çº¿LCAè€ƒè™‘æ¯æ¡é‡é“¾ï¼Œæ ¹æ®å®šä¹‰ï¼Œæˆ‘ä»¬å‘ç°æ¯ä¸ªç‚¹è‹¥é“¾é¡¶ç›¸åŒï¼Œåˆ™LCAä¸ºæ·±åº¦è¾ƒå°çš„ç‚¹ã€‚ å¯ä»¥ç»“åˆä¸Šé¢çš„å›¾ç†è§£ä¸€ä¸‹ã€‚ æœ‰äº†è¿™ä¸ªæ€§è´¨ï¼Œæˆ‘ä»¬ä¸å¦¨å°è¯•å°†æ¯ä¸ªç‚¹éƒ½è½¬ç§»åˆ°é“¾é¡¶ç›¸åŒçš„ç‚¹ï¼Œäºæ˜¯å°±æœ‰äº†ä¸‹é¢çš„ä»£ç ã€‚ 1234567inline int lca(int x, int y) { while(tp[x] != tp[y]) { if(d[tp[x]] &lt; d[tp[y]]) swap(x, y); x = fa[tp[x]]; } return d[x] &lt; d[y] ? x : y;} å¤æ‚åº¦ä¸º$O(\\log n)$ ä¾‹é¢˜ï¼šP3379 ã€æ¨¡æ¿ã€‘æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰æ¿å­é¢˜ï¼Œç›´æ¥å¥—ä¸Šé¢çš„ä»£ç ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485#include &lt;cstdio&gt;#include &lt;cctype&gt;namespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;template &lt;typename T&gt; inline void swap(T &amp;x, T &amp;y) {T tmp = x; x = y, y = tmp;}const int N = 5e5 + 6;const int M = N &lt;&lt; 1;int head[N], nxt[M], ver[M], cnt;int tp[N], sz[N], fa[N], son[N];int d[N];inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}void dfs1(int x) { int maxx = -1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == fa[x]) continue; d[y] = d[x] + 1; sz[x]++; fa[y] = x; dfs1(y); sz[x] += sz[y]; if(sz[y] &gt; maxx) { maxx = sz[y]; son[x] = y; } }}void dfs2(int x, int top) { tp[x] = top; if(son[x]) dfs2(son[x], top); for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == son[x] || y == fa[x]) continue; dfs2(y, y); }}inline int lca(int x, int y) { while(tp[x] != tp[y]) { if(d[tp[x]] &lt; d[tp[y]]) swap(x, y); x = fa[tp[x]]; } return d[x] &lt; d[y] ? x : y;}int main() { int n = read(), m = read(), s = read(); for(register int i = 1; i &lt; n; i++) { int x = read(), y = read(); add(x, y); add(y, x); } dfs1(s); dfs2(s, s); for(register int i = 1; i &lt;= m; i++) { write(lca(read(), read())); } return 0;} å¤„ç†å­æ ‘è€ƒè™‘ä¸€æ£µæ ‘çš„dfsåº dfsåºç”¨æ•°ç»„dfn[x]è¡¨ç¤ºèŠ‚ç‚¹xçš„dfsåºï¼Œå³å¯¹æ ¹èŠ‚ç‚¹dfsæ—¶è®¿é—®åˆ°å®ƒçš„é¡ºåºã€‚ è¿™ä¸ªå¯ä»¥åœ¨dfs2()æ—¶ç»´æŠ¤ï¼š 12345678910void dfs2(int x, int top) { tp[x] = top; dfn[x] = ++idx; if(son[x]) dfs2(son[x], top); for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == son[x] || y == fa[x]) continue; dfs2(y, y); }} ä¾ç„¶æ˜¯å‰–åˆ†åçš„æ ‘ï¼Œæˆ‘ä»¬æ ‡è®°ä¸€ä¸‹æ¯ä¸ªèŠ‚ç‚¹çš„dfsåºï¼š å¯ä»¥å‘ç°ï¼Œæ¯ä¸ªå­æ ‘ä¸­çš„èŠ‚ç‚¹çš„dfsåºæ˜¯è¿ç»­çš„ã€‚ æˆ‘ä»¬ç”¨åŒºé—´æ¥è¡¨ç¤ºä¸€é¢—å­æ ‘ï¼š æ¸…æ¥šå¤šäº†ã€‚ å¯ä»¥å‘ç°æ¯ä¸ªèŠ‚ç‚¹åŒºé—´çš„å·¦ç«¯ç‚¹ä¸ºdfn[x]ï¼Œå³ç«¯ç‚¹ä¸ºdfn[x] + sz[x] - 1 è¿™è®©æˆ‘ä»¬è”æƒ³åˆ°çº¿æ®µæ ‘ äºæ˜¯æˆ‘ä»¬å¯ä»¥å¯¹æ•´æ£µæ ‘å»ºç«‹ä¸€é¢—çº¿æ®µæ ‘ï¼Œè¿™æ ·å¯ä»¥åŒºé—´æŸ¥è¯¢è·å¾—å­æ ‘ä¿¡æ¯ã€‚ ä¾‹é¢˜ï¼šP3384 ã€æ¨¡æ¿ã€‘æ ‘é“¾å‰–åˆ†é“¾çš„dfsåºæ˜¾ç„¶æ˜¯è¿ç»­çš„ï¼ŒåŒæ ·æ”¾åœ¨çº¿æ®µæ ‘ä¸Šå°±è¡Œäº†ã€‚ æ³¨æ„æœ¬é¢˜ä¸­å­æ ‘å¤§å°å°†æ ¹èŠ‚ç‚¹è®¡ç®—å…¥å†…ï¼Œsz[x] åº”åˆå§‹åŒ–ä¸º1ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192#include &lt;cstdio&gt;#include &lt;cctype&gt;#define LL long longnamespace FastIO { inline int read() { char ch = getchar(); int r = 0, w = 1; while(!isdigit(ch)) {if(ch == '-') w = -1; ch = getchar();} while(isdigit(ch)) {r = r * 10 + ch - '0', ch = getchar();} return r * w; } void _write(int x) { if(x &lt; 0) putchar('-'), x = -x; if(x &gt; 9) _write(x / 10); putchar(x % 10 + '0'); } inline void write(int x) { _write(x); puts(\"\"); }}using namespace FastIO;template &lt;typename T&gt; inline void swap(T &amp;x, T &amp;y) {T tmp = x; x = y, y = tmp;}const int N = 1e5 + 6;const int M = N &lt;&lt; 1;int n, m, r, p, ptn[N], w[N];// çº¿æ®µæ ‘#define lson (o &lt;&lt; 1)#define rson (o &lt;&lt; 1) | 1#define mid ((l + r) &gt;&gt; 1)LL val[N &lt;&lt; 2], tag[N &lt;&lt; 2];inline void pushdown(int o, int l, int r) { if(tag[o]) { tag[lson] = (tag[lson] + tag[o]) % p; tag[rson] = (tag[rson] + tag[o]) % p; val[lson] = (val[lson] + tag[o] * (mid - l + 1) % p) % p; val[rson] = (val[rson] + tag[o] * (r - mid) % p) % p; tag[o] = 0; }}inline void upd(int o) { val[o] = (val[lson] + val[rson]) % p;}inline void build(int o, int l, int r) { if(l == r) { val[o] = w[ptn[l]]; return; } build(lson, l, mid); build(rson, mid + 1, r); upd(o);}inline void add(int o, int l, int r, int ll, int rr, LL v) { if(l &gt;= ll &amp;&amp; r &lt;= rr) { val[o] = (val[o] + v * (r - l + 1) % p) % p; tag[o] = (tag[o] + v) % p; return; } pushdown(o, l, r); if(ll &lt;= mid) add(lson, l, mid, ll, rr, v); if(rr &gt; mid) add(rson, mid + 1, r, ll, rr, v); upd(o);}inline LL squery(int o, int l, int r, int ll, int rr) { if(l &gt;= ll &amp;&amp; r &lt;= rr) { return val[o]; } pushdown(o, l, r); LL res = 0; if(ll &lt;= mid) res = (res + squery(lson, l, mid, ll, rr)) % p; if(rr &gt; mid) res = (res + squery(rson, mid + 1, r, ll, rr)) % p; return res;}// æ ‘å‰–int head[N], nxt[M], ver[M], cnt;int fa[N], sz[N], d[N], tp[N], son[N], dfn[N], idx;inline void adde(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}void dfs1(int x) { sz[x] = 1; int maxx = -1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == fa[x]) continue; d[y] = d[x] + 1; fa[y] = x; dfs1(y); sz[x] += sz[y]; if(sz[y] &gt; maxx) { maxx = sz[y]; son[x] = y; } }}void dfs2(int x, int top) { dfn[x] = ++idx; ptn[dfn[x]] = x; tp[x] = top; if(son[x]) dfs2(son[x], top); for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == son[x] || y == fa[x]) continue; dfs2(y, y); }}inline void Addline(int x, int y, LL z) { while(tp[x] != tp[y]) { if(d[tp[x]] &gt; d[tp[y]]) { swap(x, y); } add(1, 1, n, dfn[tp[y]], dfn[y], z); y = fa[tp[y]]; } if(d[x] &gt; d[y]) swap(x, y); add(1, 1, n, dfn[x], dfn[y], z);}inline LL Queryline(int x, int y) { LL res = 0; while(tp[x] != tp[y]) { if(d[tp[x]] &gt; d[tp[y]]) { swap(x, y); } res = (res + squery(1, 1, n, dfn[tp[y]], dfn[y])) % p; y = fa[tp[y]]; } if(d[x] &gt; d[y]) swap(x, y); res = (res + squery(1, 1, n, dfn[x], dfn[y])) % p; return res;}inline void Addt(int x, LL z) { add(1, 1, n, dfn[x], dfn[x] + sz[x] - 1, z);}inline LL Queryt(int x) { return squery(1, 1, n, dfn[x], dfn[x] + sz[x] - 1);}int op, x, y, z;int main() { n = read(), m = read(), r = read(), p = read(); for(register int i = 1; i &lt;= n; i++) w[i] = read(); for(register int i = 1; i &lt; n; i++) { int x = read(), y = read(); adde(x, y); adde(y, x); } dfs1(r); dfs2(r, r); build(1, 1, n); while(m--) { op = read(); x = read(); if(op &lt;= 2) y = read(); if(op == 1 || op == 3) z = read(); switch (op) { case 1: Addline(x, y, z); break; case 2: write(Queryline(x, y)); break; case 3: Addt(x, z); break; case 4: write(Queryt(x)); break; } } return 0;}","link":"/2019/07/15/æ ‘é“¾å‰–åˆ†-å­¦ä¹ æŠ¥å‘Š/"},{"title":"è¥„é˜³å››ä¸­NOIP 2019 æ¨¡æ‹Ÿèµ›","text":"dlwjyyy Day 1é¢˜é¢ ç­¾åˆ°ï¼ˆcheckinï¼‰ç­¾åˆ°é¢˜æ²¡ç­¾ä¸Šï¼Œå†™äº†ä¸ªå‡dpï¼Œè¿˜å¥½è¿˜æœ‰ç‚¹åˆ†ã€‚ é¢˜ç›®å¤§æ„ç»™å®šä¸€äº›åŒºé—´ï¼Œè¦æ±‚æ±‚å‡ºå®ƒä»¬çš„ä¸€ä¸ªå­é›†ï¼Œä½¿å¾—è¿™ä¸ªé›†åˆçš„å…ƒç´ ä¸¤ä¸¤ä¸äº¤ï¼Œæœ€å¤§åŒ–å®ƒä»¬çš„å¹¶ã€‚ 48åˆ†åšæ³•å°†åŒºé—´æŒ‰æŸä¸€ç«¯ç‚¹æ’åºåç›´æ¥dpã€‚ è®¾$dp[i]$ä¸ºåŒºé—´$[1, i]$çš„æœ€å¤§å¹¶ã€‚ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$dp[r_i] = \\max\\limits_{0\\le j &lt; l_i}dp[j] + (r_i - l_i + 1)$$ æ—¶é—´å¤æ‚åº¦$O(nm)$ ä»£ç 12345678910111213141516171819202122232425262728#include &lt;cstdio&gt;#include &lt;algorithm&gt;const int N = 2e5 + 6;inline int max(int a, int b) {return a &gt; b ? a : b;}int n, m, pnt;struct node {int l, r;} a[N];int dp[N], ans, maxx = 0;inline bool cmp(node a, node b) {return a.l &lt; b.l;}int main() { freopen(\"checkin.in\", \"r\", stdin); freopen(\"checkin.out\", \"w\", stdout); scanf(\"%d%d\", &amp;n, &amp;m); for(register int i = 1; i &lt;= m; i++) {scanf(\"%d%d\", &amp;a[i].l, &amp;a[i].r);} std::sort(a + 1, a + m + 1, cmp); for(register int i = 1; i &lt;= m; i++) { for(register int j = 0; j &lt;= a[i].l; j++) { dp[a[i].r] = max(dp[a[i].r], dp[j] + (a[i].r - a[i].l + 1)); ans = max(ans, dp[a[i].r]); } } printf(\"%d\\n\", ans); return 0;} 100åˆ†åšæ³•è§‚å¯Ÿåˆ°åªéœ€è¦æ±‚å‰$i$å¤©çš„æœ€å¤§å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€ç»´æŠ¤$O(1)$æŸ¥è¯¢ã€‚ æ—¶é—´å¤æ‚åº¦$O(n)$ ä»£ç 123456789101112131415161718192021222324252627#include &lt;cstdio&gt;#include &lt;algorithm&gt;const int N = 2e5 + 6;inline int max(int a, int b) {return a &gt; b ? a : b;}int n, m, pnt;struct node {int l, r;} a[N];int dp[N], ans, maxx = 0;inline bool cmp(node a, node b) {return a.l &lt; b.l;}int main() { freopen(\"checkin.in\", \"r\", stdin); freopen(\"checkin.out\", \"w\", stdout); scanf(\"%d%d\", &amp;n, &amp;m); for(register int i = 1; i &lt;= m; i++) {scanf(\"%d%d\", &amp;a[i].l, &amp;a[i].r);} std::sort(a + 1, a + m + 1, cmp); for(register int i = 1; i &lt;= m; i++) { while(pnt &lt; a[i].l) maxx = max(maxx, dp[pnt]), pnt++; dp[a[i].r] = max(dp[a[i].r], maxx + a[i].r - a[i].l + 1); ans = max(ans, dp[a[i].r]); } printf(\"%d\\n\", ans); return 0;} é›†åˆï¼ˆgatherï¼‰$dfs$å’Œæ ‘å‰–æ–Ÿé…Œäº†ä¸€ä¸‹é€‰äº†æ ‘å‰–ï¼Œè¿™æ ·ä¸ç”¨å¼€è·ç¦»æ•°ç»„ã€‚ ç„¶åæŸ¥è¯¢$T$é£äº†ï¼Œå¤šä¸ªlogã€‚ é¢˜ç›®å¤§æ„ç»™å®šä¸€æ£µæ ‘ï¼Œæ¯æ¬¡è¯¢é—®æœ‰å¤šå°‘ä¸ªç‚¹åˆ°ç»™å®šä¸¤ä¸ªç‚¹çš„è·ç¦»ç›¸åŒã€‚ 40åˆ†åšæ³•dfsæ±‚è·ç¦»ï¼Œç„¶å$O(n)$æšä¸¾æ¯ä¸ªç‚¹ç´¯åŠ ç­”æ¡ˆï¼Œæ—¶é—´å¤æ‚åº¦$O(n ^ 2 + nq)$ è·ç¦»æ•°ç»„å¼€ä¸ä¸‹ã€‚ å‚»é€¼å¿«è¯»å‡ºé”…äº†ï¼Œä¹Ÿä¸çŸ¥é“ä»€ä¹ˆåŸç†ï¼ŒDay2ä¸æ•¢ç”¨äº†ã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;cstdio&gt;#include &lt;cctype&gt;#include &lt;cstring&gt;const int N = 20010;const int M = N &lt;&lt; 1;int n, m;int head[N], nxt[M], ver[M], cnt;bool v[N];int d[N][N];inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}void dfs(int x, int s) { v[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(v[y]) continue; d[s][y] = d[s][x] + 1; dfs(y, s); }}int main() { freopen(\"gather.in\", \"r\", stdin); freopen(\"gather.out\", \"w\", stdout); scanf(\"%d%d\", &amp;n, &amp;m); for(register int i = 1; i &lt; n; i++) { register int x, y; scanf(\"%d%d\", &amp;x, &amp;y); add(x, y); add(y, x); } for(register int i = 1; i &lt;= n; i++) { memset(v, 0, sizeof(v)); dfs(i, i); } for(register int i = 1; i &lt;= m; i++) { int x, y; scanf(\"%d%d\", &amp;x, &amp;y); register int ans = 0; for(register int i = 1; i &lt;= n; i++) { if(d[i][x] == d[i][y]) ans++; } printf(\"%d\\n\", ans); } return 0;} 100åˆ†åšæ³•æ ‘ä¸Šå€å¢æ‰¾åˆ°æŸ¥è¯¢é“¾çš„ç»ˆç‚¹ï¼Œç„¶åç”¨å­æ ‘å¤§å°è§£å†³è¯¢é—®ã€‚ æ—¶é—´å¤æ‚åº¦$O(q\\log n )$ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113#include &lt;cstdio&gt;#include &lt;cmath&gt;const int N = 2e5 + 6;const int M = N &lt;&lt; 1;template &lt;typename T&gt; inline void swap(T &amp;a, T &amp;b) {T tmp = a; a = b, b = tmp;}int n, m;int head[N], nxt[M], ver[M], cnt;inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt;}int d[N], fa[N], sz[N];int f[N][22];void dp(int x) { sz[x] = 1; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(y == fa[x]) continue; fa[y] = x; d[y] = d[x] + 1; f[y][0] = x; dp(y); sz[x] += sz[y]; }}inline void prework() { for(register int j = 1; j &lt;= 20; j++) { for(register int i = 1; i &lt;= n; i++) { f[i][j] = f[f[i][j - 1]][j - 1]; } }}int main() { freopen(\"gather.in\", \"r\", stdin); freopen(\"gather.out\", \"w\", stdout); scanf(\"%d%d\", &amp;n, &amp;m); for(register int i = 1; i &lt; n; i++) { int x, y; scanf(\"%d%d\", &amp;x, &amp;y); add(x, y); add(y, x); } f[1][0] = 1; d[1] = 1; dp(1); prework(); for(register int i = 1; i &lt;= m; i++) { register int ans = 0; int x, y; scanf(\"%d%d\", &amp;x, &amp;y); if(abs(d[x] - d[y]) &amp; 1) puts(\"0\"); else if(d[x] == d[y]) { if(x == y) printf(\"%d\\n\", n); else { for(register int i = 20; i &gt;= 0; i--) { if(f[x][i] != f[y][i]) { x = f[x][i]; y = f[y][i]; } } register int lca = f[x][0]; for(register int i = head[lca]; i; i = nxt[i]) { if(ver[i] != x &amp;&amp; ver[i] != y &amp;&amp; ver[i] != f[lca][0]) { ans += sz[ver[i]]; } } ans += n - sz[lca]; printf(\"%d\\n\", ans + 1); } } else { int xx = x, yy = y; if(d[x] &lt; d[y]) {swap(x, y); swap(xx, yy);} for(register int i = 20; i &gt;= 0; i--) { if(d[f[x][i]] &gt;= d[y]) x = f[x][i]; } register int lca; if(x == y) lca = x; else { for(register int i = 20; i &gt;= 0; i--) { if(f[x][i] != f[y][i]) { x = f[x][i]; y = f[y][i]; } } lca = f[x][0]; } int dis = (d[xx] + d[yy] - (d[lca] &lt;&lt; 1)) &gt;&gt; 1; for(register int i = 20; i &gt;= 0; i--) { if((1 &lt;&lt; i) &lt; dis) { dis -= (1 &lt;&lt; i); xx = f[xx][i]; } } int ffa = f[xx][0]; for(register int i = head[ffa]; i; i = nxt[i]) { if(ver[i] != xx &amp;&amp; ver[i] != f[ffa][0]) { ans += sz[ver[i]]; } } printf(\"%d\\n\", ans + 1); } } return 0;} æ··ä¹±ï¼ˆmessï¼‰æ¨äº†ä¸ªè§„å¾‹å‡ºæ¥ï¼Œæ‹äº†ä¸€ä¸‹å¤§æ¦‚æ˜¯å¯¹çš„ã€‚ stdè¿˜æ²¡å†™ã€‚ é¢˜ç›®å¤§æ„ç»™å‡ºä¸€ä¸ªé•¿ä¸º$n$çš„æ’åˆ—${a_i}$ï¼Œå®šä¹‰æ··ä¹±åº¦ä¸º$\\sum\\limits_{i = 1}^{n} |a_i - i|$æ±‚æœ‰å¤šå°‘ä¸ªæ··ä¹±åº¦ä¸º${k}$çš„æ’åˆ—ã€‚ Day 2é¢˜é¢ æ–—åœ°ä¸»ï¼ˆlandlordsï¼‰æ²¡å¾€å›¾è®ºä¸Šæƒ³ï¼Œåˆç­¾åˆ°å¤±è´¥ã€‚ é¢˜ç›®å¤§æ„ç»™å®š$n$å¼ å¡ç‰Œï¼Œæ¯å¼ å¡ç‰Œæœ‰æ­£åä¸¤é¢${t_i}$å’Œ${b_i}$ã€‚æ¯æ¬¡é€‰ä¸¤å¼ å¡${x, y}$ï¼Œå¾—åˆ†ä¸º$\\min \\left(t_{x} \\oplus b_{y}, t_{y} \\oplus b_{x}\\right)$ï¼Œç„¶ååˆ æ‰ä¸€å¼ ã€‚æ±‚æœ€å¤§å¾—åˆ†ã€‚ 40åˆ†åšæ³•éˆ¤wjyyyçš„è¯¾ä»¶ä¸Šæ²¡å†™è¿™ä¸ªåšæ³•ã€‚ è€ƒåœºä¸Šxjbæƒ³å‡ºæ¥çš„ã€‚ è€ƒè™‘çŠ¶å‹dp è®¾$dp[S]$ä¸ºå½“å‰å‰©ä¸‹çš„ç‰ŒçŠ¶æ€ä¸º$S$æ—¶çš„æœ€å¤§å¾—åˆ†ã€‚ ç„¶åä¸€ä¸ªçŠ¶æ€$S$å¯ä»¥å‘åˆ å»æŸå¼ ç‰Œåçš„çŠ¶æ€è½¬ç§»ã€‚ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸å¥½å†™ï¼Œä¸å†™äº†ã€‚ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include &lt;cstdio&gt;#ifdef DEBUG#undef DEBUG#endifconst int N = 21;inline int max(int a, int b) {return a &gt; b ? a : b;}inline int min(int a, int b) {return a &lt; b ? a : b;}int dp[1 &lt;&lt; N];int a[N], b[N];int n;int main() { freopen(\"landlords.in\", \"r\", stdin); freopen(\"landlords.out\", \"w\", stdout); scanf(\"%d\", &amp;n); for(register int i = 1; i &lt;= n; i++) scanf(\"%d%d\", &amp;a[i], &amp;b[i]); for(register int s = (1 &lt;&lt; n) - 1; s &gt;= 1; s--) { for(register int i = 1; i &lt; n; i++) { for(register int j = i + 1; j &lt;= n; j++) { if(((s &gt;&gt; (i - 1)) &amp; 1) &amp;&amp; ((s &gt;&gt; (j - 1)) &amp; 1)) { #ifdef DEBUG printf(\"i = %d, j = %d\\n\", i, j); printf(\"this = \"); for(register int k = n; k &gt;= 1; k--) printf(\"%d\", s &gt;&gt; (k - 1) &amp; 1); puts(\"\"); printf(\"goal1 = \"); for(register int k = n; k &gt;= 1; k--) printf(\"%d\", (s - (1 &lt;&lt; (i - 1))) &gt;&gt; (k - 1) &amp; 1); puts(\"\"); printf(\"goal2 = \"); for(register int k = n; k &gt;= 1; k--) printf(\"%d\", (s - (1 &lt;&lt; (j - 1))) &gt;&gt; (k - 1) &amp; 1); puts(\"\"); printf(\"choice1 = a[%d] ^ b[%d] = %d ^ %d = %d\\n\", i, j, a[i], b[j], a[i] ^ b[j]); printf(\"choice2 = a[%d] ^ b[%d] = %d ^ %d = %d\\n\", j, i, a[j], b[i], a[j] ^ b[i]); #endif dp[s ^ (1 &lt;&lt; (i - 1))] = max(dp[s ^ (1 &lt;&lt; (i - 1))], dp[s] + min(a[i] ^ b[j], a[j] ^ b[i])); dp[s ^ (1 &lt;&lt; (j - 1))] = max(dp[s ^ (1 &lt;&lt; (j - 1))], dp[s] + min(a[i] ^ b[j], a[j] ^ b[i])); #ifdef DEBUG printf(\"dp[goal1] = %d\\n\", dp[(s ^ (1 &lt;&lt; (i - 1)))]); printf(\"dp[goal2] = %d\\n\", dp[(s ^ (1 &lt;&lt; (j - 1)))]); puts(\"\"); #endif } } } } #ifdef DEBUG for(register int i = (1 &lt;&lt; n) - 1; i &gt; 0; i--) { printf(\"dp[\"); for(register int j = n; j &gt;= 1; j--) printf(\"%d\", i &gt;&gt; (j - 1) &amp; 1); printf(\"] = \"); printf(\"%d\", dp[i]); puts(\"\"); } #endif int ans = 0; for(register int i = 1; i &lt;= n; i++) { ans = max(ans, dp[1 &lt;&lt; (i - 1)]); } printf(\"%d\", ans); return 0;} 100åˆ†åšæ³•ä¸€å…±ä¼šåˆ $n - 1$æ¬¡ï¼Œç„¶åæœ‰$n$ä¸ªçŠ¶æ€ï¼Œæ‰€ä»¥å¯ä»¥å»ºå›¾è·‘æœ€å¤§ç”Ÿæˆæ ‘ã€‚ è¾¹æ•°å¤§ï¼Œç”¨$Kruskal$ä¼šè¢«å¡ï¼Œæ‰€ä»¥é€‰æ‹©$Prim$ ä»£ç è¿˜æ²¡å†™ éšæœºï¼ˆrandomï¼‰ è¦ç”¨é­”æ³•å¯¹æŠ—é­”æ³•ã€‚ â€”- Zechå¤§çˆ· æ‰€ä»¥æˆ‘å†™äº†éšæœºæ•°è†œéšæœºæ•°ã€‚ é¢˜ç›®å¤§æ„ç»™å®šä¸€ä¸ª$01$ä¸²ï¼Œæ¯æ¬¡è·å¾—ä¸€ä¸ªèŒƒå›´åœ¨å½“å‰é•¿åº¦çš„éšæœºæ•´æ•°ï¼Œå…±$m$æ¬¡ï¼Œç®—æœŸæœ›åˆ æ‰$0$çš„ä¸ªæ•°ã€‚ 100åˆ†åšæ³•çŠ¶å‹dpï¼Œç„¶åçŠ¶æ€æœ‰å‰å¯¼0ï¼Œå•ç‹¬è®°ä¸²é•¿ç©ºé—´ä¼šç‚¸ï¼Œå¯ä»¥åœ¨ä¸²å‰è®°ä¸€ä¸ªæ ‡è®°1ã€‚ ä»£ç è¿˜æ²¡å†™ ä»™äººæŒï¼ˆtreeï¼‰æ•° æ® åˆ† æ²» é¢˜ç›®å¤§æ„ç»™å®šä¸€ä¸ª$n$ä¸ªèŠ‚ç‚¹ï¼Œ$m$æ¡è¾¹çš„å›¾ï¼Œå¦‚æœåˆ æ‰ä¸€ä¸ªç‚¹åï¼Œå›¾å˜æˆäº†ä¸€æ£µæ ‘ï¼Œé‚£ä¹ˆå°±ç§°è¿™ä¸ªç‚¹ä¸ºä»™äººæŒèŠ‚ç‚¹ã€‚æ‰¾åˆ°æ‰€æœ‰çš„ä»™äººæŒèŠ‚ç‚¹ï¼Œç­”æ¡ˆå‡åºè¾“å‡ºã€‚ å…¶å®æ˜¯UOJåŸé¢˜ 30åˆ†åšæ³•æš´åŠ›åˆ ç‚¹åˆ¤æ ‘ã€‚ $$O(n ^ 2)$$ ä»£ç ä¸æ”¾äº†ï¼Œå†™æ³•å¤šã€‚ æ ‘çš„æƒ…å†µå¶å­èŠ‚ç‚¹è®¡æ•°ã€‚ åŸºç¯æ ‘çš„æƒ…å†µå…ˆæ‰¾ç¯ï¼Œåˆ æ‰ç¯ä¸Šåº¦æ•°ä¸º2çš„ç‚¹ã€‚ è¿™å‡ æ¡£æ‰“å®Œå¤§æ¦‚65åˆ†ã€‚ 100åˆ†åšæ³•é¦–å…ˆå‰²ç‚¹ä¸€å®šä¸æ˜¯â€œä»™äººæŒç‚¹â€ã€‚ ç„¶åå¯¹äºå‰©ä¸‹çš„ç‚¹ï¼Œæˆ‘ä»¬è€ƒè™‘åˆ å»å®ƒçš„å½±å“ï¼šå‰©ä¸‹çš„å›¾åªæœ‰$n - 1$ä¸ªèŠ‚ç‚¹ï¼Œè¦ä½¿å®ƒæˆä¸ºæ ‘ï¼Œåˆ™éœ€å‰©ä¸‹$n - 2$æ¡è¾¹ã€‚ è¯»å…¥æ—¶è®°å½•ä¸€ä¸‹ç‚¹çš„åº¦ï¼Œåˆ¤ä¸€ä¸‹æ˜¯å¦ç­‰äº$m - (n - 2)$ã€‚ ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;cstdio&gt;using namespace std;const int N = 2e5 + 6;const int M = N &lt;&lt; 1;inline int min(int a, int b) {return a &lt; b ? a : b;}inline int max(int a, int b) {return a &gt; b ? a : b;}int n, m;int head[N], nxt[M], ver[M], low[N], dfn[N], in[N], ans[N], cnt, rt, idx, num;bool cut[N];inline void add(int x, int y) { ver[++cnt] = y, nxt[cnt] = head[x], head[x] = cnt; ver[++cnt] = x, nxt[cnt] = head[y], head[y] = cnt; in[x]++, in[y]++;}void tarjan(int x) { dfn[x] = low[x] = ++idx; int son = 0; for(register int i = head[x]; i; i = nxt[i]) { int y = ver[i]; if(!dfn[y]) { tarjan(y); low[x] = min(low[x], low[y]); if(low[y] &gt;= dfn[x]) { son++; if(x != rt || son &gt; 1) cut[x] = 1; } } else low[x] = min(low[x], dfn[y]); }}int main() { freopen(\"tree.in\", \"r\", stdin); freopen(\"tree.out\", \"w\", stdout); scanf(\"%d%d\", &amp;n, &amp;m); for(register int i = 1; i &lt;= m; i++) { register int x, y; scanf(\"%d%d\", &amp;x, &amp;y); add(x, y); } for(register int i = 1; i &lt;= n; i++) { if(!dfn[i]) tarjan(i); } for(register int i = 1; i &lt;= n; i++) { if(cut[i] == 0 &amp;&amp; in[i] == m - n + 2) { num++; ans[num] = i; } } printf(\"%d\\n\", num); for(register int i = 1; i &lt;= num; i++) printf(\"%d \", ans[i]); return 0;} æ€»ç»“æŒ‚äº†å¾ˆå¤šåˆ†å¾ˆçƒ¦ã€‚ æœ‰äº›é¢˜æ²¡æƒ³åˆ°ï¼Œèµ›åè§‰å¾—ä¸éš¾æƒ³ã€‚ è¦å¤šç»ƒã€‚ ç­‰è¿‡ä¸€æ®µæ—¶é—´å›è¿‡å¤´çœ‹è‡ªå·±è¿™å¥—é¢˜æ‰è€ƒè¿™ç‚¹åˆ†ï¼Œå°±ä¼šè§‰å¾—è‡ªå·±å¤šä¹ˆçš„èœã€‚","link":"/2019/07/31/è¥„é˜³å››ä¸­NOIP-2019-æ¨¡æ‹Ÿèµ›-é¢˜è§£/"}],"tags":[{"name":"æ ‘ä¸Šé—®é¢˜","slug":"æ ‘ä¸Šé—®é¢˜","link":"/tags/æ ‘ä¸Šé—®é¢˜/"},{"name":"æ ¹å·åˆ†æ²»","slug":"æ ¹å·åˆ†æ²»","link":"/tags/æ ¹å·åˆ†æ²»/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","link":"/tags/è´ªå¿ƒ/"},{"name":"å›¾è®º","slug":"å›¾è®º","link":"/tags/å›¾è®º/"},{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","link":"/tags/æ¨¡æ‹Ÿ/"},{"name":"Floyd","slug":"Floyd","link":"/tags/Floyd/"},{"name":"æ ˆ","slug":"æ ˆ","link":"/tags/æ ˆ/"},{"name":"Tarjan","slug":"Tarjan","link":"/tags/Tarjan/"},{"name":"å­—ç¬¦ä¸²","slug":"å­—ç¬¦ä¸²","link":"/tags/å­—ç¬¦ä¸²/"},{"name":"DP","slug":"DP","link":"/tags/DP/"},{"name":"æ ‘å½¢DP","slug":"æ ‘å½¢DP","link":"/tags/æ ‘å½¢DP/"},{"name":"æ¸¸è®°","slug":"æ¸¸è®°","link":"/tags/æ¸¸è®°/"},{"name":"SPFA","slug":"SPFA","link":"/tags/SPFA/"},{"name":"é€’æ¨","slug":"é€’æ¨","link":"/tags/é€’æ¨/"},{"name":"MST","slug":"MST","link":"/tags/MST/"},{"name":"å¼ºè¿é€šåˆ†é‡","slug":"å¼ºè¿é€šåˆ†é‡","link":"/tags/å¼ºè¿é€šåˆ†é‡/"},{"name":"LCA","slug":"LCA","link":"/tags/LCA/"},{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","link":"/tags/ç½‘ç»œæµ/"},{"name":"æœ€å°è´¹ç”¨æœ€å¤§æµ","slug":"æœ€å°è´¹ç”¨æœ€å¤§æµ","link":"/tags/æœ€å°è´¹ç”¨æœ€å¤§æµ/"},{"name":"å»ºå›¾","slug":"å»ºå›¾","link":"/tags/å»ºå›¾/"},{"name":"æ ‘é“¾å‰–åˆ†","slug":"æ ‘é“¾å‰–åˆ†","link":"/tags/æ ‘é“¾å‰–åˆ†/"},{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","link":"/tags/çº¿æ®µæ ‘/"},{"name":"åˆ†ç±»è®¨è®º","slug":"åˆ†ç±»è®¨è®º","link":"/tags/åˆ†ç±»è®¨è®º/"},{"name":"çŸ©é˜µå¿«é€Ÿå¹‚","slug":"çŸ©é˜µå¿«é€Ÿå¹‚","link":"/tags/çŸ©é˜µå¿«é€Ÿå¹‚/"},{"name":"å®åŸŸäºŒåˆ†","slug":"å®åŸŸäºŒåˆ†","link":"/tags/å®åŸŸäºŒåˆ†/"},{"name":"dfs","slug":"dfs","link":"/tags/dfs/"},{"name":"æ ‘ä¸Šå·®åˆ†","slug":"æ ‘ä¸Šå·®åˆ†","link":"/tags/æ ‘ä¸Šå·®åˆ†/"},{"name":"ç»„åˆè®¡æ•°","slug":"ç»„åˆè®¡æ•°","link":"/tags/ç»„åˆè®¡æ•°/"},{"name":"æ ‘çš„ç›´å¾„","slug":"æ ‘çš„ç›´å¾„","link":"/tags/æ ‘çš„ç›´å¾„/"},{"name":"æ ‘ä¸Šdp","slug":"æ ‘ä¸Šdp","link":"/tags/æ ‘ä¸Šdp/"},{"name":"ä¼ é€’é—­åŒ…","slug":"ä¼ é€’é—­åŒ…","link":"/tags/ä¼ é€’é—­åŒ…/"},{"name":"æ‹“æ‰‘æ’åº","slug":"æ‹“æ‰‘æ’åº","link":"/tags/æ‹“æ‰‘æ’åº/"},{"name":"åšå¼ˆè®º","slug":"åšå¼ˆè®º","link":"/tags/åšå¼ˆè®º/"},{"name":"Nimåšå¼ˆ","slug":"Nimåšå¼ˆ","link":"/tags/Nimåšå¼ˆ/"},{"name":"çæ","slug":"çæ","link":"/tags/çæ/"},{"name":"py3","slug":"py3","link":"/tags/py3/"},{"name":"å¤šé¡¹å¼","slug":"å¤šé¡¹å¼","link":"/tags/å¤šé¡¹å¼/"},{"name":"FFT","slug":"FFT","link":"/tags/FFT/"},{"name":"ToDoList","slug":"ToDoList","link":"/tags/ToDoList/"},{"name":"Trie","slug":"Trie","link":"/tags/Trie/"},{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","link":"/tags/ä½è¿ç®—/"},{"name":"çŠ¶å‹","slug":"çŠ¶å‹","link":"/tags/çŠ¶å‹/"},{"name":"æ€ç»´é¢˜","slug":"æ€ç»´é¢˜","link":"/tags/æ€ç»´é¢˜/"},{"name":"æœ€çŸ­è·¯","slug":"æœ€çŸ­è·¯","link":"/tags/æœ€çŸ­è·¯/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","link":"/tags/æŠ€æœ¯/"},{"name":"Hash","slug":"Hash","link":"/tags/Hash/"},{"name":"æ—¶é—´å¤æ‚åº¦åˆ†æ","slug":"æ—¶é—´å¤æ‚åº¦åˆ†æ","link":"/tags/æ—¶é—´å¤æ‚åº¦åˆ†æ/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","link":"/tags/æ•°æ®ç»“æ„/"},{"name":"exgcd","slug":"exgcd","link":"/tags/exgcd/"},{"name":"æ•°è®º","slug":"æ•°è®º","link":"/tags/æ•°è®º/"},{"name":"ç»„åˆæ•°å­¦","slug":"ç»„åˆæ•°å­¦","link":"/tags/ç»„åˆæ•°å­¦/"},{"name":"ç¦»æ•£æ•°å­¦","slug":"ç¦»æ•£æ•°å­¦","link":"/tags/ç¦»æ•£æ•°å­¦/"},{"name":"çŸ©é˜µ","slug":"çŸ©é˜µ","link":"/tags/çŸ©é˜µ/"},{"name":"Kruskal","slug":"Kruskal","link":"/tags/Kruskal/"},{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","link":"/tags/å‰ç¼€å’Œ/"},{"name":"å·®åˆ†","slug":"å·®åˆ†","link":"/tags/å·®åˆ†/"},{"name":"æ¦‚ç‡æœŸæœ›DP","slug":"æ¦‚ç‡æœŸæœ›DP","link":"/tags/æ¦‚ç‡æœŸæœ›DP/"},{"name":"æŠ€å·§","slug":"æŠ€å·§","link":"/tags/æŠ€å·§/"},{"name":"è£´èœ€å®šç†","slug":"è£´èœ€å®šç†","link":"/tags/è£´èœ€å®šç†/"},{"name":"å­¦ä¹ æŠ¥å‘Š","slug":"å­¦ä¹ æŠ¥å‘Š","link":"/tags/å­¦ä¹ æŠ¥å‘Š/"},{"name":"ç»„åˆæ•°é€’æ¨","slug":"ç»„åˆæ•°é€’æ¨","link":"/tags/ç»„åˆæ•°é€’æ¨/"},{"name":"LCT","slug":"LCT","link":"/tags/LCT/"}],"categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","link":"/categories/è§£é¢˜æŠ¥å‘Š/"},{"name":"æ¸¸è®°","slug":"æ¸¸è®°","link":"/categories/æ¸¸è®°/"},{"name":"å­¦ä¹ æŠ¥å‘Š","slug":"å­¦ä¹ æŠ¥å‘Š","link":"/categories/å­¦ä¹ æŠ¥å‘Š/"},{"name":"ç½®é¡¶","slug":"ç½®é¡¶","link":"/categories/ç½®é¡¶/"},{"name":"å†™ç€van","slug":"å†™ç€van","link":"/categories/å†™ç€van/"}]}